<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªá sinh th√°i ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp</title>
    <!-- T·∫£i Tailwind CSS ƒë·ªÉ t·∫°o giao di·ªán nhanh ch√≥ng -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i icon (Heroicons) -->
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        /* ƒê·ªãnh nghƒ©a m√†u s·∫Øc DISC trong CSS ƒë·ªÉ d·ªÖ t√°i s·ª≠ d·ª•ng v·ªõi Tailwind */
        :root {
            --tw-disc-d: #ef4444; /* red-500 */
            --tw-disc-i: #3b82f6; /* blue-500 */
            --tw-disc-s: #10b981; /* green-500 */
            --tw-disc-c: #f59e0b; /* amber-500 */
            /* M√†u Holland */
            --tw-holland-r: #b91c1c; /* red-700 */
            --tw-holland-i: #3b82f6; /* blue-500 */
            --tw-holland-a: #a855f7; /* purple-500 */
            --tw-holland-s: #10b981; /* green-500 */
            --tw-holland-e: #f97316; /* orange-500 */
            --tw-holland-c: #4b5563; /* gray-600 */
            /* M√†u MBTI */
            --tw-mbti-e: #fcd34d; /* amber-300 */
            --tw-mbti-i: #34d399; /* emerald-400 */
            --tw-mbti-s: #60a5fa; /* blue-400 */
            --tw-mbti-n: #a78bfa; /* violet-400 */
            --tw-mbti-t: #f87171; /* red-400 */
            --tw-mbti-f: #f472b6; /* pink-400 */
            --tw-mbti-j: #3b82f6; /* blue-500 */
            --tw-mbti-p: #f59e0b; /* amber-500 */
        }
        .text-disc-d { color: var(--tw-disc-d); }
        .text-disc-i { color: var(--tw-disc-i); }
        .text-disc-s { color: var(--tw-disc-s); }
        .text-disc-c { color: var(--tw-disc-c); }
        .bg-disc-d { background-color: var(--tw-disc-d); }

        /* ·∫®n c√°c trang ban ƒë·∫ßu */
        .page-content {
            display: none;
        }
        .message-bubble {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 20px;
            margin-bottom: 10px;
            word-wrap: break-word;
        }
        .user-message {
            background-color: #3b82f6;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 4px;
        }
        .ai-message {
            background-color: #e5e7eb;
            color: #1f2937;
            align-self: flex-start;
            border-bottom-left-radius: 4px;
        }
        .page-bg-gradient {
            background: linear-gradient(135deg, #e0f2fe 0%, #d1fae5 100%);
        }
        .chat-container {
            height: calc(100vh - 200px);
            min-height: 500px;
        }
        /* Style cho Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 800px;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            transition: color 0.2s;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #333;
            text-decoration: none;
            cursor: pointer;
        }
        /* Typing indicator styles */
        .typing-indicator span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #9ca3af;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

        /* --- STYLES FOR EXAM LIBRARY (THI TH·ª¨) --- */
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
        }
        .input-score {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.5rem;
            background-color: #f9fafb;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .input-score:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.25);
        }
        .btn-test-hub {
            font-weight: 700;
            padding: 0.75rem 1rem;
            border-radius: 0.75rem;
            transition: all 0.3s;
            color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transform: translateY(0);
        }
        .btn-test-hub:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        .btn-indigo { background-color: #4f46e5; }
        .btn-indigo:hover { background-color: #4338ca; }
        .btn-blue { background-color: #2563eb; }
        .btn-blue:hover { background-color: #1d4ed8; }
        .btn-green { background-color: #16a34a; }
        .btn-green:hover { background-color: #15803d; }

        /* CSS CHO TAB MINIGAME */
        .game-tab-btn {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: #6b7280; /* gray-500 */
            border-bottom: 3px solid transparent;
            cursor: pointer;
        }
        .game-tab-btn.active, .game-tab-btn:hover {
            color: #4f46e5; /* indigo-600 */
            border-bottom-color: #4f46e5;
        }
        .game-tab-content {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }


        @media (max-width: 640px) {
            .modal-content {
                margin: 20px auto;
                width: 95%;
            }
            .chat-container {
                 min-height: 400px;
            }
        }

        /* Transition cho thanh ti·∫øn tr√¨nh k·∫øt qu·∫£ */
        .progress-bar-transition {
            transition: width 1s ease-out;
        }

      /* ·∫®n li√™n k·∫øt Ki·ªÉm tra API Gemini tr√™n m·ªçi thi·∫øt b·ªã */
      a[onclick*="api-test"] {
        display: none !important;
      }
      
        /* CSS TH√äM CHO TAB H·ªåC B·ªîNG V√Ä TUY·ªÇN SINH */
        /* L·ªõp active cho tab (t·ª´ file HOC BONG) */
        #scholarship-page .tab-active {
            border-bottom-color: #3B82F6; /* blue-500 */
            color: #3B82F6;
            font-weight: 600;
        }
         /* Th√™m class cho c√°c tab h·ªçc b·ªïng (ƒë·ªÉ JS ho·∫°t ƒë·ªông) */
        #scholarship-page .tab-button {
             border-color: transparent; /* S·ª≠a l·ªói c√∫ ph√°p */
             color: #6b7280; /* gray-500 */
             padding-top: 1rem; /* py-4 */
             padding-bottom: 1rem; /* py-4 */
             padding-left: 0.25rem; /* px-1 */
             padding-right: 0.25rem; /* px-1 */
             border-bottom-width: 2px;
             font-weight: 500; /* medium */
             font-size: 0.875rem; /* sm */
        }
        #scholarship-page .tab-button:hover {
            color: #4b5563; /* gray-700 */
            border-bottom-color: #d1d5db; /* gray-300 */
        }

        /* L·ªõp t√πy ch·ªânh cho tab ƒëang ƒë∆∞·ª£c ch·ªçn (t·ª´ file TUYEN SINH) */
        #admissions-page .tab-active {
            border-bottom-width: 3px;
            border-color: #3B82F6; /* blue-600 */
            color: #3B82F6;
        }
        /* Th√™m class cho c√°c tab tuy·ªÉn sinh (ƒë·ªÉ JS ho·∫°t ƒë·ªông) */
        #admissions-page .tab-button {
             width: 25%; /* w-1/4 */
             padding-top: 1rem; /* py-4 */
             padding-bottom: 1rem; /* py-4 */
             padding-left: 1rem; /* px-4 */
             padding-right: 1rem; /* px-4 */
             text-align: center;
             font-weight: 500; /* medium */
             font-size: 0.875rem; /* sm */
             cursor: pointer;
        }
         #admissions-page .tab-button:focus {
             outline: none;
         }
         @media (min-width: 768px) { /* md: */
            #admissions-page .tab-button {
                 width: auto;
                 padding-left: 1.5rem; /* md:px-6 */
                 padding-right: 1.5rem; /* md:px-6 */
                 font-size: 1rem; /* md:text-base */
            }
         }


    </style>
</head>
<body class="flex flex-col min-h-screen">
    <!-- Thanh ƒëi·ªÅu h∆∞·ªõng -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-6 py-3 flex justify-between items-center flex-wrap">
            <a href="#" class="text-2xl font-bold text-gray-800" onclick="showPage('home')">
                <span class="text-indigo-600">H∆∞·ªõng</span>Nghi·ªáp
            </a>
            <!-- Menu cho Desktop -->
            <div class="hidden md:flex space-x-4">
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('home')">Trang ch·ªß</a>
                <!-- Updated to quiz-hub -->
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('quiz-hub')">M·∫≠t m√£ c√° nh√¢n</a>
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('search')">Tra c·ª©u AI</a>
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('advice')">T√¢m s·ª± & L·ªùi khuy√™n</a>
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('inspo')">Truy·ªÅn c·∫£m h·ª©ng</a>
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('survey')">G√≥p √Ω & Kh·∫£o s√°t</a>
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('admissions')">Tuy·ªÉn sinh</a>
                <a href="#" class="text-gray-800 hover:text-indigo-600 font-medium transition duration-150" onclick="showPage('social-media')">C·ªông ƒë·ªìng</a>
                <!-- NEW API Test Link -->
                <a href="#" class="text-gray-800 hover:text-purple-600 font-medium transition duration-150" onclick="showPage('api-test')">Ki·ªÉm tra API Gemini</a>
            </div>
              <!-- Menu cho Mobile (ƒë∆°n gi·∫£n h√≥a) -->
              <div id="mobile-menu-btn" class="md:hidden text-gray-800 cursor-pointer text-xl" onclick="toggleMobileMenu()">‚ò∞</div>
        </div>
        <!-- Menu Mobile m·ªü r·ªông -->
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-3 space-y-2 bg-gray-50 border-t border-gray-200">
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('home'); toggleMobileMenu();">Trang ch·ªß</a>
            <!-- Updated to quiz-hub -->
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('quiz-hub'); toggleMobileMenu();">M·∫≠t m√£ c√° nh√¢n</a>
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('search'); toggleMobileMenu();">Tra c·ª©u AI</a>
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('advice'); toggleMobileMenu();">T√¢m s·ª± & L·ªùi khuy√™n</a>
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('inspo'); toggleMobileMenu();">Truy·ªÅn c·∫£m h·ª©ng</a>
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('survey'); toggleMobileMenu();">G√≥p √Ω & Kh·∫£o s√°t</a>
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('admissions'); toggleMobileMenu();">Tuy·ªÉn sinh</a>
            <a href="#" class="block text-gray-800 hover:text-indigo-600 font-medium transition duration-150 py-1" onclick="showPage('social-media'); toggleMobileMenu();">C·ªông ƒë·ªìng</a>
            <!-- NEW API Test Link -->
            <a href="#" class="block text-gray-800 hover:text-purple-600 font-medium transition duration-150 py-1" onclick="showPage('api-test'); toggleMobileMenu();">Ki·ªÉm tra API Gemini</a>
        </div>
    </nav>

    <!-- C√°c trang n·ªôi dung -->
    <main class="flex-grow container mx-auto px-6 py-12">
        <!-- Trang ch·ªß -->
        <section id="home-page" class="page-content">
            <section class="text-center py-20 page-bg-gradient rounded-3xl shadow-xl">
                <h1 class="text-5xl font-extrabold text-gray-900 mb-4">
                    T√¨m ki·∫øm con ƒë∆∞·ªùng s·ª± nghi·ªáp c·ªßa b·∫°n
                </h1>
                <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
                    Kh√°m ph√° b·∫£n th√¢n, ƒë·ªãnh h∆∞·ªõng t∆∞∆°ng lai v√† l·ª±a ch·ªçn ng√†nh ngh·ªÅ ph√π h·ª£p nh·∫•t v·ªõi nƒÉng l·ª±c v√† s·ªü th√≠ch c·ªßa b·∫°n.
                </p>
                <div class="flex justify-center space-x-4">
                    <!-- Updated to quiz-hub -->
                    <button class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105" onclick="showPage('quiz-hub')">
                        B·∫Øt ƒë·∫ßu ngay
                    </button>
                </div>
            </section>
            <!-- C√°c th·∫ª t√≠nh nƒÉng -->
            <section class="py-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Th·∫ª 1: Tr·∫Øc nghi·ªám t√≠nh c√°ch (Updated OnClick to quiz-hub) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-indigo-600 mb-4 text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 mx-auto" viewBox="0 0 20 20" fill="currentColor">
                           <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" />
                           <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">M·∫≠t m√£ c√° nh√¢n</h3>
                    <p class="text-gray-600 text-center">Hi·ªÉu r√µ ƒëi·ªÉm m·∫°nh, ƒëi·ªÉm y·∫øu v√† s·ªü th√≠ch c·ªßa b·∫£n th√¢n ƒë·ªÉ ƒë∆∞a ra quy·∫øt ƒë·ªãnh ƒë√∫ng ƒë·∫Øn.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('quiz-hub')">Kh√°m ph√° ngay &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 2: Tra c·ª©u ng√†nh ngh·ªÅ (Updated Icon) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-indigo-600 mb-4 text-center">
                         <svg xmlns="http://www.w3.org/2000/svg" class="w-16 h-16 mx-auto" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">Tra c·ª©u ng√†nh ngh·ªÅ AI</h3>
                    <p class="text-gray-600 text-center">S·ª≠ d·ª•ng AI ƒë·ªÉ t√¨m hi·ªÉu chi ti·∫øt v·ªÅ c√°c ng√†nh h·ªçc, c∆° h·ªôi vi·ªác l√†m v√† th·ªã tr∆∞·ªùng lao ƒë·ªông.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('search')">B·∫Øt ƒë·∫ßu tra c·ª©u &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 3: T√¢m s·ª± & L·ªùi khuy√™n -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-green-600 mb-4 text-center">üí°</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">G√≥c T√¢m s·ª± & L·ªùi khuy√™n</h3>
                    <p class="text-gray-600 text-center">Nh·∫≠n s·ª± ƒë·ªìng c·∫£m v√† t∆∞ v·∫•n ch√¢n th√†nh t·ª´ AI ƒë·ªÉ gi·∫£i quy·∫øt nh·ªØng bƒÉn khoƒÉn trong cu·ªôc s·ªëng.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('advice')">Nh·∫≠n l·ªùi khuy√™n &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 4: G√≥c Truy·ªÅn c·∫£m h·ª©ng -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-red-600 mb-4 text-center">‚≠ê</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">G√≥c Truy·ªÅn c·∫£m h·ª©ng</h3>
                    <p class="text-gray-600 text-center">ƒê·ªçc c√°c c√¢u chuy·ªán c√≥ th·∫≠t v·ªÅ nh·ªØng ng∆∞·ªùi ƒë√£ th√†nh c√¥ng trong s·ª± nghi·ªáp c·ªßa h·ªç.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('inspo')">Kh√°m ph√° &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 5: Th√¥ng tin tuy·ªÉn sinh -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-indigo-600 mb-4 text-center">üì£</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">Th√¥ng tin tuy·ªÉn sinh</h3>
                    <p class="text-gray-600 text-center">C·∫≠p nh·∫≠t tin t·ª©c m·ªõi nh·∫•t v·ªÅ c√°c k·ª≥ thi, ph∆∞∆°ng th·ª©c x√©t tuy·ªÉn v√† h·ªçc b·ªïng.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('admissions')">Xem chi ti·∫øt &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 6: G√≥p √Ω & Kh·∫£o s√°t -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-purple-600 mb-4 text-center">üìù</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">G√≥p √Ω & Kh·∫£o s√°t</h3>
                    <p class="text-gray-600 text-center">ƒê√≥ng g√≥p √Ω ki·∫øn v√† tham gia kh·∫£o s√°t ƒë·ªÉ gi√∫p ch√∫ng t√¥i c·∫£i thi·ªán h·ªá th·ªëng.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('survey')">ƒê√≥ng g√≥p ngay &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 7: M·∫°ng x√£ h·ªôi -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2">
                    <div class="text-5xl text-indigo-600 mb-4 text-center">üí¨</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">C·ªông ƒë·ªìng</h3>
                    <p class="text-gray-600 text-center">K·∫øt n·ªëi v·ªõi c·ªông ƒë·ªìng, ƒë·∫∑t c√¢u h·ªèi v√† nh·∫≠n l·ªùi khuy√™n t·ª´ c√°c chuy√™n gia.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline" onclick="showPage('social-media')">Tham gia c·ªông ƒë·ªìng &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 8: MINIGAME (ƒê√É THAY TH·∫æ) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer" onclick="showPage('minigame')">
                    <div class="text-5xl text-indigo-600 mb-4 text-center">üéÆ</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">Minigame</h3>
                    <p class="text-gray-600 text-center">Ch∆°i c√°c tr√≤ ch∆°i t∆∞∆°ng t√°c ƒë·ªÉ kh√°m ph√° v√† t√¨m hi·ªÉu v·ªÅ c√°c ng√†nh ngh·ªÅ.</p>
                    <div class="text-center mt-4">
                        <button class="text-indigo-600 font-semibold hover:underline">Ch∆°i ngay &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª 9: Th√¥ng tin H·ªçc b·ªïng (Updated Onclick) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 cursor-pointer" onclick="showPage('scholarship')">
                    <div class="text-5xl text-orange-500 mb-4 text-center">üèÖ</div>
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">Th√¥ng tin H·ªçc b·ªïng</h3>
                    <p class="text-gray-600 text-center">T·ªïng h·ª£p ch∆∞∆°ng tr√¨nh h·ªçc b·ªïng, h·ªó tr·ª£ t√†i ch√≠nh cho sinh vi√™n.</p>
                    <div class="text-center mt-4">
                        <button class="text-orange-600 font-semibold hover:underline">T√¨m ki·∫øm ngay &rarr;</button>
                    </div>
                </div>

            </section>
        </section>

        <!-- Trang Tr·∫Øc nghi·ªám HUB (M·ªõi: Thay th·∫ø n·ªôi dung quiz-page placeholder) -->
        <section id="quiz-hub-page" class="page-content">
             <h1 class="text-4xl font-bold text-center mb-10 text-gray-900">Ch·ªçn B√†i Tr·∫Øc Nghi·ªám Kh√°m Ph√° B·∫£n Th√¢n</h1>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">

                <!-- Th·∫ª DISC -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-8 border-red-500">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">DISC (Phong c√°ch h√†nh vi)</h3>
                    <p class="text-gray-600 text-center text-sm">Hi·ªÉu c√°ch b·∫°n ph·∫£n ·ª©ng v·ªõi v·∫•n ƒë·ªÅ, con ng∆∞·ªùi, t·ªëc ƒë·ªô v√† quy t·∫Øc. (30 C√¢u)</p>
                    <div class="text-center mt-4">
                        <button class="bg-red-500 text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-red-600 transition" onclick="initializeQuiz('disc'); showPage('quiz-disc')">L√†m b√†i ngay &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª Holland (RIASEC) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-8 border-indigo-500">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">Holland (S·ªü th√≠ch ngh·ªÅ nghi·ªáp)</h3>
                    <p class="text-gray-600 text-center text-sm">X√°c ƒë·ªãnh nh√≥m ngh·ªÅ nghi·ªáp ph√π h·ª£p v·ªõi s·ªü th√≠ch c√° nh√¢n (Realistic, Investigative...). (54 C√¢u)</p>
                    <div class="text-center mt-4">
                        <button class="bg-indigo-500 text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-indigo-600 transition" onclick="initializeQuiz('holland'); showPage('quiz-holland')">L√†m b√†i ngay &rarr;</button>
                    </div>
                </div>

                <!-- Th·∫ª MBTI -->
                <div class="bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 border-t-8 border-green-500">
                    <h3 class="text-2xl font-bold text-gray-900 mb-2 text-center">MBTI (T√¢m l√Ω h·ªçc)</h3>
                    <p class="text-gray-600 text-center text-sm">T√¨m ra lo·∫°i h√¨nh t√≠nh c√°ch (nh√≥m 4 ch·ªØ c√°i) v√† c√°ch b·∫°n t∆∞∆°ng t√°c v·ªõi th·∫ø gi·ªõi. (40 C√¢u)</p>
                    <div class="text-center mt-4">
                        <button class="bg-green-500 text-white font-semibold py-2 px-6 rounded-full shadow-lg hover:bg-green-600 transition" onclick="initializeQuiz('mbti'); showPage('quiz-mbti')">L√†m b√†i ngay &rarr;</button>
                    </div>
                </div>

            </div>
        </section>

        <!-- Trang tr·∫Øc nghi·ªám DISC (Gi·ªØ nguy√™n ID) -->
        <section id="quiz-disc-page" class="page-content">
            <div id="disc-quiz-container" class="w-full max-w-4xl mx-auto bg-white shadow-2xl rounded-xl overflow-hidden p-6 md:p-10">
                <!-- Header -->
                <header class="text-center mb-8">
                    <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Tr·∫Øc Nghi·ªám T√≠nh C√°ch <span class="text-disc-i">DISC</span></h1>
                    <p class="text-lg text-gray-500">30 c√¢u h·ªèi - Kh√°m ph√° phong c√°ch h√†nh vi t·ª± nhi√™n c·ªßa b·∫°n</p>
                    <div class="h-1 bg-gradient-to-r from-red-500 via-blue-500 to-amber-500 rounded mt-3"></div>
                </header>

                <!-- Thanh ti·∫øn tr√¨nh t·ªïng th·ªÉ -->
                <div id="disc-overall-progress-container" class="mb-8">
                    <p class="text-sm font-medium text-gray-600 mb-2">Ti·∫øn ƒë·ªô Tr·∫Øc nghi·ªám</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <!-- Thanh t·ªïng th·ªÉ (ch·∫°y t·ª´ 0% ƒë·∫øn 100% khi l√†m b√†i) -->
                        <div id="disc-overall-progress-bar" class="bg-disc-s h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%;"></div>
                    </div>
                </div>

                <!-- Quiz Area (Khu v·ª±c c√¢u h·ªèi) -->
                <div id="disc-quiz-area">
                    <!-- Questions will be dynamically inserted here -->
                </div>

                <!-- Result Area (Khu v·ª±c k·∫øt qu·∫£) -->
                <div id="disc-result-area" class="hidden text-center">
                    <h2 class="text-3xl font-bold mb-4 text-gray-800">üéâ K·∫øt Qu·∫£ T√≠nh C√°ch DISC C·ªßa B·∫°n</h2>
                    <div id="disc-result-profile" class="p-6 md:p-8 rounded-xl shadow-lg border-t-8 border-disc-i bg-white transition-all duration-500">
                        <div id="disc-main-style-display" class="mb-4">
                            <!-- Main style will be inserted here -->
                        </div>

                        <!-- Score Chart -->
                        <div class="grid grid-cols-2 gap-4 text-left mt-6">

                            <!-- D - Dominance -->
                            <div class="flex items-center space-x-3 p-3 bg-red-50 rounded-lg shadow-md">
                                <span class="text-disc-d text-2xl font-bold">D</span>
                                <div class="flex-1">
                                    <div class="flex justify-between items-baseline">
                                        <p class="text-sm font-semibold text-gray-700">Th·ªëng tr·ªã (Dominance)</p>
                                        <span id="disc-score-count-d" class="text-base font-bold text-disc-d">0 / 30</span> <!-- HI·ªÇN TH·ªä ƒêI·ªÇM -->
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <!-- Thanh n√†y s·∫Ω ch·∫°y m∆∞·ª£t m√† khi xem k·∫øt qu·∫£ -->
                                        <div id="disc-score-d" class="h-2.5 rounded-full progress-bar-transition" style="background-color: var(--tw-disc-d); width: 0%;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- I - Influence -->
                            <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg shadow-md">
                                <span class="text-disc-i text-2xl font-bold">I</span>
                                <div class="flex-1">
                                    <div class="flex justify-between items-baseline">
                                        <p class="text-sm font-semibold text-gray-700">·∫¢nh h∆∞·ªüng (Influence)</p>
                                        <span id="disc-score-count-i" class="text-base font-bold text-disc-i">0 / 30</span> <!-- HI·ªÇN TH·ªä ƒêI·ªÇM -->
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <!-- Thanh n√†y s·∫Ω ch·∫°y m∆∞·ª£t m√† khi xem k·∫øt qu·∫£ -->
                                        <div id="disc-score-i" class="h-2.5 rounded-full progress-bar-transition" style="background-color: var(--tw-disc-i); width: 0%;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- S - Steadiness -->
                            <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg shadow-md">
                                <span class="text-disc-s text-2xl font-bold">S</span>
                                <div class="flex-1">
                                    <div class="flex justify-between items-baseline">
                                        <p class="text-sm font-semibold text-gray-700">Ki√™n ƒë·ªãnh (Steadiness)</p>
                                        <span id="disc-score-count-s" class="text-base font-bold text-disc-s">0 / 30</span> <!-- HI·ªÇN TH·ªä ƒêI·ªÇM -->
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <!-- Thanh n√†y s·∫Ω ch·∫°y m∆∞·ª£t m√† khi xem k·∫øt qu·∫£ -->
                                        <div id="disc-score-s" class="h-2.5 rounded-full progress-bar-transition" style="background-color: var(--tw-disc-s); width: 0%;"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- C - Conscientiousness -->
                            <div class="flex items-center space-x-3 p-3 bg-yellow-50 rounded-lg shadow-md">
                                <span class="text-disc-c text-2xl font-bold">C</span>
                                <div class="flex-1">
                                    <div class="flex justify-between items-baseline">
                                        <p class="text-sm font-semibold text-gray-700">Tu√¢n th·ªß (Conscientiousness)</p>
                                        <span id="disc-score-count-c" class="text-base font-bold text-disc-c">0 / 30</span> <!-- HI·ªÇN TH·ªä ƒêI·ªÇM -->
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                                        <!-- Thanh n√†y s·∫Ω ch·∫°y m∆∞·ª£t m√† khi xem k·∫øt qu·∫£ -->
                                        <div id="disc-score-c" class="h-2.5 rounded-full progress-bar-transition" style="background-color: var(--tw-disc-c); width: 0%;"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <p id="disc-result-description" class="mt-6 text-gray-600 leading-relaxed italic"></p>

                        <button onclick="DISCEngine.restartQuiz()" class="mt-8 bg-gray-700 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105 shadow-md">
                            L√†m l·∫°i Tr·∫Øc nghi·ªám
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trang tr·∫Øc nghi·ªám Holland (M·ªõi) -->
        <section id="quiz-holland-page" class="page-content">
            <div id="holland-quiz-container" class="w-full max-w-4xl mx-auto bg-white shadow-2xl rounded-xl overflow-hidden p-6 md:p-10">
                <!-- Header -->
                <header class="text-center mb-8">
                    <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Tr·∫Øc Nghi·ªám S·ªü Th√≠ch Ngh·ªÅ Nghi·ªáp <span class="text-indigo-600">Holland (RIASEC)</span></h1>
                    <p class="text-lg text-gray-500">54 c√¢u h·ªèi - Kh√°m ph√° nh√≥m ngh·ªÅ nghi·ªáp ph√π h·ª£p v·ªõi s·ªü th√≠ch c·ªßa b·∫°n.</p>
                    <div class="h-1 bg-gradient-to-r from-red-700 via-purple-500 to-gray-600 rounded mt-3"></div>
                </header>

                <!-- Thanh ti·∫øn tr√¨nh t·ªïng th·ªÉ -->
                <div id="holland-overall-progress-container" class="mb-8">
                    <p class="text-sm font-medium text-gray-600 mb-2">Ti·∫øn ƒë·ªô Tr·∫Øc nghi·ªám</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="holland-overall-progress-bar" class="bg-indigo-500 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%;"></div>
                    </div>
                </div>

                <!-- Quiz Area (Khu v·ª±c c√¢u h·ªèi) -->
                <div id="holland-quiz-area">
                    <!-- Questions will be dynamically inserted here -->
                </div>

                <!-- Result Area (Khu v·ª±c k·∫øt qu·∫£) -->
                <div id="holland-result-area" class="hidden text-center">
                    <h2 class="text-3xl font-bold mb-4 text-gray-800">üéâ K·∫øt Qu·∫£ M√£ Holland (RIASEC) C·ªßa B·∫°n</h2>
                    <div id="holland-result-profile" class="p-6 md:p-8 rounded-xl shadow-lg border-t-8 border-indigo-500 bg-white transition-all duration-500">
                        <div id="holland-main-style-display" class="mb-4">
                            <!-- Main style will be inserted here -->
                        </div>

                        <!-- Score Chart -->
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-left mt-6" id="holland-score-chart">
                            <!-- Holland Scores will be dynamically inserted here -->
                        </div>

                        <p id="holland-result-description" class="mt-6 text-gray-600 leading-relaxed italic"></p>

                        <button onclick="HollandEngine.restartQuiz()" class="mt-8 bg-gray-700 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105 shadow-md">
                            L√†m l·∫°i Tr·∫Øc nghi·ªám
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trang tr·∫Øc nghi·ªám MBTI (M·ªõi) -->
        <section id="quiz-mbti-page" class="page-content">
            <div id="mbti-quiz-container" class="w-full max-w-4xl mx-auto bg-white shadow-2xl rounded-xl overflow-hidden p-6 md:p-10">
                <!-- Header -->
                <header class="text-center mb-8">
                    <h1 class="text-4xl font-extrabold text-gray-900 mb-2">Tr·∫Øc Nghi·ªám T√≠nh C√°ch <span class="text-green-600">MBTI</span></h1>
                    <p class="text-lg text-gray-500">40 c√¢u h·ªèi - Kh√°m ph√° 4 c·∫∑p ƒë·ªëi l·∫≠p ch√≠nh trong t√≠nh c√°ch c·ªßa b·∫°n.</p>
                    <div class="h-1 bg-gradient-to-r from-green-500 via-blue-500 to-pink-400 rounded mt-3"></div>
                </header>

                <!-- Thanh ti·∫øn tr√¨nh t·ªïng th·ªÉ -->
                <div id="mbti-overall-progress-container" class="mb-8">
                    <p class="text-sm font-medium text-gray-600 mb-2">Ti·∫øn ƒë·ªô Tr·∫Øc nghi·ªám</p>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div id="mbti-overall-progress-bar" class="bg-green-500 h-2.5 rounded-full transition-all duration-500 ease-out" style="width: 0%;"></div>
                    </div>
                </div>

                <!-- Quiz Area (Khu v·ª±c c√¢u h·ªèi) -->
                <div id="mbti-quiz-area">
                    <!-- Questions will be dynamically inserted here -->
                </div>

                <!-- Result Area (Khu v·ª±c k·∫øt qu·∫£) -->
                <div id="mbti-result-area" class="hidden text-center">
                    <h2 class="text-3xl font-bold mb-4 text-gray-800">üéâ K·∫øt Qu·∫£ T√≠nh C√°ch MBTI C·ªßa B·∫°n</h2>
                    <div id="mbti-result-profile" class="p-6 md:p-8 rounded-xl shadow-lg border-t-8 border-green-500 bg-white transition-all duration-500">
                        <div id="mbti-main-style-display" class="mb-4">
                            <!-- Main style will be inserted here -->
                        </div>
                        <p id="mbti-result-description" class="mt-6 text-gray-600 leading-relaxed italic"></p>
                        <button onclick="MBTIEngine.restartQuiz()" class="mt-8 bg-gray-700 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-lg transition duration-300 transform hover:scale-105 shadow-md">
                            L√†m l·∫°i Tr·∫Øc nghi·ªám
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trang tra c·ª©u ng√†nh ngh·ªÅ (Chatbot AI) -->
        <section id="search-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-8 text-gray-900">H·ªèi ƒë√°p Ng√†nh ngh·ªÅ c√πng AI (C√≥ tr√≠ch d·∫´n ngu·ªìn)</h1>
            <div class="bg-white p-8 rounded-3xl shadow-xl flex flex-col chat-container">
                <div id="chat-history" class="flex-grow overflow-y-auto p-4 mb-4 flex flex-col space-y-4 rounded-xl border border-gray-200 bg-gray-50">
                    <!-- L·ªãch s·ª≠ chat s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
                </div>
                <div class="flex items-center space-x-4">
                    <input type="text" id="search-user-input" placeholder="B·∫°n mu·ªën h·ªèi v·ªÅ ng√†nh ngh·ªÅ g√¨?" class="flex-grow p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500" disabled>
                    <button id="search-send-btn" class="bg-indigo-600 text-white font-bold p-3 rounded-full shadow-lg hover:bg-indigo-700 transition duration-300 disabled:opacity-50" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                            <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.917H3.75a.75.75 0 00-.75.75v6.75a.75.75 0 001.085.67L17.25 4.75l-13.772-2.345Z" />
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Trang T√¢m s·ª± & L·ªùi khuy√™n (Chatbot T∆∞ v·∫•n) -->
        <section id="advice-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-8 text-gray-900">G√≥c T√¢m s·ª± & L·ªùi khuy√™n Cu·ªôc s·ªëng (AI ƒë·ªìng c·∫£m)</h1>
            <div class="bg-white p-8 rounded-3xl shadow-xl flex flex-col chat-container">
                <div id="advice-chat-history" class="flex-grow overflow-y-auto p-4 mb-4 flex flex-col space-y-4 rounded-xl border border-gray-200 bg-gray-50">
                    <!-- L·ªãch s·ª≠ chat s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã t·∫°i ƒë√¢y -->
                </div>
                <div class="flex items-center space-x-4">
                    <input type="text" id="advice-user-input" placeholder="B·∫°n ƒëang c·∫£m th·∫•y th·∫ø n√†o? H√£y chia s·∫ª nh√©." class="flex-grow p-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500" disabled>
                    <button id="advice-send-btn" class="bg-green-600 text-white font-bold p-3 rounded-full shadow-lg hover:bg-green-700 transition duration-300 disabled:opacity-50" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
                            <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.917H3.75a.75.75 0 00-.75.75v6.75a.75.75 0 001.085.67L17.25 4.75l-13.772-2.345Z" />
                        </svg>
                    </button>
                </div>
            </div>
        </section>

        <!-- Trang Truy·ªÅn c·∫£m h·ª©ng (ƒê√É C·∫¨P NH·∫¨T) -->
        <section id="inspo-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-10 text-gray-900">G√≥c Truy·ªÅn c·∫£m h·ª©ng: Nh·ªØng C√¢u Chuy·ªán Th·∫≠t</h1>
            <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">
                Kh√°m ph√° h√†nh tr√¨nh ƒë·∫ßy n·ªó l·ª±c, th·∫•t b·∫°i v√† th√†nh c√¥ng c·ªßa nh·ªØng con ng∆∞·ªùi ƒë√£ t√¨m th·∫•y v√† ki√™n tr√¨ v·ªõi con ƒë∆∞·ªùng c·ªßa m√¨nh.
            </p>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- C√¢u chuy·ªán 1 (M·ªöI) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl border-l-4 border-blue-500">
                    <h3 class="text-2xl font-bold text-blue-700 mb-3">Nguy·ªÖn Huy·ªÅn Ch√¢u: Chuy·ªán trao ƒëi nh·ªØng c∆° h·ªôi</h3>
                    <p class="text-sm text-gray-500 mb-4">Lƒ©nh v·ª±c: Ho·∫°t ƒë·ªông x√£ h·ªôi, Doanh nghi·ªáp</p>
                    <p class="text-gray-700 mb-4">
                        Nguy·ªÖn Huy·ªÅn Ch√¢u th∆∞·ªùng ƒë∆∞·ª£c nh·∫Øc t·ªõi nh∆∞ c√¥ g√°i ng∆∞·ªùi Vi·ªát d∆∞·ªõi 30 tu·ªïi ƒë·∫ßu ti√™n ƒë∆∞·ª£c m·ªùi tham d·ª± Di·ªÖn ƒë√†n Kinh t·∫ø th·∫ø gi·ªõi Davos. H√†nh tr√¨nh n√†y b·∫Øt ƒë·∫ßu t·ª´ khi c√¥ 19 tu·ªïi, bi·∫øt r·∫±ng: m√¨nh ho√†n to√†n c√≥ th·ªÉ l√†m nh·ªØng g√¨ m√¨nh th√≠ch, c·ª© th·ª≠, sai, v√† l√†m l·∫°i...
                    </p>
                    <!-- Make sure showStoryModal is accessible globally -->
                    <button class="text-indigo-600 font-semibold hover:underline" onclick="window.showStoryModal('chau')">ƒê·ªçc to√†n b·ªô c√¢u chuy·ªán &rarr;</button>
                </div>

                <!-- C√¢u chuy·ªán 2 (M·ªöI) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl border-l-4 border-green-500">
                    <h3 class="text-2xl font-bold text-green-700 mb-3">ƒê·∫∑ng L√™ Nguy√™n V≈©: C√¢u chuy·ªán vua cafe</h3>
                    <p class="text-sm text-gray-500 mb-4">Lƒ©nh v·ª±c: Kh·ªüi nghi·ªáp, F&B</p>
                    <p class="text-gray-700 mb-4">
                        33 tu·ªïi, √¥ng ƒë√£ t·∫°o ra m·ªôt ƒë·∫ø ch·∫ø c√† ph√™ danh ti·∫øng. L√† ch√†ng sinh vi√™n Y khoa nh∆∞ng √¥ng l·∫°i lu√¥n nung n·∫•u ∆∞·ªõc m∆° kinh doanh, mong mu·ªën n√¢ng t·∫ßm h·∫°t c√† ph√™ Vi·ªát Nam tr√™n th·ªã tr∆∞·ªùng th·∫ø gi·ªõi...
                    </p>
                     <!-- Make sure showStoryModal is accessible globally -->
                    <button class="text-indigo-600 font-semibold hover:underline" onclick="window.showStoryModal('vu')">ƒê·ªçc to√†n b·ªô c√¢u chuy·ªán &rarr;</button>
                </div>

                <!-- C√¢u chuy·ªán 3 (M·ªöI) -->
                <div class="bg-white p-8 rounded-3xl shadow-xl border-l-4 border-red-500 lg:col-span-2">
                    <h3 class="text-2xl font-bold text-red-700 mb-3">Harland Sanders: Huy·ªÅn tho·∫°i KFC ·ªü tu·ªïi 66</h3>
                    <p class="text-sm text-gray-500 mb-4">Lƒ©nh v·ª±c: Kh·ªüi nghi·ªáp, F&B</p>
                    <p class="text-gray-700 mb-4">
                        Tr·∫£i qua m·ªôt cu·ªôc ƒë·ªùi c·ª±c nh·ªçc, ·ªü tu·ªïi 66, Harland Sanders quy·∫øt t√¢m t·∫°o ra c√¥ng th·ª©c g√† r√°n c·ªßa ri√™ng m√¨nh. √îng ƒë√£ ƒëi t·ª´ng nh√† ƒë·ªÉ thuy·∫øt ph·ª•c v√† b·ªã t·ª´ ch·ªëi 1009 l·∫ßn tr∆∞·ªõc khi th√†nh c√¥ng...
                    </p>
                     <!-- Make sure showStoryModal is accessible globally -->
                    <button class="text-indigo-600 font-semibold hover:underline" onclick="window.showStoryModal('sanders')">ƒê·ªçc to√†n b·ªô c√¢u chuy·ªán &rarr;</button>
                </div>
            </div>
        </section>

        <!-- Trang Kh·∫£o s√°t & G√≥p √Ω -->
        <section id="survey-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-8 text-gray-900">G√≥p √Ω & Kh·∫£o s√°t Ng∆∞·ªùi d√πng</h1>
            <div class="bg-white p-8 rounded-3xl shadow-xl h-[80vh] min-h-[600px] flex flex-col">
                <p class="text-center text-gray-600 mb-4">
                    √ù ki·∫øn c·ªßa b·∫°n l√† v√¥ c√πng quan tr·ªçng ƒë·ªÉ ch√∫ng t√¥i c·∫£i thi·ªán h·ªá sinh th√°i ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp n√†y. Xin c·∫£m ∆°n b·∫°n ƒë√£ d√†nh th·ªùi gian!
                </p>
                <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScPlm_y_VS_fiVGtQBC_2auIino13tKOrEDB0DtWKqgagRXSQ/viewform?usp=embed_facebook"
                        width="100%"
                        height="100%"
                        frameborder="0"
                        marginheight="0"
                        marginwidth="0"
                        class="rounded-2xl border border-gray-300 flex-grow"
                        title="Form Kh·∫£o s√°t">
                    ƒêang t·∫£i form kh·∫£o s√°t...
                </iframe>
            </div>
        </section>

        <!-- Trang tuy·ªÉn sinh (ƒê√É C·∫¨P NH·∫¨T T·ª™ FILE) -->
        <section id="admissions-page" class="page-content">
            <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-xl overflow-hidden">
        
                <!-- Ti√™u ƒë·ªÅ ch√≠nh -->
                <header class="bg-gradient-to-r from-blue-600 to-blue-800 p-6 shadow-md">
                    <h1 class="text-2xl md:text-3xl font-bold text-white text-center">
                        TUY·ªÇN SINH
                    </h1>
                    <p class="text-center text-blue-100 text-sm md:text-base mt-2">
                        T·ªïng h·ª£p c√°c ph∆∞∆°ng th·ª©c x√©t tuy·ªÉn ph·ªï bi·∫øn hi·ªán nay
                    </p>
                </header>
        
                <!-- V√πng ch·ª©a c√°c tab -->
                <div>
                    <!-- C√°c n√∫t b·∫•m chuy·ªÉn tab -->
                    <!-- Th√™m overflow-x-auto ƒë·ªÉ cu·ªôn ngang tr√™n di ƒë·ªông -->
                    <div class="border-b border-gray-200 overflow-x-auto whitespace-nowrap">
                        <nav class="flex -mb-px" aria-label="Tabs">
                            <!-- N√∫t Tab 1: Thi THPT (m·∫∑c ƒë·ªãnh active) -->
                            <button class="admissions-tab-button tab-button tab-active" data-tab="tab-thpt">
                                Thi T·ªët Nghi·ªáp THPT
                            </button>
                            
                            <!-- N√∫t Tab 2: H·ªçc b·∫° -->
                            <button class="admissions-tab-button tab-button text-gray-600 hover:text-blue-600" data-tab="tab-hocba">
                                X√©t H·ªçc B·∫°
                            </button>
                            
                            <!-- N√∫t Tab 3: ƒêGNL -->
                            <button class="admissions-tab-button tab-button text-gray-600 hover:text-blue-600" data-tab="tab-dgnl">
                                Thi ƒêGNL / ƒêGTD
                            </button>
                            
                            <!-- N√∫t Tab 4: Tuy·ªÉn th·∫≥ng -->
                            <button class="admissions-tab-button tab-button text-gray-600 hover:text-blue-600" data-tab="tab-tuyenthang">
                                Tuy·ªÉn Th·∫≥ng & ∆Øu Ti√™n
                            </button>
                        </nav>
                    </div>
        
                    <!-- N·ªôi dung c√°c tab -->
                    <div class="p-6 md:p-8">
                        
                        <!-- N·ªôi dung Tab 1: Thi THPT (m·∫∑c ƒë·ªãnh hi·ªÉn th·ªã) -->
                        <div id="tab-thpt" class="admissions-tab-panel tab-panel space-y-4">
                            <h2 class="text-2xl font-semibold text-blue-700">X√©t ƒêi·ªÉm Thi T·ªët Nghi·ªáp THPT</h2>
                            
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">1. Gi·ªõi thi·ªáu chung v·ªÅ k·ª≥ thi</h3>
                            <ul class="list-none space-y-2 text-gray-700">
                                <li><strong>T√™n k·ª≥ thi:</strong> K·ª≥ thi T·ªët nghi·ªáp Trung h·ªçc ph·ªï th√¥ng (THPT).</li>
                                <li><strong>B·∫£n ch·∫•t:</strong> ƒê√¢y l√† k·ª≥ thi "2 trong 1", ph·ª•c v·ª• hai m·ª•c ƒë√≠ch ch√≠nh:
                                    <ul class="list-disc list-inside ml-6 mt-1">
                                        <li>C√¥ng nh·∫≠n t·ªët nghi·ªáp THPT cho h·ªçc sinh.</li>
                                        <li>L√†m cƒÉn c·ª© ƒë·ªÉ c√°c tr∆∞·ªùng ƒê·∫°i h·ªçc, Cao ƒë·∫≥ng s·ª≠ d·ª•ng x√©t tuy·ªÉn sinh vi√™n.</li>
                                    </ul>
                                </li>
                                <li><strong>ƒêi·ªÉm m·ªëc 2025:</strong> ƒê√¢y l√† nƒÉm ƒë·∫ßu ti√™n k·ª≥ thi ƒë∆∞·ª£c t·ªï ch·ª©c cho h·ªçc sinh theo h·ªçc Ch∆∞∆°ng tr√¨nh Gi√°o d·ª•c ph·ªï th√¥ng 2018. Do ƒë√≥, c·∫•u tr√∫c m√¥n thi c√≥ s·ª± thay ƒë·ªïi cƒÉn b·∫£n.</li>
                                <li><strong>ƒê∆°n v·ªã t·ªï ch·ª©c:</strong> B·ªô Gi√°o d·ª•c v√† ƒê√†o t·∫°o (B·ªô GD&ƒêT) t·ªï ch·ª©c thi v√† x√©t tuy·ªÉn t·∫≠p trung, c√¥ng khai, minh b·∫°ch tr√™n h·ªá th·ªëng chung.</li>
                            </ul>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">2. C√°ch th·ª©c thi (√Åp d·ª•ng t·ª´ 2025)</h3>
                            <p class="text-gray-700 leading-relaxed">
                                K·ª≥ thi T·ªët nghi·ªáp THPT 2025 c√≥ s·ª± thay ƒë·ªïi l·ªõn v·ªÅ s·ªë l∆∞·ª£ng v√† c∆° c·∫•u m√¥n thi, theo ph∆∞∆°ng √°n 2+2. Th√≠ sinh s·∫Ω thi t·ªïng c·ªông 4 m√¥n, thay v√¨ 5-6 m√¥n nh∆∞ c√°c nƒÉm tr∆∞·ªõc.
                            </p>
                            
                            <h4 class="text-lg font-semibold text-gray-700">2 m√¥n B·∫Øt bu·ªôc:</h4>
                            <ul class="list-disc list-inside ml-6 text-gray-700">
                                <li>To√°n</li>
                                <li>Ng·ªØ vƒÉn</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">2 m√¥n T·ª± ch·ªçn:</h4>
                            <p class="text-gray-700 leading-relaxed">Th√≠ sinh ƒë∆∞·ª£c ch·ªçn 2 trong s·ªë 9 m√¥n sau (ƒë√¢y l√† c√°c m√¥n h·ªçc sinh ƒë√£ h·ªçc ·ªü L·ªõp 12):</p>
                            <ul class="list-disc list-inside ml-6 text-gray-700 grid grid-cols-2 md:grid-cols-3 gap-x-4">
                                <li>Ngo·∫°i ng·ªØ</li>
                                <li>L·ªãch s·ª≠</li>
                                <li>ƒê·ªãa l√Ω</li>
                                <li>V·∫≠t l√Ω</li>
                                <li>H√≥a h·ªçc</li>
                                <li>Sinh h·ªçc</li>
                                <li>Gi√°o d·ª•c kinh t·∫ø v√† ph√°p lu·∫≠t</li>
                                <li>Tin h·ªçc</li>
                                <li>C√¥ng ngh·ªá (2 ph√¢n m√¥n)</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">Chi·∫øn l∆∞·ª£c ch·ªçn m√¥n thi:</h4>
                            <p class="text-gray-700 leading-relaxed">
                                Vi·ªác ch·ªçn 2 m√¥n t·ª± ch·ªçn l√† c·ª±c k·ª≥ quan tr·ªçng. Th√≠ sinh ph·∫£i ch·ªçn m√¥n thi d·ª±a tr√™n ƒë·ªãnh h∆∞·ªõng ng√†nh ngh·ªÅ v√† t·ªï h·ª£p x√©t tuy·ªÉn m√† c√°c tr∆∞·ªùng ƒê·∫°i h·ªçc c√¥ng b·ªë.
                            </p>
                            <p class="text-gray-700 leading-relaxed bg-gray-50 p-3 rounded-lg border border-gray-200">
                                <strong>V√≠ d·ª•:</strong> N·∫øu mu·ªën x√©t tuy·ªÉn v√†o ng√†nh K·ªπ thu·∫≠t m√°y t√≠nh (th∆∞·ªùng x√©t t·ªï h·ª£p To√°n, L√Ω, H√≥a ho·∫∑c To√°n, L√Ω, Anh), th√≠ sinh b·∫Øt bu·ªôc ph·∫£i thi <strong>To√°n</strong> (b·∫Øt bu·ªôc) v√† ch·ªçn 2 m√¥n t·ª± ch·ªçn l√† <strong>V·∫≠t l√Ω</strong> v√† <strong>H√≥a h·ªçc</strong> (ho·∫∑c <strong>V·∫≠t l√Ω</strong> v√† <strong>Ti·∫øng Anh</strong>).
                            </p>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">3. ƒêi·ªÉm x√©t tuy·ªÉn ƒê·∫°i h·ªçc</h3>
                            <p class="text-gray-700 leading-relaxed">C√°c tr∆∞·ªùng ƒê·∫°i h·ªçc s·∫Ω t·ª± c√¥ng b·ªë t·ªï h·ª£p x√©t tuy·ªÉn (th∆∞·ªùng l√† 3 ho·∫∑c 4 m√¥n) cho t·ª´ng ng√†nh h·ªçc.</p>
        
                            <h4 class="text-lg font-semibold text-gray-700">a. T·ªï h·ª£p x√©t tuy·ªÉn</h4>
                            <ul class="list-disc list-inside ml-6 space-y-2 text-gray-700">
                                <li>Do c√°ch th·ª©c thi 2+2, c√°c t·ªï h·ª£p x√©t tuy·ªÉn 2025 s·∫Ω linh ho·∫°t h∆°n.</li>
                                <li><strong>Xu h∆∞·ªõng:</strong> C√°c tr∆∞·ªùng d·ª± ki·∫øn v·∫´n ∆∞u ti√™n c√°c t·ªï h·ª£p truy·ªÅn th·ªëng (To√°n-L√Ω-H√≥a, To√°n-H√≥a-Sinh, To√°n-VƒÉn-Anh...) nh∆∞ng s·∫Ω b·ªï sung nhi·ªÅu t·ªï h·ª£p m·ªõi ƒë·ªÉ ph√π h·ª£p (v√≠ d·ª•: To√°n-L√Ω-Tin, To√°n-VƒÉn-Gi√°o d·ª•c KT&PL...).</li>
                                <li>Th√≠ sinh ph·∫£i tra c·ª©u <strong>ƒê·ªÅ √°n tuy·ªÉn sinh 2025</strong> c·ªßa tr∆∞·ªùng ƒë·ªÉ bi·∫øt ch√≠nh x√°c ng√†nh m√¨nh mu·ªën v√†o x√©t tuy·ªÉn nh·ªØng t·ªï h·ª£p n√†o.</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">b. C√¥ng th·ª©c t√≠nh ƒêi·ªÉm x√©t tuy·ªÉn (ƒêXT)</h4>
                            <p class="text-gray-700 leading-relaxed">C√¥ng th·ª©c chung c∆° b·∫£n (cho thang ƒëi·ªÉm 30):</p>
                            <code class="block bg-gray-100 p-3 rounded-md text-gray-800 text-sm overflow-x-auto">ƒêXT = T·ªïng ƒëi·ªÉm c√°c m√¥n trong t·ªï h·ª£p + ƒêi·ªÉm ∆∞u ti√™n (n·∫øu c√≥)</code>
                            <p class="text-gray-700 leading-relaxed mt-2"><strong>Nh√¢n h·ªá s·ªë m√¥n ch√≠nh:</strong> M·ªôt s·ªë ng√†nh (nh∆∞ S∆∞ ph·∫°m Ngo·∫°i ng·ªØ, Ng√¥n ng·ªØ Anh...) c√≥ th·ªÉ nh√¢n h·ªá s·ªë 2 m√¥n ch√≠nh. V√≠ d·ª•:</p>
                            <ul class="list-disc list-inside ml-6 space-y-2 text-gray-700">
                                <li>Quy v·ªÅ thang 30: <code class="text-sm">ƒêXT = [(ƒêi·ªÉm M√¥n ch√≠nh * 2 + M√¥n 2 + M√¥n 3) * 3/4] + ƒêi·ªÉm ∆∞u ti√™n</code></li>
                                <li>ƒê·ªÉ thang 40: <code class="text-sm">ƒêXT = (ƒêi·ªÉm M√¥n ch√≠nh * 2) + M√¥n 2 + M√¥n 3 + ƒêi·ªÉm ∆∞u ti√™n (quy ƒë·ªïi)</code></li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">c. ƒêi·ªÉm ∆∞u ti√™n</h4>
                            <p class="text-gray-700 leading-relaxed">ƒêi·ªÉm ∆∞u ti√™n ƒë∆∞·ª£c gi·ªØ ·ªïn ƒë·ªãnh, bao g·ªìm:</p>
                            <ul class="list-disc list-inside ml-6 space-y-2 text-gray-700">
                                <li><strong>∆Øu ti√™n theo ƒë·ªëi t∆∞·ª£ng</strong> (VD: con th∆∞∆°ng binh, d√¢n t·ªôc thi·ªÉu s·ªë...): M·ª©c 1.0 ho·∫∑c 2.0 ƒëi·ªÉm.</li>
                                <li><strong>∆Øu ti√™n theo khu v·ª±c</strong> (N∆°i h·ªçc THPT):
                                    <ul class="list-circle list-inside ml-8 mt-1">
                                        <li>Khu v·ª±c 1 (KV1 - v√πng s√¢u, xa, ƒë·∫∑c bi·ªát kh√≥ khƒÉn): +0.75 ƒëi·ªÉm.</li>
                                        <li>Khu v·ª±c 2 N√¥ng th√¥n (KV2-NT): +0.5 ƒëi·ªÉm.</li>
                                        <li>Khu v·ª±c 2 (KV2 - th·ªã x√£, TP tr·ª±c thu·ªôc t·ªânh): +0.25 ƒëi·ªÉm.</li>
                                        <li>Khu v·ª±c 3 (KV3 - qu·∫≠n n·ªôi th√†nh TP tr·ª±c thu·ªôc TW): 0 ƒëi·ªÉm.</li>
                                    </ul>
                                </li>
                            </ul>
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg">
                                <p class="font-semibold text-yellow-800">L∆∞u √Ω (√Åp d·ª•ng t·ª´ 2023):</p>
                                <p class="text-yellow-700">Th√≠ sinh c√≥ t·ªïng ƒëi·ªÉm thi (ch∆∞a c·ªông ∆∞u ti√™n) t·ª´ <strong>22.5 ƒëi·ªÉm</strong> tr·ªü l√™n (thang 30) th√¨ ƒëi·ªÉm ∆∞u ti√™n s·∫Ω b·ªã <strong>gi·∫£m tuy·∫øn t√≠nh</strong> theo c√¥ng th·ª©c c·ªßa B·ªô. N·∫øu ƒë·∫°t 30 ƒëi·ªÉm, ƒëi·ªÉm ∆∞u ti√™n b·∫±ng 0.</p>
                            </div>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">4. L∆∞u √Ω quan tr·ªçng nh·∫•t cho 2025</h3>
                            <ul class="list-decimal list-inside space-y-3 text-gray-700">
                                <li>
                                    <strong>Tra c·ª©u ƒê·ªÅ √°n tuy·ªÉn sinh 2025:</strong>
                                    <p class="ml-6">ƒê√¢y l√† vi·ªác quan tr·ªçng nh·∫•t. Th√≠ sinh ph·∫£i v√†o website c·ªßa c√°c tr∆∞·ªùng ƒê·∫°i h·ªçc m√¨nh nh·∫Øm t·ªõi ƒë·ªÉ xem ch√≠nh x√°c:</p>
                                    <ul class="list-disc list-inside ml-10 mt-1">
                                        <li>Ng√†nh ƒë√≥ x√©t tuy·ªÉn nh·ªØng t·ªï h·ª£p m√¥n n√†o?</li>
                                        <li>C√≥ ti√™u ch√≠ ph·ª• hay m√¥n nh√¢n h·ªá s·ªë kh√¥ng?</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Ch·ªçn m√¥n t·ª± ch·ªçn chi·∫øn l∆∞·ª£c:</strong>
                                    <p class="ml-6">Vi·ªác ch·ªçn 2 m√¥n thi t·ª± ch·ªçn (·ªü B∆∞·ªõc 2) quy·∫øt ƒë·ªãnh tr·ª±c ti·∫øp b·∫°n c√≥ th·ªÉ n·ªôp h·ªì s∆° v√†o nh·ªØng ng√†nh n√†o. Ph·∫£i ch·ªçn m√¥n d·ª±a tr√™n t·ªï h·ª£p x√©t tuy·ªÉn (·ªü B∆∞·ªõc 1).</p>
                                </li>
                                <li>
                                    <strong>ƒêƒÉng k√Ω nguy·ªán v·ªçng (NV):</strong>
                                    <ul class="list-disc list-inside ml-10 mt-1">
                                        <li>Th√≠ sinh ƒëƒÉng k√Ω x√©t tuy·ªÉn tr·ª±c tuy·∫øn tr√™n h·ªá th·ªëng chung c·ªßa B·ªô GD&ƒêT (sau khi ƒë√£ c√≥ ƒëi·ªÉm thi).</li>
                                        <li>ƒê∆∞·ª£c ƒëƒÉng k√Ω kh√¥ng gi·ªõi h·∫°n s·ªë l∆∞·ª£ng nguy·ªán v·ªçng.</li>
                                        <li>C√°c nguy·ªán v·ªçng ph·∫£i ƒë∆∞·ª£c s·∫Øp x·∫øp theo th·ª© t·ª± ∆∞u ti√™n t·ª´ 1 ƒë·∫øn h·∫øt.</li>
                                    </ul>
                                </li>
                                <li>
                                    <strong>Quy t·∫Øc l·ªçc ·∫£o:</strong>
                                    <p class="ml-6">H·ªá th·ªëng c·ªßa B·ªô s·∫Ω ch·∫°y l·ªçc ·∫£o. Th√≠ sinh s·∫Ω ch·ªâ tr√∫ng tuy·ªÉn v√†o m·ªôt nguy·ªán v·ªçng duy nh·∫•t - l√† nguy·ªán v·ªçng cao nh·∫•t m√† th√≠ sinh ƒë·ªß ƒëi·ªÉm. (N·∫øu ƒë√£ tr√∫ng NV1, s·∫Ω kh√¥ng x√©t NV2, NV3...).</p>
                                </li>
                            </ul>
                        </div>
        
                        <!-- N·ªôi dung Tab 2: H·ªçc b·∫° (m·∫∑c ƒë·ªãnh ·∫©n) -->
                        <div id="tab-hocba" class="admissions-tab-panel tab-panel hidden space-y-4">
                            <h2 class="text-2xl font-semibold text-blue-700">X√©t Tuy·ªÉn B·∫±ng H·ªçc B·∫° THPT</h2>
                            
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">1. Gi·ªõi thi·ªáu chung v·ªÅ ph∆∞∆°ng th·ª©c</h3>
                            <ul class="list-none space-y-2 text-gray-700">
                                <li><strong>B·∫£n ch·∫•t:</strong> L√† ph∆∞∆°ng th·ª©c c√°c tr∆∞·ªùng ƒê·∫°i h·ªçc (ƒêH) s·ª≠ d·ª•ng k·∫øt qu·∫£ h·ªçc t·∫≠p (ƒëi·ªÉm t·ªïng k·∫øt c√°c m√¥n, ƒëi·ªÉm trung b√¨nh c√°c h·ªçc k·ª≥) ƒë∆∞·ª£c ghi trong h·ªçc b·∫° THPT ƒë·ªÉ l√†m cƒÉn c·ª© x√©t tuy·ªÉn.</li>
                                <li><strong>M·ª•c ƒë√≠ch:</strong>
                                    <ul class="list-disc list-inside ml-6 mt-1">
                                        <li>Gi·∫£m √°p l·ª±c thi c·ª≠ cho th√≠ sinh.</li>
                                        <li>Gi√∫p c√°c tr∆∞·ªùng ƒêH ch·ªß ƒë·ªông tuy·ªÉn sinh s·ªõm, thu h√∫t th√≠ sinh c√≥ qu√° tr√¨nh h·ªçc t·∫≠p ·ªïn ƒë·ªãnh, t·ªët.</li>
                                        <li>ƒêa d·∫°ng h√≥a ph∆∞∆°ng th·ª©c tuy·ªÉn sinh.</li>
                                    </ul>
                                </li>
                                <li><strong>T√°c ƒë·ªông c·ªßa 2025:</strong> D√π x√©t h·ªçc b·∫° kh√¥ng ph·ª• thu·ªôc v√†o k·ª≥ thi T·ªët nghi·ªáp 2025, nh∆∞ng nƒÉm 2025 l√† l·ª©a h·ªçc sinh ƒë·∫ßu ti√™n t·ªët nghi·ªáp theo Ch∆∞∆°ng tr√¨nh Gi√°o d·ª•c ph·ªï th√¥ng 2018. Do ƒë√≥, c√°c tr∆∞·ªùng ƒêH s·∫Ω ƒëi·ªÅu ch·ªânh c√°c t·ªï h·ª£p m√¥n x√©t h·ªçc b·∫° ƒë·ªÉ bao g·ªìm c√°c m√¥n h·ªçc m·ªõi (nh∆∞ Tin h·ªçc, Gi√°o d·ª•c KT&PL...).</li>
                            </ul>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">2. C√°ch th·ª©c x√©t tuy·ªÉn (Kh√¥ng thi)</h3>
                            <p class="text-gray-700 leading-relaxed">
                                Ph∆∞∆°ng th·ª©c n√†y kh√¥ng s·ª≠ d·ª•ng ƒëi·ªÉm thi T·ªët nghi·ªáp. M·ªói tr∆∞·ªùng ƒêH s·∫Ω c√¥ng b·ªë ƒê·ªÅ √°n tuy·ªÉn sinh ri√™ng, trong ƒë√≥ quy ƒë·ªãnh r√µ c√°ch th·ª©c x√©t h·ªçc b·∫°. C√≥ m·ªôt s·ªë h√¨nh th·ª©c ph·ªï bi·∫øn sau:
                            </p>
                            <h4 class="text-lg font-semibold text-gray-700">X√©t theo t·ªï h·ª£p 3 m√¥n:</h4>
                            <ul class="list-disc list-inside ml-6 text-gray-700">
                                <li>C√°c tr∆∞·ªùng quy ƒë·ªãnh c√°c t·ªï h·ª£p m√¥n (t∆∞∆°ng t·ª± t·ªï h·ª£p x√©t thi T·ªët nghi·ªáp, v√≠ d·ª•: To√°n-L√Ω-H√≥a, To√°n-VƒÉn-Anh...).</li>
                                <li>Tr∆∞·ªùng s·∫Ω x√©t d·ª±a tr√™n ƒëi·ªÉm trung b√¨nh c·ªßa 3 m√¥n ƒë√≥ trong 1 h·ªçc k·ª≥ (VD: HK1 l·ªõp 12), 2 h·ªçc k·ª≥ (VD: c·∫£ nƒÉm l·ªõp 12), ho·∫∑c 3-5 h·ªçc k·ª≥.</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">X√©t theo t·ªïng ƒëi·ªÉm trung b√¨nh nhi·ªÅu h·ªçc k·ª≥:</h4>
                            <ul class="list-disc list-inside ml-6 text-gray-700">
                                <li><strong>Ph·ªï bi·∫øn nh·∫•t (X√©t 5 h·ªçc k·ª≥):</strong> T·ªïng ƒëi·ªÉm trung b√¨nh c·ªßa 2 h·ªçc k·ª≥ l·ªõp 10, 2 h·ªçc k·ª≥ l·ªõp 11, v√† h·ªçc k·ª≥ 1 l·ªõp 12.</li>
                                <li><strong>X√©t 3 h·ªçc k·ª≥:</strong> T·ªïng ƒëi·ªÉm trung b√¨nh c·ªßa l·ªõp 11 v√† h·ªçc k·ª≥ 1 l·ªõp 12.</li>
                                <li><strong>X√©t 6 h·ªçc k·ª≥:</strong> T·ªïng ƒëi·ªÉm trung b√¨nh c·ªßa c·∫£ 3 nƒÉm THPT.</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">Quy tr√¨nh chung (th∆∞·ªùng g·ªçi l√† "X√©t tuy·ªÉn s·ªõm"):</h4>
                            <ul class="list-decimal list-inside ml-6 text-gray-700">
                                <li><strong>Theo d√µi ƒê·ªÅ √°n tuy·ªÉn sinh:</strong> Th√≠ sinh t√¨m hi·ªÉu k·ªπ website c·ªßa tr∆∞·ªùng ƒêH m√¨nh mu·ªën v√†o ƒë·ªÉ xem: ƒëi·ªÅu ki·ªán, th·ªùi gian, t·ªï h·ª£p m√¥n, c√°ch t√≠nh ƒëi·ªÉm.</li>
                                <li><strong>ƒêƒÉng k√Ω tr·ª±c tuy·∫øn:</strong> Th√≠ sinh ƒëƒÉng k√Ω x√©t tuy·ªÉn tr√™n h·ªá th·ªëng ri√™ng c·ªßa tr∆∞·ªùng ƒêH ƒë√≥ (th∆∞·ªùng m·ªü t·ª´ th√°ng 3 - th√°ng 6).</li>
                                <li><strong>N·ªôp h·ªì s∆°:</strong> N·ªôp c√°c gi·∫•y t·ªù theo y√™u c·∫ßu (b·∫£n photo c√¥ng ch·ª©ng h·ªçc b·∫°, gi·∫•y t·ªù ∆∞u ti√™n...).</li>
                                <li><strong>Nh·∫≠n k·∫øt qu·∫£:</strong> C√°c tr∆∞·ªùng ƒêH c√¥ng b·ªë "K·∫øt qu·∫£ tr√∫ng tuy·ªÉn c√≥ ƒëi·ªÅu ki·ªán" (th∆∞·ªùng tr∆∞·ªõc khi thi T·ªët nghi·ªáp THPT).</li>
                            </ul>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">3. ƒêi·ªÉm x√©t tuy·ªÉn (ƒêXT)</h3>
                            <h4 class="text-lg font-semibold text-gray-700">a. Ng∆∞·ª°ng ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng (ƒêi·ªÉm s√†n)</h4>
                            <ul class="list-disc list-inside ml-6 space-y-2 text-gray-700">
                                <li>H·∫ßu h·∫øt c√°c tr∆∞·ªùng ƒë·ªÅu y√™u c·∫ßu th√≠ sinh ph·∫£i c√≥ h·ªçc l·ª±c Kh√° ho·∫∑c Gi·ªèi (VD: ƒëi·ªÉm trung b√¨nh chung t·ª´ 6.5 tr·ªü l√™n).</li>
                                <li><strong>ƒê·∫∑c bi·ªát:</strong> V·ªõi c√°c ng√†nh Y D∆∞·ª£c, S∆∞ ph·∫°m, B·ªô GD&ƒêT quy ƒë·ªãnh ƒëi·ªÉm s√†n ri√™ng (th∆∞·ªùng l√† h·ªçc l·ª±c Gi·ªèi).</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">b. C√°ch t√≠nh ƒêXT</h4>
                            <p class="text-gray-700 leading-relaxed">T√πy theo tr∆∞·ªùng c√¥ng b·ªë. V√≠ d·ª•:</p>
                            <code class="block bg-gray-100 p-3 rounded-md text-gray-800 text-sm overflow-x-auto"><strong>V√≠ d·ª• 1 (X√©t 3 m√¥n):</strong> ƒêXT = (ƒêi·ªÉm TB m√¥n 1) + (ƒêi·ªÉm TB m√¥n 2) + (ƒêi·ªÉm TB m√¥n 3) + ƒêi·ªÉm ∆∞u ti√™n (n·∫øu c√≥)</code>
                            <code class="block bg-gray-100 p-3 rounded-md text-gray-800 text-sm overflow-x-auto mt-2"><strong>V√≠ d·ª• 2 (X√©t 5 h·ªçc k·ª≥):</strong> ƒêXT = (ƒêTB HK1 L10 + ... + ƒêTB HK1 L12) / 5 + ƒêi·ªÉm ∆∞u ti√™n (n·∫øu c√≥)</code>
        
                            <h4 class="text-lg font-semibold text-gray-700">c. ƒêi·ªÉm ∆∞u ti√™n</h4>
                            <ul class="list-disc list-inside ml-6 space-y-2 text-gray-700">
                                <li>C√°c tr∆∞·ªùng ƒêH th∆∞·ªùng √°p d·ª•ng ƒëi·ªÉm ∆∞u ti√™n khu v·ª±c v√† ƒë·ªëi t∆∞·ª£ng t∆∞∆°ng t·ª± nh∆∞ quy ƒë·ªãnh c·ªßa B·ªô GD&ƒêT.</li>
                                <li>Ch√≠nh s√°ch gi·∫£m ƒëi·ªÉm ∆∞u ti√™n (khi th√≠ sinh ƒë·∫°t t·ª´ 22.5 ƒëi·ªÉm tr·ªü l√™n) v·∫´n ƒë∆∞·ª£c √°p d·ª•ng ƒë·ªÉ ƒë·∫£m b·∫£o c√¥ng b·∫±ng.</li>
                            </ul>
                            
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">4. L∆∞u √Ω quan tr·ªçng nh·∫•t</h3>
                            
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg space-y-2">
                                <p class="font-semibold text-yellow-800">"Tr√∫ng tuy·ªÉn s·ªõm" KH√îNG PH·∫¢I l√† tr√∫ng tuy·ªÉn ch√≠nh th·ª©c:</p>
                                <p class="text-yellow-700">Khi nh·∫≠n k·∫øt qu·∫£ "Tr√∫ng tuy·ªÉn c√≥ ƒëi·ªÅu ki·ªán" t·ª´ c√°c tr∆∞·ªùng, th√≠ sinh v·∫´n <strong>B·∫ÆT BU·ªòC ph·∫£i T·ªët nghi·ªáp THPT</strong>.</p>
                            </div>
        
                            <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg space-y-2">
                                <p class="font-semibold text-red-800">B·∫ÆT BU·ªòC ƒêƒÉng k√Ω nguy·ªán v·ªçng l√™n H·ªá th·ªëng chung:</p>
                                <p class="text-red-700">Sau khi bi·∫øt m√¨nh ƒë√£ tr√∫ng tuy·ªÉn s·ªõm, th√≠ sinh V·∫™N PH·∫¢I ƒëƒÉng k√Ω nguy·ªán v·ªçng ƒë√≥ l√™n h·ªá th·ªëng ƒëƒÉng k√Ω x√©t tuy·ªÉn chung c·ªßa B·ªô GD&ƒêT. N·∫øu th·ª±c s·ª± mu·ªën nh·∫≠p h·ªçc, <strong>ph·∫£i ƒë·∫∑t nguy·ªán v·ªçng ƒë√≥ l√† Nguy·ªán v·ªçng 1</strong>. N·∫øu kh√¥ng ƒëƒÉng k√Ω, th√≠ sinh s·∫Ω m·∫•t quy·ªÅn nh·∫≠p h·ªçc b·∫±ng h·ªçc b·∫°.</p>
                            </div>
        
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li><strong>M·ªói tr∆∞·ªùng m·ªôt quy ƒë·ªãnh:</strong> Kh√¥ng c√≥ quy chu·∫©n chung 100%. Th√≠ sinh ph·∫£i t·ª± m√¨nh tra c·ª©u ƒê·ªÅ √°n tuy·ªÉn sinh c·ªßa t·ª´ng tr∆∞·ªùng ƒë·ªÉ bi·∫øt th·ªùi gian, c√°ch th·ª©c n·ªôp h·ªì s∆°, c√°ch t√≠nh ƒëi·ªÉm.</li>
                                <li><strong>C·∫≠p nh·∫≠t 2025:</strong> C√°c t·ªï h·ª£p x√©t h·ªçc b·∫° s·∫Ω thay ƒë·ªïi. C√°c tr∆∞·ªùng s·∫Ω b·ªï sung c√°c m√¥n h·ªçc c·ªßa ch∆∞∆°ng tr√¨nh 2018 (Tin h·ªçc, C√¥ng ngh·ªá, Gi√°o d·ª•c KT&PL...). Th√≠ sinh c·∫ßn ki·ªÉm tra k·ªπ xem h·ªçc b·∫° c·ªßa m√¨nh c√≥ l·ª£i th·∫ø v·ªõi c√°c t·ªï h·ª£p m·ªõi n√†y kh√¥ng.</li>
                                <li><strong>C·∫°nh tranh cao:</strong> Nh·ªØng nƒÉm g·∫ßn ƒë√¢y, ƒëi·ªÉm chu·∫©n h·ªçc b·∫° c·ªßa c√°c tr∆∞·ªùng "top" r·∫•t cao (th∆∞·ªùng 28-30 ƒëi·ªÉm) do ch·ªâ ti√™u √≠t v√† nhi·ªÅu th√≠ sinh c√≥ h·ªçc b·∫° ƒë·∫πp.</li>
                            </ul>
                        </div>
                        
                        <!-- N·ªôi dung Tab 3: ƒêGNL (m·∫∑c ƒë·ªãnh ·∫©n) -->
                        <div id="tab-dgnl" class="admissions-tab-panel tab-panel hidden space-y-4">
                            <h2 class="text-2xl font-semibold text-blue-700">X√©t ƒêi·ªÉm Thi ƒêGNL / ƒêGTD</h2>
                            
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">1. Gi·ªõi thi·ªáu chung v·ªÅ ph∆∞∆°ng th·ª©c</h3>
                            <ul class="list-none space-y-2 text-gray-700">
                                <li><strong>B·∫£n ch·∫•t:</strong> L√† ph∆∞∆°ng th·ª©c c√°c tr∆∞·ªùng ƒêH s·ª≠ d·ª•ng ƒëi·ªÉm c·ªßa m·ªôt k·ª≥ thi ri√™ng (do ch√≠nh h·ªç ho·∫∑c m·ªôt c·ª•m tr∆∞·ªùng t·ªï ch·ª©c) ƒë·ªÉ x√©t tuy·ªÉn. C√°c b√†i thi n√†y th∆∞·ªùng ki·ªÉm tra nƒÉng l·ª±c t·ªïng h·ª£p nh∆∞: t∆∞ duy logic, kh·∫£ nƒÉng ƒë·ªçc hi·ªÉu, ph√¢n t√≠ch s·ªë li·ªáu, v√† gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ, thay v√¨ ch·ªâ t·∫≠p trung v√†o ki·∫øn th·ª©c c√°c m√¥n h·ªçc c·ª• th·ªÉ.</li>
                                <li><strong>M·ª•c ƒë√≠ch:</strong>
                                    <ul class="list-disc list-inside ml-6 mt-1">
                                        <li>Tuy·ªÉn ch·ªçn ƒë∆∞·ª£c th√≠ sinh c√≥ nƒÉng l·ª±c, t∆∞ duy ph√π h·ª£p v·ªõi ƒë·∫∑c th√π ƒë√†o t·∫°o c·ªßa tr∆∞·ªùng (v√≠ d·ª•: ƒêGTD c·ªßa ƒêH B√°ch khoa H√† N·ªôi ∆∞u ti√™n t∆∞ duy K·ªπ thu·∫≠t).</li>
                                        <li>ƒêa d·∫°ng h√≥a ngu·ªìn tuy·ªÉn, gi·∫£m ph·ª• thu·ªôc v√†o m·ªôt k·ª≥ thi THPT duy nh·∫•t.</li>
                                        <li>Gi√∫p c√°c tr∆∞·ªùng ƒêH ch·ªß ƒë·ªông ho√†n to√†n trong vi·ªác tuy·ªÉn sinh.</li>
                                    </ul>
                                </li>
                                <li><strong>T√°c ƒë·ªông c·ªßa 2025:</strong> C√°c k·ª≥ thi ƒêGNL/ƒêGTD v·ªën ƒë√£ ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ƒë·ªôc l·∫≠p v·ªõi ch∆∞∆°ng tr√¨nh h·ªçc THPT c·ª• th·ªÉ, m√† t·∫≠p trung v√†o nƒÉng l·ª±c. Do ƒë√≥, ch√∫ng ho√†n to√†n t∆∞∆°ng th√≠ch v√† l√† xu h∆∞·ªõng ph√°t tri·ªÉn m·∫°nh m·∫Ω song song v·ªõi Ch∆∞∆°ng tr√¨nh Gi√°o d·ª•c ph·ªï th√¥ng 2018 (l·ª©a h·ªçc sinh 2025).</li>
                            </ul>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">2. C√°ch th·ª©c thi (T·ªïng quan 4 k·ª≥ thi l·ªõn)</h3>
                            <p class="text-gray-700 leading-relaxed">
                                Th√≠ sinh mu·ªën s·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c n√†y ph·∫£i ch·ªß ƒë·ªông ƒëƒÉng k√Ω tham gia c√°c k·ª≥ thi ri√™ng do c√°c tr∆∞·ªùng ƒêH t·ªï ch·ª©c. D∆∞·ªõi ƒë√¢y l√† th√¥ng tin v·ªÅ 4 k·ª≥ thi l·ªõn nh·∫•t:
                            </p>
        
                            <h4 class="text-lg font-semibold text-gray-700">a. K·ª≥ thi ƒêGNL c·ªßa ƒê·∫°i h·ªçc Qu·ªëc gia TP.HCM (VNU-HCMC)</h4>
                            <ul class="list-disc list-inside ml-6 space-y-1 text-gray-700">
                                <li><strong>C·∫•u tr√∫c b√†i thi:</strong> M·ªôt b√†i thi duy nh·∫•t, 120 c√¢u h·ªèi tr·∫Øc nghi·ªám trong 150 ph√∫t.</li>
                                <li><strong>N·ªôi dung:</strong> ƒê√°nh gi√° nƒÉng l·ª±c to√†n di·ªán (S·ª≠ d·ª•ng ng√¥n ng·ªØ; To√°n h·ªçc, T∆∞ duy logic, Ph√¢n t√≠ch s·ªë li·ªáu; Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ).</li>
                                <li><strong>Thang ƒëi·ªÉm:</strong> 1.200 ƒëi·ªÉm.</li>
                                <li><strong>ƒê·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng:</strong> R·ªông r√£i nh·∫•t, h∆°n 80 tr∆∞·ªùng ƒêH tr√™n c·∫£ n∆∞·ªõc s·ª≠ d·ª•ng.</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">b. K·ª≥ thi ƒêGNL c·ªßa ƒê·∫°i h·ªçc Qu·ªëc gia H√† N·ªôi (VNU-Hanoi / HSA)</h4>
                            <ul class="list-disc list-inside ml-6 space-y-1 text-gray-700">
                                <li><strong>C·∫•u tr√∫c b√†i thi:</strong> Thi tr√™n m√°y t√≠nh, t·ªïng th·ªùi gian 195 - 199 ph√∫t.</li>
                                <li><strong>N·ªôi dung:</strong> 3 ph·∫ßn (T∆∞ duy ƒë·ªãnh l∆∞·ª£ng - To√°n; T∆∞ duy ƒë·ªãnh t√≠nh - VƒÉn, Ng√¥n ng·ªØ; Khoa h·ªçc - T·ª± ch·ªçn KHTN ho·∫∑c KHXH).</li>
                                <li><strong>Thang ƒëi·ªÉm:</strong> 150 ƒëi·ªÉm.</li>
                                <li><strong>ƒê·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng:</strong> C√°c tr∆∞·ªùng th√†nh vi√™n ƒêHQG-HN v√† h√†ng ch·ª•c tr∆∞·ªùng ƒêH kh√°c (ch·ªß y·∫øu ph√≠a B·∫Øc).</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">c. K·ª≥ thi ƒêGTD c·ªßa ƒê·∫°i h·ªçc B√°ch khoa H√† N·ªôi (HUST / TSA)</h4>
                            <ul class="list-disc list-inside ml-6 space-y-1 text-gray-700">
                                <li><strong>C·∫•u tr√∫c b√†i thi:</strong> 3 ph·∫ßn (T∆∞ duy To√°n h·ªçc - 60 ph√∫t; T∆∞ duy ƒê·ªçc hi·ªÉu - 30 ph√∫t; T∆∞ duy Khoa h·ªçc/Gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ - 60 ph√∫t).</li>
                                <li><strong>Ph·∫ßn 3 (T·ª± ch·ªçn):</strong> Th√≠ sinh ƒë∆∞·ª£c ch·ªçn 1 trong 3 n·ªôi dung (L√Ω-H√≥a; H√≥a-Sinh; L√Ω-S·ª≠...) t√πy theo ng√†nh ƒëƒÉng k√Ω.</li>
                                <li><strong>Thang ƒëi·ªÉm:</strong> 100 ƒëi·ªÉm.</li>
                                <li><strong>ƒê·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng:</strong> ƒêH B√°ch khoa H√† N·ªôi v√† kho·∫£ng 30-40 tr∆∞·ªùng ƒêH kh·ªëi k·ªπ thu·∫≠t, kinh t·∫ø.</li>
                            </ul>
        
                            <h4 class="text-lg font-semibold text-gray-700">d. K·ª≥ thi V-SAT</h4>
                            <ul class="list-disc list-inside ml-6 space-y-1 text-gray-700">
                                <li><strong>ƒê∆°n v·ªã t·ªï ch·ª©c:</strong> M·∫°ng l∆∞·ªõi c√°c tr∆∞·ªùng ƒêH (ƒêH B√°ch khoa H√† N·ªôi, ƒêH Giao th√¥ng V·∫≠n t·∫£i, ƒêH S∆∞ ph·∫°m K·ªπ thu·∫≠t Vinh...).</li>
                                <li><strong>C·∫•u tr√∫c b√†i thi:</strong> Thi theo m√¥-ƒëun, th√≠ sinh linh ho·∫°t ch·ªçn m√¥n thi (To√°n, Ti·∫øng Anh, KHTN ho·∫∑c KHXH).</li>
                                <li><strong>ƒê·ªëi t∆∞·ª£ng s·ª≠ d·ª•ng:</strong> C√°c tr∆∞·ªùng trong m·∫°ng l∆∞·ªõi t·ªï ch·ª©c thi.</li>
                            </ul>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">3. ƒêi·ªÉm x√©t tuy·ªÉn (ƒêXT)</h3>
                            <ul class="list-disc list-inside ml-6 space-y-2 text-gray-700">
                                <li><strong>Quy tr√¨nh ƒëƒÉng k√Ω:</strong> Th√≠ sinh ph·∫£i t·ª± ƒëƒÉng k√Ω d·ª± thi tr√™n c·ªïng th√¥ng tin c·ªßa ƒë∆°n v·ªã t·ªï ch·ª©c.</li>
                                <li><strong>Ng∆∞·ª°ng ƒë·∫£m b·∫£o ch·∫•t l∆∞·ª£ng (ƒêi·ªÉm s√†n):</strong> C√°c tr∆∞·ªùng ƒêH s·∫Ω c√¥ng b·ªë m·ª©c ƒëi·ªÉm s√†n ri√™ng.
                                    <p class="text-sm bg-gray-50 p-2 rounded mt-1"><strong>V√≠ d·ª•:</strong> Tr∆∞·ªùng A nh·∫≠n h·ªì s∆° ƒêGNL c·ªßa ƒêHQG-HCM t·ª´ 750/1200 ƒëi·ªÉm; Tr∆∞·ªùng B nh·∫≠n h·ªì s∆° ƒêGTD c·ªßa ƒêH B√°ch khoa HN t·ª´ 60/100 ƒëi·ªÉm.</p>
                                </li>
                                <li><strong>C√°ch th·ª©c n·ªôp h·ªì s∆°:</strong> Th∆∞·ªùng n·ªôp qua h·ªá th·ªëng x√©t tuy·ªÉn s·ªõm c·ªßa t·ª´ng tr∆∞·ªùng.</li>
                                <li><strong>Quy ƒë·ªïi ƒëi·ªÉm:</strong> Nhi·ªÅu tr∆∞·ªùng s·∫Ω quy ƒë·ªïi ƒëi·ªÉm v·ªÅ thang 30 ƒë·ªÉ ƒë·∫£m b·∫£o c√¥ng b·∫±ng.
                                    <code class="block bg-gray-100 p-2 rounded-md text-gray-800 text-sm mt-1">ƒêXT (thang 30) = (ƒêi·ªÉm ƒêGNL / 1200) * 30 + ƒêi·ªÉm ∆∞u ti√™n</code>
                                    <code class="block bg-gray-100 p-2 rounded-md text-gray-800 text-sm mt-1">ƒêXT (thang 30) = (ƒêi·ªÉm ƒêGTD / 100) * 30 + ƒêi·ªÉm ∆∞u ti√™n</code>
                                </li>
                                <li><strong>ƒêi·ªÉm ∆∞u ti√™n:</strong> V·∫´n √°p d·ª•ng ch√≠nh s√°ch ∆∞u ti√™n khu v·ª±c, ƒë·ªëi t∆∞·ª£ng theo quy ƒë·ªãnh c·ªßa B·ªô (bao g·ªìm c·∫£ vi·ªác gi·∫£m ƒëi·ªÉm ∆∞u ti√™n khi th√≠ sinh ƒë·∫°t ƒëi·ªÉm cao).</li>
                            </ul>
        
                            <h3 class="text-xl font-semibold text-gray-800 pt-2">4. L∆∞u √Ω quan tr·ªçng nh·∫•t</h3>
                            
                            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg space-y-2">
                                <p class="font-semibold text-yellow-800">C·∫ßn T·ªët nghi·ªáp THPT:</p>
                                <p class="text-yellow-700">D√π th√≠ sinh c√≥ ƒëi·ªÉm ƒêGNL/ƒêGTD cao ƒë·∫øn ƒë√¢u, th√≠ sinh v·∫´n <strong>B·∫ÆT BU·ªòC ph·∫£i c√≥ b·∫±ng T·ªët nghi·ªáp THPT</strong> th√¨ m·ªõi ƒë·ªß ƒëi·ªÅu ki·ªán nh·∫≠p h·ªçc ch√≠nh th·ª©c.</p>
                            </div>
        
                            <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg space-y-2">
                                <p class="font-semibold text-red-800">B·∫ÆT BU·ªòC ƒêƒÉng k√Ω nguy·ªán v·ªçng l√™n H·ªá th·ªëng chung (R·∫•t quan tr·ªçng):</p>
                                <p class="text-red-700">N·∫øu ƒë√£ ƒë∆∞·ª£c tr∆∞·ªùng ƒêH th√¥ng b√°o "Tr√∫ng tuy·ªÉn c√≥ ƒëi·ªÅu ki·ªán" (b·∫±ng ƒëi·ªÉm ƒêGNL/ƒêGTD theo ph∆∞∆°ng th·ª©c X√©t tuy·ªÉn s·ªõm), th√≠ sinh V·∫™N PH·∫¢I ƒëƒÉng k√Ω nguy·ªán v·ªçng ƒë√≥ l√™n h·ªá th·ªëng x√©t tuy·ªÉn chung c·ªßa B·ªô GD&ƒêT. N·∫øu th·ª±c s·ª± mu·ªën nh·∫≠p h·ªçc, <strong>ph·∫£i ƒë·∫∑t nguy·ªán v·ªçng ƒë√≥ l√† Nguy·ªán v·ªçng 1</strong>.</p>
                            </div>
        
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li><strong>C√°c k·ª≥ thi ho√†n to√†n ƒë·ªôc l·∫≠p:</strong> Th√≠ sinh c√≥ th·ªÉ tham gia nhi·ªÅu k·ª≥ thi kh√°c nhau (c·∫£ 4 k·ª≥ thi n·∫øu mu·ªën) v√† ch·ªçn k·∫øt qu·∫£ t·ªët nh·∫•t ƒë·ªÉ x√©t tuy·ªÉn.</li>
                                <li><strong>C·∫•u tr√∫c ƒë·ªÅ thi ƒë·∫∑c th√π:</strong> ƒê·ªÅ thi ƒêGNL/ƒêGTD r·∫•t kh√°c ƒë·ªÅ thi THPT. Th√≠ sinh c·∫ßn t√¨m hi·ªÉu k·ªπ c·∫•u tr√∫c, l√†m ƒë·ªÅ thi minh h·ªça do c√°c tr∆∞·ªùng c√¥ng b·ªë ƒë·ªÉ l√†m quen.</li>
                                <li><strong>Chi ph√≠ v√† ƒë·ªãa ƒëi·ªÉm:</strong> Th√≠ sinh ph·∫£i t·ª± tr·∫£ l·ªá ph√≠ d·ª± thi v√† ch·ªß ƒë·ªông di chuy·ªÉn ƒë·∫øn c√°c ƒë·ªãa ƒëi·ªÉm t·ªï ch·ª©c thi (th∆∞·ªùng ch·ªâ t·∫≠p trung ·ªü c√°c th√†nh ph·ªë l·ªõn).</li>
                            </ul>
                        </div>
        
                        <!-- N·ªôi dung Tab 4: Tuy·ªÉn th·∫≥ng (m·∫∑c ƒë·ªãnh ·∫©n) -->
                        <div id="tab-tuyenthang" class="admissions-tab-panel tab-panel hidden space-y-4">
                            <h2 class="text-2xl font-semibold text-blue-700">Tuy·ªÉn Th·∫≥ng v√† ∆Øu Ti√™n X√©t Tuy·ªÉn</h2>
                            <p class="text-gray-700 leading-relaxed">
                                Ph∆∞∆°ng th·ª©c n√†y d√†nh cho c√°c th√≠ sinh c√≥ th√†nh t√≠ch ƒë·∫∑c bi·ªát xu·∫•t s·∫Øc ho·∫∑c thu·ªôc c√°c ƒë·ªëi t∆∞·ª£ng ∆∞u ti√™n theo quy ƒë·ªãnh c·ªßa B·ªô GD&ƒêT v√† c·ªßa ri√™ng t·ª´ng tr∆∞·ªùng.
                            </p>
                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                <li><strong>ƒê·ªëi t∆∞·ª£ng tuy·ªÉn th·∫≥ng (theo B·ªô GD&ƒêT):</strong>
                                    <ul class="list-circle list-inside ml-6 mt-1">
                                        <li>Th√≠ sinh ƒë·∫°t gi·∫£i H·ªçc sinh gi·ªèi Qu·ªëc gia, Qu·ªëc t·∫ø (c√°c m√¥n vƒÉn h√≥a, KHKT).</li>
                                        <li>Th√≠ sinh thu·ªôc c√°c huy·ªán ngh√®o, d√¢n t·ªôc thi·ªÉu s·ªë r·∫•t √≠t ng∆∞·ªùi (theo ch∆∞∆°ng tr√¨nh d·ª± b·ªã ƒë·∫°i h·ªçc).</li>
                                    </ul>
                                </li>
                                <li><strong>ƒê·ªëi t∆∞·ª£ng ∆∞u ti√™n x√©t tuy·ªÉn/tuy·ªÉn th·∫≥ng (theo ƒë·ªÅ √°n ri√™ng c·ªßa tr∆∞·ªùng):</strong>
                                    <ul class="list-circle list-inside ml-6 mt-1">
                                        <li>H·ªçc sinh c√°c tr∆∞·ªùng THPT chuy√™n.</li>
                                        <li>C√≥ ch·ª©ng ch·ªâ qu·ªëc t·∫ø (IELTS, SAT, ACT...).</li>
                                        <li>H·ªçc sinh ƒë·∫°t gi·∫£i HSG c·∫•p T·ªânh/Th√†nh ph·ªë.</li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
        
                    </div>
                </div>
            </div>
        </section>


        <!-- Trang m·∫°ng x√£ h·ªôi -->
        <section id="social-media-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-8">Tham gia c·ªông ƒë·ªìng</h1>
            <p class="text-center text-gray-600 mb-12">
                K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i qua c√°c n·ªÅn t·∫£ng m·∫°ng x√£ h·ªôi ƒë·ªÉ c·∫≠p nh·∫≠t nh·ªØng th√¥ng tin m·ªõi nh·∫•t.
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <a href="http://www.youtube.com/@EDUPATH-f4e" target="_blank" class="block bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 text-center">
                    <div class="text-6xl text-red-500 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor" class="w-16 h-16 mx-auto">
                            <path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.517 48.284 47.838C117.22 448 288 448 288 448s170.781 0 213.371-11.486c23.497-6.321 42.003-24.188 48.284-47.838 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.147l142.753 71.791-142.753 71.791z"/>
                        </svg>
                    </div>
                    <h4 class="text-2xl font-bold mb-2">YouTube</h4>
                    <p class="text-gray-600">Xem c√°c video chuy√™n s√¢u v√† workshop v·ªÅ ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp.</p>
                    <span class="inline-block mt-4 text-indigo-600 font-semibold hover:underline">Theo d√µi ngay &rarr;</span>
                </a>
                <a href="https://www.facebook.com/profile.php?id=61582417071028" target="_blank" class="block bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 text-center">
                    <div class="text-6xl text-blue-600 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-16 h-16 mx-auto">
                            <path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V489C413.31 482.38 504 379.78 504 256z"/>
                        </svg>
                    </div>
                    <h4 class="text-2xl font-bold mb-2">Facebook</h4>
                    <p class="text-gray-600">Tham gia c·ªông ƒë·ªìng, h·ªèi ƒë√°p v√† nh·∫≠n t∆∞ v·∫•n tr·ª±c ti·∫øp.</p>
                    <span class="inline-block mt-4 text-indigo-600 font-semibold hover:underline">Theo d√µi ngay &rarr;</span>
                </a>
                <a href="https://tiktok.com/@edupath.tng.lai.c" target="_blank" class="block bg-white p-8 rounded-3xl shadow-xl hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 text-center">
                    <div class="text-6xl text-black mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor" class="w-16 h-16 mx-auto">
                            <path d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2h213.13V209.91ZM185,324.42A76.25,76.25,0,1,0,108.75,248.17,76.15,76.15,0,0,0,185,324.42Z"/>
                        </svg>
                    </div>
                    <h4 class="text-2xl font-bold mb-2">TikTok</h4>
                    <p class="text-gray-600">Xem c√°c video ng·∫Øn v√† m·∫πo h·ªØu √≠ch v·ªÅ ch·ªçn ng√†nh, ngh·ªÅ.</p>
                    <span class="inline-block mt-4 text-indigo-600 font-semibold hover:underline">Theo d√µi ngay &rarr;</span>
                </a>
            </div>
        </section>

        <!-- Trang Minigame (M·ªöI) -->
        <section id="minigame-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-8 text-gray-900">Minigame Kh√°m Ph√° Ngh·ªÅ Nghi·ªáp</h1>

            <!-- Tab buttons -->
            <div class="flex border-b mb-4 justify-center">
                <button class="game-tab-btn active" onclick="showGameTab('game1', this)">ƒêo√°n Ngh·ªÅ Nghi·ªáp</button>
                <button class="game-tab-btn" onclick="showGameTab('game2', this)">Tr·∫Øc Nghi·ªám H∆∞·ªõng Nghi·ªáp</button>
            </div>

            <!-- Tab content -->
            <!-- Removed fixed height, added min-height -->
            <div id="game1-content" class="game-tab-content" style="min-height: 600px;">
                <iframe srcdoc="<!DOCTYPE html>
<html lang=&quot;vi&quot;>
<head>
    <meta charset=&quot;UTF-8&quot;>
    <meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;>
    <title>Minigame: ƒêo√°n T√™n Ngh·ªÅ Nghi·ªáp</title>
    <link rel=&quot;preconnect&quot; href=&quot;https://fonts.googleapis.com&quot;>
    <link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot; crossorigin>
    <link href=&quot;https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap&quot; rel=&quot;stylesheet&quot;>
    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-gradient: linear-gradient(90deg, #6366f1, #a855f7);
            --correct-color: #16a34a;
            --incorrect-color: #dc2626;
            --text-dark: #1f2937;
            --text-light: #4b5563;
            --border-color: #e5e7eb;
            --bg-light: #f9faff; /* New light bg */
        }

        /* --- General Styling --- */
        body {
            font-family: 'Inter', 'Arial', sans-serif;
            /* UPDATED BACKGROUND */
            background: radial-gradient(circle, #f4f4f7 0%, #d4e0ff 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
        }

        /* --- Animations --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        /* --- Game Container --- */
        #game-container {
            background-color: #ffffff;
            border-radius: 20px;
            /* UPDATED SHADOW */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05), 0 10px 30px rgba(0, 0, 0, 0.07);
            padding: 25px 35px 35px 35px;
            width: 100%;
            max-width: 600px;
            text-align: center;
            /* REMOVED BORDER-TOP */
            animation: fadeIn 0.6s ease-out;
            min-height: 520px;
            display: flex;
            flex-direction: column;
        }

        /* --- Progress Bar --- */
        #progress-container {
            width: 100%;
            background-color: #e5e7eb;
            border-radius: 99px;
            height: 12px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        #progress-bar {
            width: 0%;
            height: 100%;
            background: var(--primary-gradient);
            border-radius: 99px;
            transition: width 0.5s ease-in-out;
        }

        /* --- Score Container --- */
        #score-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            margin-bottom: 20px;
            font-size: 1.1em;
            font-weight: 600;
            color: var(--text-light);
        }
        #score-container span {
            color: var(--text-dark);
            background-color: #f3f4f6;
            padding: 5px 12px;
            border-radius: 8px;
            margin-left: 5px;
        }

        /* --- Header: Game Title --- */
        #game-title {
            color: var(--text-dark);
            margin: 0 0 10px 0;
            font-size: 1.75em;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }

        /* --- Clue/Question Text --- */
        #clue-text {
            font-size: 1.2em;
            color: var(--text-light);
            margin-bottom: 25px;
            min-height: 100px;
            line-height: 1.6;
            display: flex;
            justify-content: center;
            align-items: center;
            /* UPDATED CLUE BOX STYLE */
            background-color: var(--bg-light);
            border: 1px solid #e0e7ff;
            border-radius: 12px;
            padding: 15px;
            font-style: italic;
        }

        /* --- Input Container --- */
        #input-container {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        #guess-input {
            flex-grow: 1;
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 14px 18px;
            font-size: 1.1em;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        #guess-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        #guess-input.shake {
            animation: shake 0.5s;
        }
        #guess-button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 0 25px;
            font-size: 1.05em;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        #guess-button:hover {
            background-color: #4338ca;
            transform: translateY(-2px);
        }

        /* --- Feedback Section --- */
        #feedback-container {
            min-height: 24px;
            margin-bottom: 15px;
            font-size: 1.1em;
            font-weight: 600;
        }
        .feedback-correct { color: var(--correct-color); }
        .feedback-incorrect { color: var(--incorrect-color); }

        /* --- Control Buttons --- */
        #button-container {
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 10px; /* Space between buttons */
        }

        #control-button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 14px 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(79, 70, 229, 0.3);
            order: 2; /* Main button last */
        }

        #control-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4);
        }

        /* UPDATED BUTTON STYLE */
        #skip-button {
            background: transparent;
            color: var(--text-light);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            padding: 12px 30px; /* Slightly smaller */
            font-size: 1.0em; /* Slightly smaller */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: none; /* Hidden by default */
            order: 1; /* Skip button first */
        }
        #skip-button:hover {
            background: #f3f4f6;
            color: var(--text-dark);
            border-color: #d1d5db;
        }

        #end-message {
            font-size: 1.3em;
            font-weight: 600;
            color: var(--primary-color);
            padding: 20px 0;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }

    </style>
</head>
<body>

    <div id=&quot;game-container&quot;>
        <div id=&quot;progress-container&quot;>
            <div id=&quot;progress-bar&quot;></div>
        </div>
        <div id=&quot;score-container&quot;>
            <div>Chu·ªói ƒë√∫ng: <span id=&quot;streak-value&quot;>0</span></div>
            <div>C√¢u: <span id=&quot;question-counter&quot;>0/0</span></div>
            <div>K·ª∑ l·ª•c: <span id=&quot;high-score-value&quot;>0</span></div>
        </div>
        <h2 id=&quot;game-title&quot;>ƒê√¢y l√† ngh·ªÅ g√¨?</h2>
        <p id=&quot;clue-text&quot;></p>
        <div id=&quot;input-container&quot; style=&quot;display: none;&quot;>
            <input type=&quot;text&quot; id=&quot;guess-input&quot; placeholder=&quot;Nh·∫≠p c√¢u tr·∫£ l·ªùi c·ªßa b·∫°n...&quot;>
            <button id=&quot;guess-button&quot;>ƒêo√°n</button>
        </div>
        <div id=&quot;feedback-container&quot;></div>
        <div id=&quot;end-message&quot; style=&quot;display: none;&quot;></div>

        <div id=&quot;button-container&quot;>
            <button id=&quot;skip-button&quot;>B·ªè qua & Xem ƒë√°p √°n</button>
            <button id=&quot;control-button&quot;>B·∫Øt ƒë·∫ßu</button>
        </div>
    </div>

    <script>
        // --- Game Data ---
        const allProfessions = [
            { jobName: &quot;B√°c sƒ©&quot;, clues: [&quot;ƒê·ªÉ theo ƒëu·ªïi t√¥i, b·∫°n c·∫ßn xu·∫•t s·∫Øc ·ªü c√°c m√¥n kh·ªëi B00 (To√°n, H√≥a, Sinh).&quot;, &quot;ƒê·∫°i h·ªçc Y H√† N·ªôi l√† m·ªôt trong nh·ªØng n∆°i ƒë√†o t·∫°o h√†ng ƒë·∫ßu.&quot;, &quot;T√¥i l√†m vi·ªác t·∫°i c√°c b·ªánh vi·ªán v√† ph√≤ng kh√°m.&quot;, &quot;Chi·∫øc √°o blouse tr·∫Øng v√† ·ªëng nghe l√† h√¨nh ·∫£nh quen thu·ªôc c·ªßa t√¥i.&quot;] },
            { jobName: &quot;L·∫≠p tr√¨nh vi√™n&quot;, clues: [&quot;Kh·ªëi A00, A01 l√† l·ª±a ch·ªçn h√†ng ƒë·∫ßu ƒë·ªÉ theo ƒëu·ªïi t√¥i.&quot;, &quot;ƒê·∫°i h·ªçc B√°ch Khoa, ƒê·∫°i h·ªçc FPT l√† nh·ªØng n∆°i ƒë√†o t·∫°o n·ªïi ti·∫øng.&quot;, &quot;T√¥i 'n√≥i chuy·ªán' v·ªõi m√°y t√≠nh b·∫±ng c√°c ng√¥n ng·ªØ nh∆∞ Python, JavaScript.&quot;, &quot;T√¥i l√†m vi·ªác t·∫°i c√°c c√¥ng ty c√¥ng ngh·ªá, t·ª´ startup ƒë·∫øn t·∫≠p ƒëo√†n l·ªõn.&quot;] },
            { jobName: &quot;Gi√°o vi√™n&quot;, clues: [&quot;T√πy v√†o m√¥n h·ªçc, t√¥i c√≥ th·ªÉ x√©t tuy·ªÉn c√°c kh·ªëi A, B, C, D.&quot;, &quot;C√°c tr∆∞·ªùng ƒê·∫°i h·ªçc S∆∞ ph·∫°m tr√™n c·∫£ n∆∞·ªõc l√† n∆°i ƒë√†o t·∫°o ch√≠nh.&quot;, &quot;C√¥ng vi·ªác c·ªßa t√¥i l√† truy·ªÅn ƒë·∫°t ki·∫øn th·ª©c v√† 'tr·ªìng ng∆∞·ªùi'.&quot;, &quot;Tr∆∞·ªùng h·ªçc, b·∫£ng ƒëen v√† ph·∫•n tr·∫Øng l√† m√¥i tr∆∞·ªùng quen thu·ªôc c·ªßa t√¥i.&quot;] },
            { jobName: &quot;Ki·∫øn tr√∫c s∆∞&quot;, clues: [&quot;T√¥i c·∫ßn s·ª± k·∫øt h·ª£p gi·ªØa k·ªπ thu·∫≠t v√† ngh·ªá thu·∫≠t, th∆∞·ªùng x√©t tuy·ªÉn kh·ªëi V00 (To√°n, L√Ω, V·∫Ω).&quot;, &quot;ƒê·∫°i h·ªçc Ki·∫øn tr√∫c v√† ƒê·∫°i h·ªçc X√¢y d·ª±ng l√† nh·ªØng c√°i n√¥i ƒë√†o t·∫°o ra t√¥i.&quot;, &quot;T√¥i bi·∫øn nh·ªØng √Ω t∆∞·ªüng th√†nh c√°c b·∫£n v·∫Ω chi ti·∫øt cho c√°c c√¥ng tr√¨nh.&quot;, &quot;T√¥i l√†m vi·ªác t·∫°i c√°c c√¥ng ty thi·∫øt k·∫ø ho·∫∑c l√†m vi·ªác t·ª± do.&quot;] },
            { jobName: &quot;Lu·∫≠t s∆∞&quot;, clues: [&quot;Kh·ªëi C00 (VƒÉn, S·ª≠, ƒê·ªãa) ho·∫∑c D01 (To√°n, VƒÉn, Anh) l√† nh·ªØng l·ª±a ch·ªçn ph·ªï bi·∫øn.&quot;, &quot;ƒê·∫°i h·ªçc Lu·∫≠t l√† n∆°i t√¥i nghi√™n c·ª©u c√°c b·ªô lu·∫≠t v√† quy ƒë·ªãnh.&quot;, &quot;T√¥i b·∫£o v·ªá cho th√¢n ch·ªß c·ªßa m√¨nh t·∫°i c√°c phi√™n t√≤a.&quot;, &quot;C√¥ng l√Ω v√† s·ª± th·∫≠t l√† nh·ªØng g√¨ t√¥i lu√¥n theo ƒëu·ªïi.&quot;] },
            { jobName: &quot;ƒê·∫ßu b·∫øp&quot;, clues: [&quot;NƒÉng khi·∫øu, v·ªã gi√°c v√† s·ª± s√°ng t·∫°o quan tr·ªçng h∆°n kh·ªëi thi.&quot;, &quot;T√¥i c√≥ th·ªÉ ƒë∆∞·ª£c ƒë√†o t·∫°o t·∫°i c√°c tr∆∞·ªùng d·∫°y ngh·ªÅ ho·∫∑c du l·ªãch.&quot;, &quot;Chi·∫øc m≈© tr·∫Øng cao l√† bi·ªÉu t∆∞·ª£ng c·ªßa t√¥i trong c√°c nh√† h√†ng, kh√°ch s·∫°n.&quot;, &quot;T√¥i bi·∫øn nh·ªØng nguy√™n li·ªáu th√¥ th√†nh c√°c t√°c ph·∫©m ngh·ªá thu·∫≠t ·∫©m th·ª±c.&quot;] },
            { jobName: &quot;Nh√† b√°o&quot;, clues: [&quot;Kh·ªëi C00 v√† D01 l√† nh·ªØng kh·ªëi thi ph√π h·ª£p v·ªõi t√¥i.&quot;, &quot;H·ªçc vi·ªán B√°o ch√≠ v√† Tuy√™n truy·ªÅn l√† n∆°i ƒë√†o t·∫°o t√¥i.&quot;, &quot;T√¥i c√≥ th·ªÉ l√†m vi·ªác cho c√°c t√≤a so·∫°n, ƒë√†i truy·ªÅn h√¨nh.&quot;, &quot;T√¥i lu√¥n sƒÉn l√πng tin t·ª©c v√† s·ª± ki·ªán n√≥ng h·ªïi.&quot;] },
            { jobName: &quot;Phi c√¥ng&quot;, clues: [&quot;S·ª©c kh·ªèe, ngo·∫°i ng·ªØ v√† t∆∞ duy logic l√† y√™u c·∫ßu kh·∫Øt khe, kh√¥ng ch·ªâ l√† kh·ªëi thi.&quot;, &quot;H·ªçc vi·ªán H√†ng kh√¥ng l√† n∆°i ƒë√†o t·∫°o chuy√™n nghi·ªáp cho t√¥i.&quot;, &quot;Bu·ªìng l√°i m√°y bay ch√≠nh l√† vƒÉn ph√≤ng l√†m vi·ªác c·ªßa t√¥i.&quot;, &quot;T√¥i ch·ªãu tr√°ch nhi·ªám cho s·ª± an to√†n c·ªßa h√†ng trƒÉm h√†nh kh√°ch.&quot;] },
            { jobName: &quot;H·ªça sƒ©&quot;, clues: [&quot;NƒÉng khi·∫øu v·ªÅ m·ªπ thu·∫≠t (kh·ªëi H) l√† ƒëi·ªÅu ki·ªán c·∫ßn.&quot;, &quot;ƒê·∫°i h·ªçc M·ªπ thu·∫≠t l√† n∆°i t√¥i ƒë∆∞·ª£c r√®n gi≈©a t√†i nƒÉng.&quot;, &quot;T√¥i c√≥ th·ªÉ l√†m vi·ªác t·ª± do t·∫°i studio ri√™ng ho·∫∑c cho c√°c ph√≤ng tr∆∞ng b√†y.&quot;, &quot;C·ªç v·∫Ω, m√†u s·∫Øc v√† toan tranh l√† nh·ªØng ng∆∞·ªùi b·∫°n th√¢n thi·∫øt c·ªßa t√¥i.&quot;] },
            { jobName: &quot;D∆∞·ª£c sƒ©&quot;, clues: [&quot;Kh·ªëi A00 ho·∫∑c B00 l√† con ƒë∆∞·ªùng ƒë·ªÉ b·∫°n ƒë·∫øn v·ªõi t√¥i.&quot;, &quot;ƒê·∫°i h·ªçc D∆∞·ª£c H√† N·ªôi l√† m·ªôt trong nh·ªØng n∆°i ƒë√†o t·∫°o h√†ng ƒë·∫ßu.&quot;, &quot;T√¥i l√†m vi·ªác t·∫°i nh√† thu·ªëc, c√¥ng ty d∆∞·ª£c ho·∫∑c b·ªánh vi·ªán.&quot;, &quot;T√¥i l√† chuy√™n gia v·ªÅ thu·ªëc, t∆∞ v·∫•n s·ª≠ d·ª•ng thu·ªëc an to√†n.&quot;] },
            { jobName: &quot;Y t√°&quot;, clues: [&quot;Kh·ªëi B00 l√† l·ª±a ch·ªçn ph·ªï bi·∫øn, ho·∫∑c x√©t tuy·ªÉn t·ª´ c√°c tr∆∞·ªùng cao ƒë·∫≥ng y.&quot;, &quot;T√¥i ƒë∆∞·ª£c ƒë√†o t·∫°o t·∫°i c√°c tr∆∞·ªùng Cao ƒë·∫≥ng ho·∫∑c ƒê·∫°i h·ªçc Y.&quot;, &quot;T√¥i l√† ng∆∞·ªùi chƒÉm s√≥c b·ªánh nh√¢n tr·ª±c ti·∫øp t·∫°i c√°c c∆° s·ªü y t·∫ø.&quot;, &quot;T√¥i ph·ªëi h·ª£p ch·∫∑t ch·∫Ω v·ªõi b√°c sƒ© trong qu√° tr√¨nh ƒëi·ªÅu tr·ªã.&quot;] },
            { jobName: &quot;Nhi·∫øp ·∫£nh gia&quot;, clues: [&quot;ƒê√¢y l√† ngh·ªÅ kh√¥ng qu√° ph·ª• thu·ªôc v√†o kh·ªëi thi, m√† l√† nƒÉng khi·∫øu v√† k·ªπ nƒÉng.&quot;, &quot;T√¥i c√≥ th·ªÉ h·ªçc ngh·ªÅ t·∫°i c√°c trung t√¢m ho·∫∑c t·ª± h·ªçc.&quot;, &quot;T√¥i c√≥ th·ªÉ l√†m vi·ªác t·ª± do, m·ªü studio ho·∫∑c l√†m cho c√°c t·∫°p ch√≠.&quot;, &quot;T√¥i 'ƒë√≥ng bƒÉng' nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp c·ªßa cu·ªôc s·ªëng qua ·ªëng k√≠nh.&quot;] },
            { jobName: &quot;Nh√† khoa h·ªçc&quot;, clues: [&quot;T√¥i c·∫ßn m·ªôt n·ªÅn t·∫£ng v·ªØng ch·∫Øc v·ªÅ c√°c m√¥n khoa h·ªçc t·ª± nhi√™n (A00, B00).&quot;, &quot;T√¥i th∆∞·ªùng l√†m vi·ªác v√† nghi√™n c·ª©u t·∫°i c√°c vi·ªán, tr∆∞·ªùng ƒë·∫°i h·ªçc.&quot;, &quot;Ph√≤ng th√≠ nghi·ªám l√† ng√¥i nh√† th·ª© hai c·ªßa t√¥i.&quot;, &quot;T√¥i th·ª±c hi·ªán c√°c th√≠ nghi·ªám ƒë·ªÉ t√¨m ra nh·ªØng ki·∫øn th·ª©c m·ªõi.&quot;] },
            { jobName: &quot;Nh·∫°c sƒ©&quot;, clues: [&quot;NƒÉng khi·∫øu √¢m nh·∫°c (kh·ªëi N) l√† t·∫•m v√© v√†o c·ª≠a.&quot;, &quot;Nh·∫°c vi·ªán l√† n∆°i t√¥i ƒë∆∞·ª£c ƒë√†o t·∫°o b√†i b·∫£n.&quot;, &quot;T√¥i c√≥ th·ªÉ l√† ng∆∞·ªùi s√°ng t√°c, h√≤a √¢m ph·ªëi kh√≠ ho·∫∑c bi·ªÉu di·ªÖn.&quot;, &quot;S·∫£n ph·∫©m c·ªßa t√¥i l√† c√°c giai ƒëi·ªáu lay ƒë·ªông l√≤ng ng∆∞·ªùi.&quot;] },
            { jobName: &quot;Di·ªÖn vi√™n&quot;, clues: [&quot;Kh·ªëi S (NƒÉng khi·∫øu S√¢n kh·∫•u ƒêi·ªán ·∫£nh) l√† con ƒë∆∞·ªùng ch√≠nh th·ªëng.&quot;, &quot;ƒê·∫°i h·ªçc S√¢n kh·∫•u - ƒêi·ªán ·∫£nh l√† ∆∞·ªõc m∆° c·ªßa nhi·ªÅu ng∆∞·ªùi mu·ªën tr·ªü th√†nh t√¥i.&quot;, &quot;T√¥i h√≥a th√¢n th√†nh nhi·ªÅu cu·ªôc ƒë·ªùi kh√°c nhau tr√™n m√†n ·∫£nh ho·∫∑c s√¢n kh·∫•u.&quot;, &quot;T√¥i l√†m vi·ªác d∆∞·ªõi s·ª± ch·ªâ ƒë·∫°o c·ªßa ƒë·∫°o di·ªÖn.&quot;] },
            { jobName: &quot;C·∫£nh s√°t&quot;, clues: [&quot;T√¥i x√©t tuy·ªÉn c√°c kh·ªëi A00, A01, C03, D01.&quot;, &quot;H·ªçc vi·ªán An ninh ho·∫∑c H·ªçc vi·ªán C·∫£nh s√°t l√† n∆°i t√¥i ƒë∆∞·ª£c r√®n luy·ªán.&quot;, &quot;T√¥i tu·∫ßn tra tr√™n ƒë∆∞·ªùng ph·ªë ho·∫∑c l√†m vi·ªác t·∫°i c√°c ph√≤ng ƒëi·ªÅu tra.&quot;, &quot;Nhi·ªám v·ª• c·ªßa t√¥i l√† b·∫£o v·ªá tr·∫≠t t·ª± v√† an to√†n x√£ h·ªôi.&quot;] },
            { jobName: &quot;L√≠nh c·ª©u h·ªèa&quot;, clues: [&quot;T√¥i c·∫ßn th·ªÉ ch·∫•t c·ª±c t·ªët, th∆∞·ªùng x√©t tuy·ªÉn t·ª´ c√°c kh·ªëi A00.&quot;, &quot;T√¥i ƒë∆∞·ª£c hu·∫•n luy·ªán t·∫°i c√°c tr∆∞·ªùng ph√≤ng ch√°y ch·ªØa ch√°y.&quot;, &quot;T√¥i ƒë·ªëi m·∫∑t v·ªõi nguy hi·ªÉm ƒë·ªÉ c·ª©u ng∆∞·ªùi v√† t√†i s·∫£n.&quot;, &quot;Ti·∫øng c√≤i h√∫ t·ª´ chi·∫øc xe m√†u ƒë·ªè l√† t√≠n hi·ªáu t√¥i l√™n ƒë∆∞·ªùng.&quot;] },
            { jobName: &quot;Nh√† thi·∫øt k·∫ø th·ªùi trang&quot;, clues: [&quot;Kh·ªëi H (VƒÉn, V·∫Ω, V·∫Ω) l√† kh·ªëi thi d√†nh cho t√¥i.&quot;, &quot;ƒê·∫°i h·ªçc M·ªπ thu·∫≠t C√¥ng nghi·ªáp l√† m·ªôt trong nh·ªØng n∆°i ƒë√†o t·∫°o t√¥i.&quot;, &quot;T√¥i bi·∫øn nh·ªØng t·∫•m v·∫£i th√†nh c√°c b·ªô trang ph·ª•c ƒë·ªôc ƒë√°o.&quot;, &quot;C√°c tu·∫ßn l·ªÖ th·ªùi trang l√† n∆°i t√¥i tr√¨nh l√†ng c√°c b·ªô s∆∞u t·∫≠p.&quot;] },
            { jobName: &quot;K·∫ø to√°n&quot;, clues: [&quot;C√°c kh·ªëi A00, A01, D01 l√† l·ª±a ch·ªçn ph·ªï bi·∫øn ƒë·ªÉ h·ªçc ng√†nh n√†y.&quot;, &quot;H·ªçc vi·ªán T√†i ch√≠nh hay ƒê·∫°i h·ªçc Kinh t·∫ø Qu·ªëc d√¢n l√† n∆°i ƒë√†o t·∫°o uy t√≠n.&quot;, &quot;T√¥i l√†m vi·ªác v·ªõi c√°c con s·ªë, b√°o c√°o t√†i ch√≠nh t·∫°i m·ªçi lo·∫°i h√¨nh doanh nghi·ªáp.&quot;, &quot;S·ª± c·∫©n th·∫≠n v√† ch√≠nh x√°c l√† ph·∫©m ch·∫•t quan tr·ªçng nh·∫•t c·ªßa t√¥i.&quot;] },
            { jobName: &quot;Nh√† t√¢m l√Ω h·ªçc&quot;, clues: [&quot;T√¥i th∆∞·ªùng ƒë∆∞·ª£c x√©t tuy·ªÉn t·ª´ c√°c kh·ªëi x√£ h·ªôi nh∆∞ C00 ho·∫∑c D01.&quot;, &quot;ƒê·∫°i h·ªçc Khoa h·ªçc X√£ h·ªôi v√† Nh√¢n vƒÉn l√† n∆°i ƒë√†o t·∫°o t√¥i.&quot;, &quot;T√¥i l·∫Øng nghe v√† g·ª° r·ªëi nh·ªØng kh√∫c m·∫Øc trong t√¢m h·ªìn con ng∆∞·ªùi.&quot;, &quot;Ph√≤ng tham v·∫•n l√† n∆°i l√†m vi·ªác k√≠n ƒë√°o c·ªßa t√¥i.&quot;] },
            { jobName: &quot;Th·ª£ m·ªôc&quot;, clues: [&quot;T√¥i kh√¥ng nh·∫•t thi·∫øt ph·∫£i v√†o ƒë·∫°i h·ªçc m√† c√≥ th·ªÉ h·ªçc ngh·ªÅ.&quot;, &quot;ƒê√¥i tay kh√©o l√©o v√† kh·∫£ nƒÉng ƒëo ƒë·∫°c ch√≠nh x√°c l√† th·∫ø m·∫°nh c·ªßa t√¥i.&quot;, &quot;X∆∞·ªüng g·ªó l√† n∆°i t√¥i bi·∫øn nh·ªØng kh·ªëi g·ªó th√¥ k·ªách th√†nh s·∫£n ph·∫©m h·ªØu √≠ch.&quot;, &quot;T√¥i t·∫°o ra b√†n, gh·∫ø, t·ªß v√† c√°c ƒë·ªì n·ªôi th·∫•t kh√°c.&quot;] },
            { jobName: &quot;N√¥ng d√¢n&quot;, clues: [&quot;T√¥i g·∫Øn b√≥ v·ªõi ƒë·∫•t ƒëai, ƒë·ªìng ru·ªông ho·∫∑c trang tr·∫°i.&quot;, &quot;Ki·∫øn th·ª©c c·ªßa t√¥i ƒë∆∞·ª£c truy·ªÅn t·ª´ ƒë·ªùi n√†y sang ƒë·ªùi kh√°c v√† t·ª´ H·ªçc vi·ªán N√¥ng nghi·ªáp.&quot;, &quot;T√¥i tr·ªìng tr·ªçt ho·∫∑c chƒÉn nu√¥i ƒë·ªÉ cung c·∫•p l∆∞∆°ng th·ª±c, th·ª±c ph·∫©m.&quot;, &quot;C√¥ng vi·ªác c·ªßa t√¥i ch·ªãu ·∫£nh h∆∞·ªüng l·ªõn t·ª´ thi√™n nhi√™n v√† th·ªùi ti·∫øt.&quot;] },
            { jobName: &quot;Th·ª£ ƒëi·ªán&quot;, clues: [&quot;T√¥i ƒë∆∞·ª£c ƒë√†o t·∫°o t·∫°i c√°c tr∆∞·ªùng Cao ƒë·∫≥ng, Trung c·∫•p k·ªπ thu·∫≠t.&quot;, &quot;T√¥i l√†m vi·ªác v·ªõi d√¢y, c√°p v√† c√°c m·∫°ch ƒëi·ªán ph·ª©c t·∫°p.&quot;, &quot;An to√†n lao ƒë·ªông l√† nguy√™n t·∫Øc s·ªë m·ªôt trong c√¥ng vi·ªác c·ªßa t√¥i.&quot;, &quot;T√¥i ƒë·∫£m b·∫£o ngu·ªìn s√°ng v√† nƒÉng l∆∞·ª£ng cho m·ªçi ho·∫°t ƒë·ªông.&quot;] },
            { jobName: &quot;Th·ªßy th·ªß&quot;, clues: [&quot;T√¥i c·∫ßn s·ª©c kh·ªèe t·ªët v√† ƒë∆∞·ª£c ƒë√†o t·∫°o t·∫°i ƒê·∫°i h·ªçc H√†ng h·∫£i.&quot;, &quot;T√¥i l√†m vi·ªác tr√™n c√°c con t√†u l·ªõn tr√™n bi·ªÉn.&quot;, &quot;ƒê·∫°i d∆∞∆°ng l√† ng√¥i nh√† th·ª© hai c·ªßa t√¥i.&quot;, &quot;C√¥ng vi·ªác c·ªßa t√¥i c√≥ th·ªÉ k√©o d√†i h√†ng th√°ng tr·ªùi xa nh√†.&quot;] },
            { jobName: &quot;B√°c sƒ© th√∫ y&quot;, clues: [&quot;Kh·ªëi B00 (To√°n, H√≥a, Sinh) l√† kh·ªëi thi truy·ªÅn th·ªëng.&quot;, &quot;H·ªçc vi·ªán N√¥ng nghi·ªáp Vi·ªát Nam l√† n∆°i ƒë√†o t·∫°o h√†ng ƒë·∫ßu.&quot;, &quot;T√¥i chƒÉm s√≥c s·ª©c kh·ªèe v√† ch·ªØa b·ªánh cho ƒë·ªông v·∫≠t.&quot;, &quot;T√¥i l√†m vi·ªác t·∫°i c√°c ph√≤ng kh√°m th√∫ c∆∞ng, trang tr·∫°i ho·∫∑c s·ªü th√∫.&quot;] },
            { jobName: &quot;Nh√† thi·∫øt k·∫ø n·ªôi th·∫•t&quot;, clues: [&quot;Kh·ªëi V ho·∫∑c H (c√≥ m√¥n V·∫Ω) l√† b·∫Øt bu·ªôc.&quot;, &quot;ƒê·∫°i h·ªçc Ki·∫øn tr√∫c, ƒê·∫°i h·ªçc M·ªπ thu·∫≠t C√¥ng nghi·ªáp l√† n∆°i ƒë√†o t·∫°o t√¥i.&quot;, &quot;T√¥i l√™n k·∫ø ho·∫°ch v√† trang tr√≠ kh√¥ng gian b√™n trong c√°c t√≤a nh√†.&quot;, &quot;T√¥i gi√∫p t·∫°o ra nh·ªØng kh√¥ng gian s·ªëng v√† l√†m vi·ªác ƒë·∫πp, ti·ªán nghi.&quot;] },
            { jobName: &quot;Bi√™n t·∫≠p vi√™n&quot;, clues: [&quot;T√¥i c·∫ßn gi·ªèi VƒÉn (kh·ªëi C00, D01) v√† c√≥ ng√¥n ng·ªØ t·ªët.&quot;, &quot;T√¥i c√≥ th·ªÉ h·ªçc ng√†nh B√°o ch√≠, Ng√¥n ng·ªØ h·ªçc, S∆∞ ph·∫°m VƒÉn.&quot;, &quot;T√¥i ƒë·ªçc, ch·ªânh s·ª≠a v√† ho√†n thi·ªán c√°c b·∫£n th·∫£o tr∆∞·ªõc khi xu·∫•t b·∫£n.&quot;, &quot;T√¥i l√†m vi·ªác cho c√°c nh√† xu·∫•t b·∫£n, t·∫°p ch√≠ ho·∫∑c trang web.&quot;] }
        ];

        // --- DOM Elements ---
        const progressBarEl = document.getElementById('progress-bar');
        const streakEl = document.getElementById('streak-value');
        const highScoreEl = document.getElementById('high-score-value');
        const questionCounterEl = document.getElementById('question-counter');
        const gameTitleEl = document.getElementById('game-title');
        const clueTextEl = document.getElementById('clue-text');
        const inputContainerEl = document.getElementById('input-container');
        const guessInputEl = document.getElementById('guess-input');
        const guessButtonEl = document.getElementById('guess-button');
        const feedbackContainerEl = document.getElementById('feedback-container');
        const controlButtonEl = document.getElementById('control-button');
        const endMessageEl = document.getElementById('end-message');
        const skipButtonEl = document.getElementById('skip-button');

        // --- Game State ---
        let currentSessionProfessions = [];
        let currentProfessionIndex = 0;
        let currentClueIndex = 0;
        let gameState = 'start'; // 'start', 'playing', 'correct_feedback', 'end'
        let correctStreak = 0;
        let highScore = 0;

        // --- Functions ---
        function normalizeString(str) {
            return str.toLowerCase().normalize(&quot;NFD&quot;).replace(/[\u0300-\u036f]/g, &quot;&quot;).replace(/ƒë/g, &quot;d&quot;).trim();
        }

        // Function to shuffle array
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function startGame() {
            shuffle(allProfessions);
            currentSessionProfessions = [...allProfessions]; // Use the full, shuffled list
            currentProfessionIndex = 0;
            correctStreak = 0;
            highScore = localStorage.getItem('minigameHighScore') || 0;
            updateScoreDisplay();
            loadProfession();
        }

        function updateScoreDisplay() {
            streakEl.textContent = correctStreak;
            highScoreEl.textContent = highScore;
        }

        function loadProfession() {
            gameState = 'playing';
            currentClueIndex = 0;

            // Show/hide elements
            clueTextEl.style.display = 'flex';
            inputContainerEl.style.display = 'flex';
            endMessageEl.style.display = 'none';
            controlButtonEl.style.display = 'block';
            skipButtonEl.style.display = 'block';
            skipButtonEl.disabled = false;
            questionCounterEl.parentElement.style.display = 'block';

            // Reset elements
            feedbackContainerEl.textContent = '';
            feedbackContainerEl.className = '';
            guessInputEl.value = '';
            guessInputEl.disabled = false;
            guessButtonEl.disabled = false;
            controlButtonEl.disabled = false;
            controlButtonEl.textContent = &quot;Xem g·ª£i √Ω ti·∫øp theo&quot;;

            questionCounterEl.textContent = `${currentProfessionIndex + 1}/${currentSessionProfessions.length}`;
            updateScoreDisplay();
            displayClue();
        }

        function displayClue() {
            const profession = currentSessionProfessions[currentProfessionIndex];
            clueTextEl.textContent = profession.clues[currentClueIndex];
            updateProgressBar();

            if (currentClueIndex >= profession.clues.length - 1) {
                controlButtonEl.disabled = true;
                controlButtonEl.textContent = &quot;H·∫øt g·ª£i √Ω!&quot;;
            }
        }

        function checkGuess() {
            const profession = currentSessionProfessions[currentProfessionIndex];
            const userAnswer = normalizeString(guessInputEl.value);
            const correctAnswer = normalizeString(profession.jobName);

            if (userAnswer === &quot;&quot;) return;

            if (userAnswer === correctAnswer) {
                gameState = 'correct_feedback';
                correctStreak++;
                if (correctStreak > highScore) {
                    highScore = correctStreak;
                    localStorage.setItem('minigameHighScore', highScore);
                }
                updateScoreDisplay();

                feedbackContainerEl.textContent = `Ch√≠nh x√°c! ƒê√≥ l√† ngh·ªÅ &quot;${profession.jobName}&quot;.`;
                feedbackContainerEl.className = 'feedback-correct';

                guessInputEl.disabled = true;
                guessButtonEl.disabled = true;
                skipButtonEl.style.display = 'none';
                skipButtonEl.disabled = true;
                controlButtonEl.disabled = false;

                if (currentProfessionIndex < currentSessionProfessions.length - 1) {
                    controlButtonEl.textContent = &quot;Th·ª≠ ngh·ªÅ ti·∫øp theo&quot;;
                } else {
                    controlButtonEl.textContent = &quot;Ho√†n th√†nh!&quot;;
                }
            } else {
                correctStreak = 0;
                updateScoreDisplay();
                feedbackContainerEl.textContent = &quot;Ch∆∞a ƒë√∫ng, th·ª≠ l·∫°i ho·∫∑c xem th√™m g·ª£i √Ω nh√©!&quot;;
                feedbackContainerEl.className = 'feedback-incorrect';
                guessInputEl.classList.add('shake');
                setTimeout(() => {
                    guessInputEl.classList.remove('shake');
                    feedbackContainerEl.textContent = ''; // Clear feedback after a while
                }, 1000);
                guessInputEl.value = '';
                guessInputEl.focus();
            }
        }

        function showEndMessage() {
            gameState = 'end';
            clueTextEl.style.display = 'none';
            inputContainerEl.style.display = 'none';
            feedbackContainerEl.style.display = 'none';
            questionCounterEl.parentElement.style.display = 'none';
            skipButtonEl.style.display = 'none';
            endMessageEl.style.display = 'flex';
            endMessageEl.textContent = &quot;B·∫°n ƒë√£ ho√†n th√†nh t·∫•t c·∫£ c√°c c√¢u ƒë·ªë!&quot;;
            controlButtonEl.textContent = &quot;Ch∆°i l·∫°i&quot;;
        }

        function updateProgressBar(){
            const profession = currentSessionProfessions[currentProfessionIndex];
            const progress = ((currentClueIndex + 1) / profession.clues.length) * 100;
            progressBarEl.style.width = `${progress}%`;
        }

        // --- Event Listeners ---
        controlButtonEl.addEventListener('click', () => {
            if (gameState === 'start' || gameState === 'end') {
                startGame();
            } else if (gameState === 'correct_feedback') {
                currentProfessionIndex++;
                if (currentProfessionIndex < currentSessionProfessions.length) {
                    loadProfession();
                } else {
                    showEndMessage();
                }
            } else if (gameState === 'playing') {
                currentClueIndex++;
                displayClue();
            }
        });

        guessButtonEl.addEventListener('click', checkGuess);
        guessInputEl.addEventListener('keyup', (event) => {
            if (event.key === 'Enter') {
                checkGuess();
            }
        });

        skipButtonEl.addEventListener('click', () => {
            // 1. Get the answer
            const profession = currentSessionProfessions[currentProfessionIndex];

            // 2. Show feedback with answer
            feedbackContainerEl.textContent = `ƒê√°p √°n ƒë√∫ng l√†: &quot;${profession.jobName}&quot;.`;
            feedbackContainerEl.className = 'feedback-incorrect'; // Red color

            // 3. Reset streak
            correctStreak = 0;
            updateScoreDisplay();

            // 4. Disable guessing & buttons
            guessInputEl.disabled = true;
            guessButtonEl.disabled = true;
            controlButtonEl.disabled = true; // Disable &quot;Next Clue&quot;
            skipButtonEl.disabled = true;
            skipButtonEl.style.display = 'none';

            // 5. Change state to 'correct_feedback' to reuse the logic
            gameState = 'correct_feedback';

            // 6. Update control button to move to next
            if (currentProfessionIndex < currentSessionProfessions.length - 1) {
                controlButtonEl.textContent = &quot;Th·ª≠ ngh·ªÅ ti·∫øp theo&quot;;
            } else {
                controlButtonEl.textContent = &quot;Ho√†n th√†nh!&quot;;
            }
            controlButtonEl.disabled = false;
            controlButtonEl.style.display = 'block';
        });

        // Initial load
        window.onload = () => {
            highScore = localStorage.getItem('minigameHighScore') || 0;
            updateScoreDisplay();
        };

    </script>
</body>
</html>
" class="w-full h-full border-0 rounded-xl shadow-lg min-h-[600px]"></iframe>
            </div>
             <!-- Removed fixed height, added min-height -->
            <div id="game2-content" class="game-tab-content" style="display: none; min-height: 600px;">
                <iframe srcdoc="<!DOCTYPE html>
<html lang=&quot;vi&quot;>
<head>
    <meta charset=&quot;UTF-8&quot;>
    <meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;>
    <title>Tr·∫Øc Nghi·ªám H∆∞·ªõng Nghi·ªáp</title>
    <!-- T·∫£i Tailwind CSS CDN -->
    <script src=&quot;https://cdn.tailwindcss.com&quot;></script>
    <!-- T·∫£i Tone.js cho hi·ªáu ·ª©ng √¢m thanh -->
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js&quot;></script>
    <!-- T·∫£i th∆∞ vi·ªán icon Phosphor -->
    <script src=&quot;https://unpkg.com/@phosphor-icons/web&quot;></script>
    <!-- Thi·∫øt l·∫≠p font v√† style t√πy ch·ªânh -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .option-button {
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .option-button:hover:not(:disabled) {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px -8px rgba(0,0,0,0.15);
        }
        .correct {
            background: linear-gradient(45deg, #2dd4bf, #34d399);
            color: white;
            border-color: #059669;
        }
        .incorrect {
            background: linear-gradient(45deg, #fb7185, #f43f5e);
            color: white;
            border-color: #dc2626;
        }
        #timer-bar-fill {
            transition: width 1s linear;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }

        /* Tab Styles */
        .tab-button {
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            border: none;
            background-color: transparent;
            font-size: 1rem;
            font-weight: 600;
            color: #6b7280; /* gray-500 */
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
        }
        .tab-button:hover {
            color: #1d4ed8; /* blue-700 */
        }
        .active-tab {
            color: #1d4ed8; /* blue-700 */
            border-bottom-color: #1d4ed8; /* blue-700 */
        }
        .drive-iframe {
            border: 1px solid #e5e7eb; /* Th√™m vi·ªÅn cho iframe */
            width: 100%;
            height: 80vh;
            border-radius: 1rem;
        }
    </style>
</head>
<body class=&quot;p-4 bg-gray-100&quot;>

    <div class=&quot;w-full max-w-5xl mx-auto bg-white/60 backdrop-blur-sm p-4 md:p-6 rounded-3xl shadow-lg border border-gray-200/50&quot;>
        <!-- Tab Navigation -->
        <div class=&quot;flex border-b mb-4 flex-wrap&quot;>
            <button id=&quot;game-tab-button&quot; class=&quot;tab-button&quot; onclick=&quot;showTab('game')&quot;>Tr·∫Øc Nghi·ªám H∆∞·ªõng Nghi·ªáp</button>
        </div>

        <!-- Tab Content -->
        <div id=&quot;game-tab-content&quot; class=&quot;tab-content&quot;>
             <div id=&quot;app&quot; class=&quot;w-full max-w-2xl mx-auto&quot;>
                <!-- Start Screen -->
                <div id=&quot;start-screen&quot; class=&quot;fade-in&quot;>
                    <header class=&quot;text-center mb-6&quot;>
                        <h1 class=&quot;text-3xl md:text-4xl font-extrabold text-gray-800 mb-2&quot;>
                            Ch√†o m·ª´ng b·∫°n!
                        </h1>
                        <p class=&quot;text-gray-500&quot;>Vui l√≤ng ƒë·ªçc lu·∫≠t ch∆°i ƒë·ªÉ b·∫Øt ƒë·∫ßu</p>
                    </header>

                    <!-- Lu·∫≠t Ch∆°i -->
                    <div class=&quot;bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-r-lg mb-6 shadow-sm&quot;>
                        <h3 class=&quot;font-bold text-lg mb-2 flex items-center&quot;>
                            <i class=&quot;ph-fill ph-game-controller mr-2&quot;></i>
                            Lu·∫≠t Ch∆°i
                        </h3>
                        <ul class=&quot;list-disc list-inside space-y-1 text-sm text-blue-700&quot;>
                            <li>Gh√©p ƒë√∫ng <strong>T·ªï H·ª£p M√¥n</strong> v·ªõi <strong>Ng√†nh Ngh·ªÅ</strong> t∆∞∆°ng ·ª©ng.</li>
                            <li>B·∫°n c√≥ <strong>15 gi√¢y</strong> cho m·ªói c√¢u h·ªèi, h√£y tr·∫£ l·ªùi nhanh!</li>
                            <li>Tr·∫£ l·ªùi ƒë√∫ng li√™n ti·∫øp s·∫Ω nh·∫≠n ƒë∆∞·ª£c ƒëi·ªÉm th∆∞·ªüng chu·ªói.</li>
                            <li>D·ª±a v√†o k·∫øt qu·∫£, h·ªá th·ªëng s·∫Ω g·ª£i √Ω nh√≥m ng√†nh ph√π h·ª£p v·ªõi b·∫°n.</li>
                        </ul>
                    </div>

                    <button onclick=&quot;startGame()&quot; class=&quot;w-full px-10 py-3 bg-blue-600 text-white font-bold text-lg rounded-full shadow-lg hover:bg-blue-700 transition duration-300&quot;>
                        B·∫Øt ƒë·∫ßu
                    </button>
                </div>

                <!-- Game Wrapper -->
                <div id=&quot;game-wrapper&quot; class=&quot;hidden&quot;>
                    <header class=&quot;text-center mb-6&quot;>
                        <h1 class=&quot;text-3xl md:text-4xl font-extrabold text-gray-800 mb-2&quot;>
                            ƒê·ªãnh H∆∞·ªõng Ng√†nh Ngh·ªÅ
                        </h1>
                        <p class=&quot;text-gray-500&quot;>Gh√©p T·ªï H·ª£p M√¥n v·ªõi Ng√†nh Ngh·ªÅ</p>
                    </header>
                    <div class=&quot;flex justify-between items-center bg-gray-100 p-3 rounded-xl mb-6&quot;>
                        <div class=&quot;flex items-center gap-2&quot;>
                            <i class=&quot;ph ph-question text-2xl text-blue-500&quot;></i>
                            <span id=&quot;question-counter&quot; class=&quot;text-lg font-bold text-gray-700&quot;>1/45</span>
                        </div>
                         <div class=&quot;flex items-center gap-2&quot;>
                            <i class=&quot;ph-fill ph-fire text-2xl text-orange-500&quot;></i>
                            <span id=&quot;streak-counter&quot; class=&quot;text-lg font-bold text-gray-700&quot;>0</span>
                        </div>
                        <div class=&quot;flex items-center gap-2&quot;>
                            <i class=&quot;ph-fill ph-star text-2xl text-yellow-500&quot;></i>
                            <span id=&quot;score-display&quot; class=&quot;text-lg font-bold text-gray-700&quot;>0</span>
                        </div>
                    </div>
                    <div id=&quot;timer-bar&quot; class=&quot;w-full bg-gray-200 rounded-full h-2.5 mb-6&quot;>
                        <div id=&quot;timer-bar-fill&quot; class=&quot;bg-blue-500 h-2.5 rounded-full&quot;></div>
                    </div>
                    <main id=&quot;game-area&quot; class=&quot;fade-in&quot;>
                        <div class=&quot;bg-blue-50 p-6 rounded-xl mb-6 shadow-inner text-center&quot;>
                            <h2 class=&quot;text-xl font-semibold text-gray-700 mb-2&quot;>T·ªï H·ª£p M√¥n</h2>
                            <p id=&quot;question-text&quot; class=&quot;text-2xl md:text-3xl font-bold text-blue-600&quot;></p>
                        </div>
                        <div id=&quot;options-container&quot; class=&quot;grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4&quot;></div>
                        <div id=&quot;feedback-message&quot; class=&quot;text-center font-semibold text-lg py-3 px-4 rounded-xl hidden&quot;></div>
                    </main>
                    <footer class=&quot;text-center mt-6&quot;>
                        <button id=&quot;next-button&quot; class=&quot;w-full sm:w-auto px-10 py-3 bg-blue-600 text-white font-bold text-lg rounded-full shadow-lg hover:bg-blue-700 transition duration-300 opacity-0 pointer-events-none&quot;>
                            Ti·∫øp T·ª•c
                        </button>
                    </footer>
                </div>

                <!-- Game Over Modal -->
                <div id=&quot;results-modal&quot; class=&quot;hidden fixed inset-0 bg-gray-800 bg-opacity-75 flex items-center justify-center z-50 p-4&quot;>
                    <div class=&quot;bg-white p-8 rounded-2xl shadow-xl w-full max-w-lg text-center fade-in&quot;>
                        <i class=&quot;ph-bold ph-confetti text-7xl text-green-500&quot;></i>
                        <h3 class=&quot;text-3xl font-bold text-gray-800 mt-4 mb-2&quot;>Ho√†n Th√†nh!</h3>
                        <p class=&quot;text-gray-600 mb-6&quot;>ƒê√¢y l√† k·∫øt qu·∫£ c·ªßa b·∫°n:</p>
                        <div class=&quot;bg-blue-50 p-4 rounded-xl mb-4 flex justify-around items-center text-center&quot;>
                            <div>
                                <p class=&quot;text-lg font-semibold text-blue-800&quot;>T·ªïng ƒëi·ªÉm</p>
                                <p id=&quot;final-score&quot; class=&quot;text-5xl font-extrabold text-blue-600&quot;></p>
                            </div>
                            <div class=&quot;border-l-2 border-blue-200 h-16 mx-4&quot;></div>
                            <div>
                                <p class=&quot;text-lg font-semibold text-blue-800&quot;>Th·ªùi gian l√†m b√†i</p>
                                <p id=&quot;total-time&quot; class=&quot;text-3xl font-extrabold text-blue-600&quot;></p>
                            </div>
                        </div>
                        <div id=&quot;career-suggestion-box&quot; class=&quot;bg-green-50 p-4 rounded-xl text-left&quot;>
                             <h4 class=&quot;text-lg font-bold text-green-800 mb-2&quot;>Nh√≥m ng√†nh g·ª£i √Ω</h4>
                             <p id=&quot;suggestion-text&quot; class=&quot;text-green-700&quot;></p>
                        </div>
                        <button onclick=&quot;resetToStartScreen()&quot; class=&quot;mt-8 w-full px-6 py-4 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 transition duration-300 text-lg&quot;>
                            Ch∆°i L·∫°i
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab T√†i Li·ªáu Drive -->
    </div>

    <script>
        const SUBJECT_CAREER_MAP = [
            // 15 c√¢u g·ªëc
            { combination: &quot;To√°n, L√Ω, H√≥a (A00)&quot;, correctCareer: &quot;K·ªπ thu·∫≠t, C√¥ng ngh·ªá&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },
            { combination: &quot;VƒÉn, S·ª≠, ƒê·ªãa (C00)&quot;, correctCareer: &quot;Khoa h·ªçc X√£ h·ªôi, B√°o ch√≠&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, VƒÉn, Anh (D01)&quot;, correctCareer: &quot;Kinh t·∫ø, Qu·∫£n tr·ªã, Marketing&quot;, category: &quot;Kinh doanh&quot; },
            { combination: &quot;To√°n, H√≥a, Sinh (B00)&quot;, correctCareer: &quot;Y D∆∞·ª£c, C√¥ng ngh·ªá Sinh h·ªçc&quot;, category: &quot;Y t·∫ø & S·ª©c kh·ªèe&quot; },
            { combination: &quot;To√°n, L√Ω, Anh (A01)&quot;, correctCareer: &quot;C√¥ng ngh·ªá th√¥ng tin, K·ªπ thu·∫≠t ph·∫ßn m·ªÅm&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },
            { combination: &quot;VƒÉn, S·ª≠, Anh (D14)&quot;, correctCareer: &quot;Lu·∫≠t, Quan h·ªá Qu·ªëc t·∫ø&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;VƒÉn, NƒÉng khi·∫øu V·∫Ω (H00)&quot;, correctCareer: &quot;Thi·∫øt k·∫ø ƒê·ªì h·ªça, Ki·∫øn tr√∫c&quot;, category: &quot;Ngh·ªá thu·∫≠t&quot; },
            { combination: &quot;To√°n, Anh, NƒÉng khi·∫øu (V00)&quot;, correctCareer: &quot;Ki·∫øn tr√∫c, Quy ho·∫°ch ƒë√¥ th·ªã&quot;, category: &quot;Ngh·ªá thu·∫≠t&quot; },
            { combination: &quot;To√°n, Sinh, Anh (D08)&quot;, correctCareer: &quot;Th√∫ y, C√¥ng ngh·ªá Th·ª±c ph·∫©m&quot;, category: &quot;N√¥ng nghi·ªáp&quot; },
            { combination: &quot;VƒÉn, H√≥a, Sinh (C08)&quot;, correctCareer: &quot;C√¥ng t√°c X√£ h·ªôi, M√¥i tr∆∞·ªùng&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, KHTN (A02)&quot;, correctCareer: &quot;S∆∞ ph·∫°m Khoa h·ªçc T·ª± nhi√™n&quot;, category: &quot;Gi√°o d·ª•c&quot; },
            { combination: &quot;VƒÉn, Anh, Ti·∫øng Ph√°p (D03)&quot;, correctCareer: &quot;Ng√¥n ng·ªØ h·ªçc, Bi√™n-Phi√™n d·ªãch&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, ƒê·ªãa, Anh (D10)&quot;, correctCareer: &quot;Logistics, Qu·∫£n l√Ω chu·ªói cung ·ª©ng&quot;, category: &quot;Kinh doanh&quot; },
            { combination: &quot;To√°n, L√Ω, GDCD (A04)&quot;, correctCareer: &quot;Qu·∫£n l√Ω Nh√† n∆∞·ªõc, An ninh&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, Anh, KHTN (A06)&quot;, correctCareer: &quot;Khoa h·ªçc d·ªØ li·ªáu, AI&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },

            // 30 c√¢u b·ªï sung
            { combination: &quot;To√°n, L√Ω, H√≥a (A00)&quot;, correctCareer: &quot;K·ªπ thu·∫≠t H√≥a h·ªçc, D∆∞·ª£c sƒ©&quot;, category: &quot;Y t·∫ø & S·ª©c kh·ªèe&quot; },
            { combination: &quot;VƒÉn, S·ª≠, ƒê·ªãa (C00)&quot;, correctCareer: &quot;H∆∞·ªõng d·∫´n vi√™n Du l·ªãch&quot;, category: &quot;D·ªãch v·ª•&quot; },
            { combination: &quot;To√°n, VƒÉn, Anh (D01)&quot;, correctCareer: &quot;K·∫ø to√°n, Ki·ªÉm to√°n&quot;, category: &quot;Kinh doanh&quot; },
            { combination: &quot;To√°n, H√≥a, Sinh (B00)&quot;, correctCareer: &quot;B√°c sƒ© ƒêa khoa&quot;, category: &quot;Y t·∫ø & S·ª©c kh·ªèe&quot; },
            { combination: &quot;To√°n, L√Ω, Anh (A01)&quot;, correctCareer: &quot;Qu·∫£n tr·ªã M·∫°ng, An to√†n Th√¥ng tin&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },
            { combination: &quot;To√°n, VƒÉn, S·ª≠ (C03)&quot;, correctCareer: &quot;S∆∞ ph·∫°m L·ªãch s·ª≠&quot;, category: &quot;Gi√°o d·ª•c&quot; },
            { combination: &quot;To√°n, VƒÉn, ƒê·ªãa (C04)&quot;, correctCareer: &quot;Qu·∫£n l√Ω ƒê·∫•t ƒëai&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, VƒÉn, GDCD (D66)&quot;, correctCareer: &quot;T√¢m l√Ω h·ªçc&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, S·ª≠, Anh (D09)&quot;, correctCareer: &quot;Lu·∫≠t Kinh t·∫ø&quot;, category: &quot;Kinh doanh&quot; },
            { combination: &quot;VƒÉn, ƒê·ªãa, GDCD (C20)&quot;, correctCareer: &quot;B√°o ch√≠, Truy·ªÅn th√¥ng&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, H√≥a, Anh (D07)&quot;, correctCareer: &quot;C√¥ng ngh·ªá Th·ª±c ph·∫©m&quot;, category: &quot;N√¥ng nghi·ªáp&quot; },
            { combination: &quot;VƒÉn, NƒÉng khi·∫øu B√°o ch√≠ (N01)&quot;, correctCareer: &quot;Quan h·ªá C√¥ng ch√∫ng (PR)&quot;, category: &quot;Kinh doanh&quot; },
            { combination: &quot;To√°n, L√Ω, NƒÉng khi·∫øu (V01)&quot;, correctCareer: &quot;Thi·∫øt k·∫ø N·ªôi th·∫•t&quot;, category: &quot;Ngh·ªá thu·∫≠t&quot; },
            { combination: &quot;To√°n, Sinh, GDCD (B04)&quot;, correctCareer: &quot;Khoa h·ªçc M√¥i tr∆∞·ªùng&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;VƒÉn, S·ª≠, GDCD (C19)&quot;, correctCareer: &quot;Ch√≠nh tr·ªã h·ªçc&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, Anh, Ti·∫øng Nh·∫≠t (D06)&quot;, correctCareer: &quot;Ng√¥n ng·ªØ Nh·∫≠t, Kinh t·∫ø ƒê·ªëi ngo·∫°i&quot;, category: &quot;Kinh doanh&quot; },
            { combination: &quot;To√°n, H√≥a, GDCD (B05)&quot;, correctCareer: &quot;Qu·∫£n l√Ω T√†i nguy√™n & M√¥i tr∆∞·ªùng&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;VƒÉn, NƒÉng khi·∫øu √Çm nh·∫°c (N00)&quot;, correctCareer: &quot;Thanh nh·∫°c, S∆∞ ph·∫°m √Çm nh·∫°c&quot;, category: &quot;Ngh·ªá thu·∫≠t&quot; },
            { combination: &quot;To√°n, VƒÉn, Ti·∫øng Ph√°p (D03)&quot;, correctCareer: &quot;S∆∞ ph·∫°m Ti·∫øng Ph√°p&quot;, category: &quot;Gi√°o d·ª•c&quot; },
            { combination: &quot;To√°n, L√Ω, Ti·∫øng Ph√°p (A05)&quot;, correctCareer: &quot;K·ªπ thu·∫≠t H√†ng kh√¥ng&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },
            { combination: &quot;To√°n, H√≥a, Anh (D07)&quot;, correctCareer: &quot;K·ªπ thu·∫≠t Y sinh&quot;, category: &quot;Y t·∫ø & S·ª©c kh·ªèe&quot; },
            { combination: &quot;VƒÉn, S·ª≠, Ti·∫øng Trung (D04)&quot;, correctCareer: &quot;ƒê√¥ng ph∆∞∆°ng h·ªçc&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, NƒÉng khi·∫øu TDTT (T00)&quot;, correctCareer: &quot;Gi√°o d·ª•c Th·ªÉ ch·∫•t&quot;, category: &quot;Gi√°o d·ª•c&quot; },
            { combination: &quot;To√°n, VƒÉn, NƒÉng khi·∫øu (H01)&quot;, correctCareer: &quot;Thi·∫øt k·∫ø Th·ªùi trang&quot;, category: &quot;Ngh·ªá thu·∫≠t&quot; },
            { combination: &quot;To√°n, L√Ω, H√≥a (A00)&quot;, correctCareer: &quot;K·ªπ thu·∫≠t √î t√¥&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },
            { combination: &quot;To√°n, VƒÉn, Anh (D01)&quot;, correctCareer: &quot;Qu·∫£n tr·ªã Kh√°ch s·∫°n&quot;, category: &quot;D·ªãch v·ª•&quot; },
            { combination: &quot;To√°n, H√≥a, Sinh (B00)&quot;, correctCareer: &quot;N√¥ng nghi·ªáp C√¥ng ngh·ªá cao&quot;, category: &quot;N√¥ng nghi·ªáp&quot; },
            { combination: &quot;To√°n, L√Ω, Anh (A01)&quot;, correctCareer: &quot;Robot v√† Tr√≠ tu·ªá Nh√¢n t·∫°o&quot;, category: &quot;K·ªπ thu·∫≠t&quot; },
            { combination: &quot;VƒÉn, S·ª≠, ƒê·ªãa (C00)&quot;, correctCareer: &quot;Qu·∫£n l√Ω VƒÉn h√≥a&quot;, category: &quot;X√£ h·ªôi&quot; },
            { combination: &quot;To√°n, Sinh, H√≥a (B00)&quot;, correctCareer: &quot;ƒêi·ªÅu d∆∞·ª°ng&quot;, category: &quot;Y t·∫ø & S·ª©c kh·ªèe&quot; },
        ];

        let score = 0, currentQuestionIndex = 0, streak = 0;
        let quizQuestions = [], categoryScores = {}, userAnswers = [];
        let timer, timerInterval, startTime, totalTimeFormatted;
        const TIME_LIMIT = 15; // 15 seconds per question

        const elements = {
            app: document.getElementById('app'),
            startScreen: document.getElementById('start-screen'),
            gameWrapper: document.getElementById('game-wrapper'),
            gameArea: document.getElementById('game-area'),
            questionText: document.getElementById('question-text'),
            optionsContainer: document.getElementById('options-container'),
            feedbackMessage: document.getElementById('feedback-message'),
            nextButton: document.getElementById('next-button'),
            scoreDisplay: document.getElementById('score-display'),
            streakCounter: document.getElementById('streak-counter'),
            questionCounter: document.getElementById('question-counter'),
            timerBarFill: document.getElementById('timer-bar-fill'),
            resultsModal: document.getElementById('results-modal'),
            finalScore: document.getElementById('final-score'),
            suggestionText: document.getElementById('suggestion-text')
        };

        const sounds = {
            correct: new Tone.Synth({ oscillator: { type: &quot;sine&quot; }, envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.2 } }).toDestination(),
            incorrect: new Tone.Synth({ oscillator: { type: &quot;square&quot; }, envelope: { attack: 0.01, decay: 0.2, sustain: 0, release: 0.2 } }).toDestination(),
        };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startGame() {
            elements.startScreen.classList.add('hidden');
            elements.gameWrapper.classList.remove('hidden');

            startTime = Date.now(); // Ghi l·∫°i th·ªùi gian b·∫Øt ƒë·∫ßu
            score = 0;
            streak = 0;
            currentQuestionIndex = 0;
            categoryScores = {};
            userAnswers = [];
            elements.resultsModal.classList.add('hidden');

            quizQuestions = shuffleArray([...SUBJECT_CAREER_MAP]);

            updateStats();
            loadQuestion();
            document.body.addEventListener('click', () => Tone.start(), { once: true });
        }

        function updateStats() {
            elements.scoreDisplay.textContent = score;
            elements.streakCounter.textContent = streak;
            elements.questionCounter.textContent = `${currentQuestionIndex + 1}/${quizQuestions.length}`;
        }

        function startTimer() {
            clearInterval(timerInterval);
            let timeLeft = TIME_LIMIT;
            elements.timerBarFill.style.transition = 'none';
            elements.timerBarFill.style.width = '100%';

            void elements.timerBarFill.offsetWidth;

            elements.timerBarFill.style.transition = `width ${TIME_LIMIT}s linear`;
            elements.timerBarFill.style.width = '0%';

            timerInterval = setInterval(() => {
                timeLeft--;
                if (timeLeft < 0) {
                    clearInterval(timerInterval);
                    handleTimeOut();
                }
            }, 1000);
        }

        function handleTimeOut() {
            streak = 0;
            sounds.incorrect.triggerAttackRelease(&quot;C3&quot;, &quot;0.2s&quot;);
            const currentData = quizQuestions[currentQuestionIndex];
            userAnswers.push({
                question: currentData.combination,
                userAnswer: &quot;(H·∫øt gi·ªù)&quot;,
                correctAnswer: currentData.correctCareer,
                isCorrect: false
            });
            revealAnswer(null);
        }

        function loadQuestion() {
            elements.gameArea.classList.remove('fade-in');
            void elements.gameArea.offsetWidth;
            elements.gameArea.classList.add('fade-in');

            const currentData = quizQuestions[currentQuestionIndex];
            elements.questionText.textContent = currentData.combination;
            elements.optionsContainer.innerHTML = '';
            elements.feedbackMessage.classList.add('hidden');
            elements.nextButton.classList.add('opacity-0', 'pointer-events-none');

            // L·∫•y 3 ƒë√°p √°n sai ng·∫´u nhi√™n
            const wrongOptions = shuffleArray(
                SUBJECT_CAREER_MAP
                .filter(q => q.correctCareer !== currentData.correctCareer) // L·ªçc ra c√°c c√¢u h·ªèi c√≥ ƒë√°p √°n kh√°c
                .map(q => q.correctCareer) // Ch·ªâ l·∫•y t√™n ng√†nh ngh·ªÅ
                .filter((value, index, self) => self.indexOf(value) === index) // L·∫•y c√°c gi√° tr·ªã duy nh·∫•t
            ).slice(0, 3); // L·∫•y 3 c√°i ƒë·∫ßu ti√™n

            const options = [currentData.correctCareer, ...wrongOptions];

            shuffleArray(options).forEach(optionText => {
                const button = document.createElement('button');
                button.textContent = optionText;
                button.className = &quot;option-button w-full px-4 py-4 text-left bg-white text-gray-700 font-semibold rounded-xl border-2 border-gray-200 shadow-md&quot;;
                button.onclick = () => selectAnswer(button, optionText === currentData.correctCareer);
                elements.optionsContainer.appendChild(button);
            });
            startTimer();
        }

        function selectAnswer(selectedButton, isCorrect) {
            clearInterval(timerInterval);
            const currentData = quizQuestions[currentQuestionIndex];
            userAnswers.push({
                question: currentData.combination,
                userAnswer: selectedButton.textContent,
                correctAnswer: currentData.correctCareer,
                isCorrect: isCorrect
            });

            if (isCorrect) {
                score += 10 + streak * 2;
                streak++;
                sounds.correct.triggerAttackRelease(&quot;C5&quot;, &quot;0.2s&quot;);
                categoryScores[currentData.category] = (categoryScores[currentData.category] || 0) + 1;
            } else {
                streak = 0;
                sounds.incorrect.triggerAttackRelease(&quot;C3&quot;, &quot;0.2s&quot;);
            }
            revealAnswer(selectedButton);
            updateStats();
        }

        function revealAnswer(selectedButton) {
            const currentData = quizQuestions[currentQuestionIndex];
            Array.from(elements.optionsContainer.children).forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === currentData.correctCareer) {
                    btn.classList.add('correct');
                } else {
                    btn.classList.add('opacity-50');
                }
            });
            if (selectedButton && selectedButton.textContent !== currentData.correctCareer) {
                selectedButton.classList.add('incorrect');
            }
            elements.nextButton.classList.remove('opacity-0', 'pointer-events-none');
        }

        elements.nextButton.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                loadQuestion();
                updateStats();
            } else {
                showResults();
            }
        });

        function showResults() {
            elements.finalScore.textContent = `${score} ƒëi·ªÉm`;

            const endTime = Date.now();
            const durationInSeconds = Math.round((endTime - startTime) / 1000);
            const minutes = Math.floor(durationInSeconds / 60);
            const seconds = durationInSeconds % 60;
            totalTimeFormatted = `${minutes} ph√∫t ${seconds} gi√¢y`;
            document.getElementById('total-time').textContent = totalTimeFormatted;

            const sortedCategories = Object.keys(categoryScores).sort((a,b) => categoryScores[b] - categoryScores[a]);
            if(sortedCategories.length > 0) {
                 elements.suggestionText.textContent = `B·∫°n c√≥ thi√™n h∆∞·ªõng m·∫°nh v·ªÅ c√°c nh√≥m ng√†nh: ${sortedCategories.slice(0,2).join(', ')}. H√£y t√¨m hi·ªÉu th√™m v·ªÅ c√°c lƒ©nh v·ª±c n√†y nh√©!`;
            } else {
                elements.suggestionText.textContent = `B·∫°n c√≥ ki·∫øn th·ª©c ƒëa d·∫°ng! H√£y ti·∫øp t·ª•c kh√°m ph√° ƒë·ªÉ t√¨m ra ƒëam m√™ th·∫≠t s·ª± c·ªßa m√¨nh.`;
            }
            elements.resultsModal.classList.remove('hidden');
        }

        function resetToStartScreen() {
            elements.resultsModal.classList.add('hidden');
            elements.gameWrapper.classList.add('hidden');
            elements.startScreen.classList.remove('hidden');
        }

        function showTab(tabId) {
            document.getElementById('game-tab-content').classList.add('hidden');

            document.getElementById('game-tab-button').classList.remove('active-tab');

            document.getElementById(tabId + '-tab-content').classList.remove('hidden');
            document.getElementById(tabId + '-tab-button').classList.add('active-tab');

            // ·∫®n modal k·∫øt qu·∫£ n·∫øu ƒëang m·ªü khi chuy·ªÉn tab
        }

        document.addEventListener('DOMContentLoaded', () => {
            showTab('game');
        });
    </script>
</body>
</html>
" class="w-full h-full border-0 rounded-xl shadow-lg min-h-[600px]"></iframe>
            </div>
        </section>

        <!-- Scholarship Page (ƒê√É C·∫¨P NH·∫¨T T·ª™ FILE) -->
        <section id="scholarship-page" class="page-content">
            <!-- Ph·∫ßn Hero (Gi·ªõi thi·ªáu & T√¨m ki·∫øm) -->
            <header class="bg-white shadow-sm mb-8">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center">
                    <h1 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl lg:text-5xl">
                        T√¨m ki·∫øm C∆° h·ªôi, Ch·∫Øp c√°nh ∆Ø·ªõc m∆°
                    </h1>
                    <p class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto">
                        N·ªÅn t·∫£ng t·∫≠p trung h·ªçc b·ªïng uy t√≠n cho h·ªçc sinh, sinh vi√™n Vi·ªát Nam.
                    </p>
                    
                    <!-- Thanh t√¨m ki·∫øm -->
                    <div class="mt-8 max-w-lg mx-auto flex">
                        <input id="scholarship-search-input" type="text" placeholder="Nh·∫≠p t√™n h·ªçc b·ªïng, ng√†nh h·ªçc, tr∆∞·ªùng..." class="flex-1 min-w-0 w-full px-4 py-3 rounded-l-md border-gray-300 focus:ring-blue-500 focus:border-blue-500 shadow-sm text-sm">
                        <button type="button" onclick="filterScholarships()" class="inline-flex items-center px-6 py-3 border border-transparent text-sm font-medium rounded-r-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd" />
                            </svg>
                        </button>
                    </div>
                </div>
            </header>
        
            <!-- Ph·∫ßn N·ªôi dung ch√≠nh -->
            <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
                
                <!-- B·ªô l·ªçc -->
                <div class="bg-white p-4 rounded-lg shadow-sm mb-6">
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <label for="filter-level" class="block text-sm font-medium text-gray-700">C·∫•p h·ªçc</label>
                            <select id="filter-level" name="cap-hoc" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="C·∫•p 3">C·∫•p 3</option>
                                <option value="ƒê·∫°i h·ªçc">ƒê·∫°i h·ªçc</option>
                                <option value="Sau ƒê·∫°i h·ªçc">Sau ƒê·∫°i h·ªçc</option>
                            </select>
                        </div>
                        <div>
                            <label for="filter-location" class="block text-sm font-medium text-gray-700">ƒê·ªãa ƒëi·ªÉm</label>
                            <select id="filter-location" name="dia-diem" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="Trong n∆∞·ªõc">Trong n∆∞·ªõc</option>
                                <option value="Du h·ªçc">Du h·ªçc</option>
                                <option value="H√† N·ªôi">H√† N·ªôi</option>
                                <option value="TP. H·ªì Ch√≠ Minh">TP. H·ªì Ch√≠ Minh</option>
                            </select>
                        </div>
                        <div>
                            <label for="filter-field" class="block text-sm font-medium text-gray-700">Ng√†nh h·ªçc</label>
                            <select id="filter-field" name="nganh-hoc" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="Kinh t·∫ø">Kinh t·∫ø</option>
                                <option value="K·ªπ thu·∫≠t">K·ªπ thu·∫≠t</option>
                                <option value="Khoa h·ªçc X√£ h·ªôi">Khoa h·ªçc X√£ h·ªôi</option>
                                <option value="Ngh·ªá thu·∫≠t">Ngh·ªá thu·∫≠t</option>
                                <option value="Y D∆∞·ª£c">Y D∆∞·ª£c</option>
                                <option value="N√¥ng nghi·ªáp">N√¥ng nghi·ªáp</option>
                            </select>
                        </div>
                        <div class="self-end">
                            <button onclick="filterScholarships()" class="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-medium py-2 px-4 rounded-md">
                                L·ªçc k·∫øt qu·∫£
                            </button>
                        </div>
                    </div>
                </div>
        
                <!-- Khu v·ª±c Tab -->
                <div>
                    <div class="border-b border-gray-200">
                        <nav class="-mb-px flex space-x-8" aria-label="Tabs">
                            <button class="scholarship-tab-button tab-button tab-active" data-tab="tab-xuat-sac">
                                H·ªçc b·ªïng Xu·∫•t s·∫Øc
                            </button>
                            <button class="scholarship-tab-button tab-button" data-tab="tab-kho-khan">
                                H·ªçc b·ªïng Kh√≥ khƒÉn
                            </button>
                            <button class="scholarship-tab-button tab-button" data-tab="tab-sap-het-han">
                                S·∫Øp h·∫øt h·∫°n
                            </button>
                        </nav>
                    </div>
        
                    <!-- N·ªôi dung c√°c Tab -->
                    <div class="mt-6">
                        <div id="scholarship-results-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- K·∫øt qu·∫£ h·ªçc b·ªïng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                            <p id="no-results-message" class="text-gray-500 italic col-span-full text-center hidden">Kh√¥ng t√¨m th·∫•y h·ªçc b·ªïng ph√π h·ª£p.</p>
                        </div>
                    </div>
                </div>
        
            </main>
        </section>

        <!-- Trang Thi Th·ª≠ (ƒê√É B·ªä ·∫®N/THAY TH·∫æ B·∫∞NG MINIGAME) -->
        <!-- N·ªôi dung n√†y s·∫Ω kh√¥ng ƒë∆∞·ª£c hi·ªÉn th·ªã do logic JS -->
        <section id="test-hub-page" class="page-content" style="display: none;">
            <h1 class="text-4xl font-bold text-gray-800 mb-8 text-center">G·ª£i √ù Ng√†nh H·ªçc D·ª±a Tr√™n ƒêi·ªÉm Thi (Tham Kh·∫£o)</h1>
            <div class="bg-white p-8 rounded-3xl card-shadow">
                <p class="text-lg text-gray-700 mb-8 text-center max-w-3xl mx-auto">Nh·∫≠p ƒëi·ªÉm thi T·ªët nghi·ªáp THPT d·ª± ki·∫øn c·ªßa b·∫°n v√†o c√°c t·ªï h·ª£p m√¥n d∆∞·ªõi ƒë√¢y ƒë·ªÉ nh·∫≠n g·ª£i √Ω c√°c ng√†nh/tr∆∞·ªùng ph√π h·ª£p. D·ªØ li·ªáu d·ª±a tr√™n ƒëi·ªÉm chu·∫©n tham kh·∫£o.</p>

                <!-- Input Scores -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 mb-8">
                    <div>
                        <label for="score-A00" class="block text-sm font-semibold text-gray-700 mb-1">A00 (To√°n, L√Ω, H√≥a)</label>
                        <input type="number" id="score-A00" min="0" max="30" step="0.05" class="input-score" placeholder="Nh·∫≠p ƒëi·ªÉm">
                    </div>
                    <div>
                        <label for="score-A01" class="block text-sm font-semibold text-gray-700 mb-1">A01 (To√°n, L√Ω, Anh)</label>
                        <input type="number" id="score-A01" min="0" max="30" step="0.05" class="input-score" placeholder="Nh·∫≠p ƒëi·ªÉm">
                    </div>
                    <div>
                        <label for="score-B00" class="block text-sm font-semibold text-gray-700 mb-1">B00 (To√°n, H√≥a, Sinh)</label>
                        <input type="number" id="score-B00" min="0" max="30" step="0.05" class="input-score" placeholder="Nh·∫≠p ƒëi·ªÉm">
                    </div>
                    <div>
                        <label for="score-C00" class="block text-sm font-semibold text-gray-700 mb-1">C00 (VƒÉn, S·ª≠, ƒê·ªãa)</label>
                        <input type="number" id="score-C00" min="0" max="30" step="0.05" class="input-score" placeholder="Nh·∫≠p ƒëi·ªÉm">
                    </div>
                    <div>
                        <label for="score-D01" class="block text-sm font-semibold text-gray-700 mb-1">D01 (To√°n, VƒÉn, Anh)</label>
                        <input type="number" id="score-D01" min="0" max="30" step="0.05" class="input-score" placeholder="Nh·∫≠p ƒëi·ªÉm">
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex justify-center space-x-4 mb-10">
                    <button class="btn-test-hub btn-indigo px-8" onclick="calculateSuggestions()">
                        T√≠nh to√°n G·ª£i √Ω
                    </button>
                    <button class="btn-test-hub bg-gray-600 hover:bg-gray-700 px-6" onclick="clearScores()">
                        X√≥a ƒëi·ªÉm
                    </button>
                </div>

                <!-- Suggestions Table -->
                <h3 class="text-2xl font-bold text-gray-800 mb-4 text-center">K·∫øt qu·∫£ G·ª£i √Ω</h3>
                <div class="overflow-x-auto rounded-xl border border-gray-200 bg-gray-50">
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-100">
                            <tr>
                                <th scope="col" class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Ng√†nh / Tr∆∞·ªùng G·ª£i √Ω</th>
                                <th scope="col" class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">T·ªï h·ª£p X√©t tuy·ªÉn</th>
                                <th scope="col" class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">ƒêi·ªÉm chu·∫©n TK</th>
                                <th scope="col" class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">ƒêi·ªÉm c·ªßa b·∫°n</th>
                                <th scope="col" class="py-3 px-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Tr·∫°ng th√°i</th>
                            </tr>
                        </thead>
                        <tbody id="suggestions-tbody" class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td colspan="5" class="py-4 px-4 text-center text-gray-500 italic">
                                    Nh·∫≠p ƒëi·ªÉm c·ªßa b·∫°n v√† nh·∫•n "T√≠nh to√°n" ƒë·ªÉ xem g·ª£i √Ω.
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Trang API Test (M·ªöI) -->
        <section id="api-test-page" class="page-content">
            <h1 class="text-4xl font-bold text-center mb-8 text-gray-900">Ki·ªÉm Tra K·∫øt N·ªëi Gemini API</h1>
            <div class="bg-white p-8 rounded-3xl shadow-xl max-w-2xl mx-auto">
                <p class="text-gray-600 mb-6 text-center">Nh·∫•n n√∫t b√™n d∆∞·ªõi ƒë·ªÉ g·ª≠i m·ªôt y√™u c·∫ßu th·ª≠ nghi·ªám ƒë·∫øn Gemini API v√† xem k·∫øt qu·∫£.</p>
                <button id="api-test-btn" onclick="testGeminiAPI()" class="w-full bg-purple-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-purple-700 transition duration-300 transform hover:scale-105 disabled:opacity-50">
                    B·∫Øt ƒë·∫ßu Ki·ªÉm tra
                </button>
                <textarea id="api-test-result" rows="8" class="mt-6 w-full p-4 border border-gray-300 rounded-xl bg-gray-50 focus:outline-none focus:ring-2 focus:ring-purple-500" readonly placeholder="K·∫øt qu·∫£ ki·ªÉm tra s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y..."></textarea>
                <p id="api-test-status" class="text-sm font-medium text-center text-gray-500 mt-4"></p>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-10 mt-12">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h5 class="text-xl font-bold mb-4"><span class="text-indigo-400">H∆∞·ªõng</span>Nghi·ªáp</h5>
                    <p class="text-gray-400 text-sm">H·ªá sinh th√°i to√†n di·ªán gi√∫p h·ªçc sinh kh√°m ph√° b·∫£n th√¢n, l·ª±a ch·ªçn ng√†nh ngh·ªÅ v√† ƒë·ªãnh h∆∞·ªõng t∆∞∆°ng lai.</p>
                </div>
                <div>
                    <h5 class="text-lg font-semibold mb-4">Li√™n k·∫øt nhanh</h5>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-gray-400 hover:text-white transition" onclick="showPage('home')">Trang ch·ªß</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition" onclick="showPage('quiz-hub')">M·∫≠t m√£ c√° nh√¢n</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition" onclick="showPage('search')">Tra c·ª©u AI</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition" onclick="showPage('admissions')">Tuy·ªÉn sinh</a></li>
                    </ul>
                </div>
                <div>
                    <h5 class="text-lg font-semibold mb-4">K·∫øt n·ªëi v·ªõi ch√∫ng t√¥i</h5>
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/profile.php?id=61582417071028" target="_blank" class="text-gray-400 hover:text-white transition text-2xl">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" fill="currentColor" class="w-6 h-6"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V489C413.31 482.38 504 379.78 504 256z"/></svg>
                        </a>
                        <a href="http://www.youtube.com/@EDUPATH-f4e" target="_blank" class="text-gray-400 hover:text-white transition text-2xl">
                           <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" fill="currentColor" class="w-6 h-6"><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.517 48.284 47.838C117.22 448 288 448 288 448s170.781 0 213.371-11.486c23.497-6.321 42.003-24.188 48.284-47.838 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zM231.5 352.5l143-72-143-72v144z"/></svg>
                        </a>
                         <a href="https://tiktok.com/@edupath.tng.lai.c" target="_blank" class="text-gray-400 hover:text-white transition text-2xl">
                             <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" fill="currentColor" class="w-6 h-6"><path d="M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2h213.13V209.91ZM185,324.42A76.25,76.25,0,1,0,108.75,248.17,76.15,76.15,0,0,0,185,324.42Z"/></svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-500 text-sm">
                    ¬© 2024 D·ª± √°n H·ªá sinh th√°i ƒê·ªãnh h∆∞·ªõng Ngh·ªÅ nghi·ªáp. B·∫£o l∆∞u m·ªçi quy·ªÅn.
                </p>
            </div>
        </div>
    </footer>

    <!-- Modal Structure (D√πng chung cho c√°c c√¢u chuy·ªán) -->
    <div id="storyModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">&times;</span>
            <h2 id="modal-story-title" class="text-3xl font-bold text-gray-800 mb-6"></h2>
            <div id="modal-story-body" class="text-gray-700 leading-relaxed space-y-4">
                <!-- N·ªôi dung c√¢u chuy·ªán s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y -->
            </div>
        </div>
    </div>

    <!-- Main JavaScript -->
    <script>
        // --- C√ÇU CHUY·ªÜN TRUY·ªÄN C·∫¢M H·ª®NG (MODAL CONTENT - Moved outside DOMContentLoaded) ---
        const storyModals = {
             'chau': {
                 title: "Nguy·ªÖn Huy·ªÅn Ch√¢u: Chuy·ªán trao ƒëi nh·ªØng c∆° h·ªôi",
                 content: `
                     <p class="mb-4">Nguy·ªÖn Huy·ªÅn Ch√¢u (sinh nƒÉm 1993) th∆∞·ªùng ƒë∆∞·ª£c nh·∫Øc t·ªõi nh∆∞ c√¥ g√°i ng∆∞·ªùi Vi·ªát d∆∞·ªõi 30 tu·ªïi ƒë·∫ßu ti√™n ƒë∆∞·ª£c m·ªùi tham d·ª± Di·ªÖn ƒë√†n Kinh t·∫ø th·∫ø gi·ªõi Davos (Th·ª•y Sƒ©) nƒÉm 2023. ƒê√¢y l√† n∆°i quy t·ª• nh·ªØng nh√† l√£nh ƒë·∫°o to√†n c·∫ßu, c√°c t·ª∑ ph√∫ v√† nh·ªØng ng∆∞·ªùi c√≥ t·∫ßm ·∫£nh h∆∞·ªüng l·ªõn.</p>
                     <p class="mb-4">ƒêi·ªÅu g√¨ ƒë√£ ƒë∆∞a m·ªôt c√¥ g√°i tr·∫ª ƒë·∫øn v·ªõi di·ªÖn ƒë√†n danh gi√° n√†y? ƒê√≥ kh√¥ng ph·∫£i l√† gia th·∫ø "kh·ªßng" hay t√†i s·∫£n k·∫øch x√π. H√†nh tr√¨nh c·ªßa Ch√¢u b·∫Øt ƒë·∫ßu t·ª´ nƒÉm 19 tu·ªïi, khi c√¥ nh·∫≠n ra m√¨nh c√≥ th·ªÉ l√†m nh·ªØng g√¨ m√¨nh th√≠ch, "c·ª© th·ª≠, sai, v√† l√†m l·∫°i".</p>
                     <p class="mb-4">NƒÉm 2013, c√¥ gi√†nh h·ªçc b·ªïng to√†n ph·∫ßn c·ªßa Ch√≠nh ph·ªß Nh·∫≠t B·∫£n (MEXT). T·∫°i Nh·∫≠t, c√¥ kh√¥ng ch·ªâ h·ªçc t·∫≠p m√† c√≤n t√≠ch c·ª±c tham gia c√°c ho·∫°t ƒë·ªông ngo·∫°i kh√≥a, t·ªï ch·ª©c s·ª± ki·ªán k·∫øt n·ªëi sinh vi√™n Vi·ªát Nam v√† qu·ªëc t·∫ø. Sau khi t·ªët nghi·ªáp, c√¥ l√†m vi·ªác t·∫°i m·ªôt t·∫≠p ƒëo√†n l·ªõn c·ªßa Nh·∫≠t, nh∆∞ng r·ªìi nh·∫≠n ra m√¨nh mu·ªën t·∫°o ra t√°c ƒë·ªông x√£ h·ªôi l·ªõn h∆°n.</p>
                     <p class="mb-4">C√¥ tr·ªü v·ªÅ Vi·ªát Nam, tham gia v√† sau ƒë√≥ ƒëi·ªÅu h√†nh m·ªôt t·ªï ch·ª©c phi l·ª£i nhu·∫≠n v·ªÅ gi√°o d·ª•c. C√¥ ti·∫øp t·ª•c h·ªçc Th·∫°c sƒ© Ch√≠nh s√°ch c√¥ng t·∫°i ƒê·∫°i h·ªçc Oxford (Anh) v·ªõi h·ªçc b·ªïng Chevening.</p>
                     <p class="mb-4">Sau ƒë√≥, c√¥ ƒë·ªìng s√°ng l·∫≠p v√† ƒëi·ªÅu h√†nh c√°c doanh nghi·ªáp x√£ h·ªôi, t·∫°o ra t√°c ƒë·ªông t√≠ch c·ª±c cho h√†ng ng√†n ng∆∞·ªùi. C√¥ chia s·∫ª: "T√¥i lu√¥n tin r·∫±ng c∆° h·ªôi kh√¥ng t·ª± nhi√™n ƒë·∫øn, m√† do m√¨nh t·∫°o ra. V√† khi m√¨nh c√≥ c∆° h·ªôi, m√¨nh n√™n chia s·∫ª n√≥ v·ªõi ng∆∞·ªùi kh√°c". ƒê√≥ c≈©ng l√† l√Ω do c√¥ ƒë∆∞·ª£c ch·ªçn ƒë·∫øn Davos, kh√¥ng ph·∫£i v√¨ c√¥ gi√†u c√≥, m√† v√¨ nh·ªØng gi√° tr·ªã c√¥ t·∫°o ra cho c·ªông ƒë·ªìng.</p>
                     <p class="italic">"H√†nh tr√¨nh n√†y b·∫Øt ƒë·∫ßu t·ª´ khi c√¥ 19 tu·ªïi, bi·∫øt r·∫±ng: m√¨nh ho√†n to√†n c√≥ th·ªÉ l√†m nh·ªØng g√¨ m√¨nh th√≠ch, c·ª© th·ª≠, sai, v√† l√†m l·∫°i‚Äù.</p>
                     <p class="mt-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg">
                         <strong>√ù nghƒ©a r√∫t ra:</strong> C√¢u chuy·ªán c·ªßa Huy·ªÅn Ch√¢u l√† minh ch·ª©ng cho vi·ªác d√°m ∆∞·ªõc m∆°, d√°m h√†nh ƒë·ªông v√† kh√¥ng ng·∫°i th·∫•t b·∫°i. Th√†nh c√¥ng kh√¥ng ch·ªâ l√† ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u c√° nh√¢n, m√† c√≤n l√† vi·ªác t·∫°o ra gi√° tr·ªã v√† c∆° h·ªôi cho c·ªông ƒë·ªìng. H√£y c·ª© th·ª≠, sai, v√† l√†m l·∫°i.
                     </p>
                 `
             },
             'vu': {
                 title: "ƒê·∫∑ng L√™ Nguy√™n V≈©: C√¢u chuy·ªán vua cafe",
                 content: `
                     <p class="mb-4">ƒê·∫∑ng L√™ Nguy√™n V≈© (sinh nƒÉm 1971) l√† ng∆∞·ªùi s√°ng l·∫≠p, ch·ªß t·ªãch ki√™m T·ªïng Gi√°m ƒë·ªëc T·∫≠p ƒëo√†n Trung Nguy√™n, th∆∞∆°ng hi·ªáu c√† ph√™ h√†ng ƒë·∫ßu Vi·ªát Nam.</p>
                     <p class="mb-4">√çt ai bi·∫øt r·∫±ng, √¥ng t·ª´ng l√† sinh vi√™n nƒÉm 3 khoa Y, ƒê·∫°i h·ªçc T√¢y Nguy√™n. Nh∆∞ng kh√°t v·ªçng l√†m gi√†u v√† ƒë∆∞a h·∫°t c√† ph√™ qu√™ h∆∞∆°ng v∆∞∆°n t·∫ßm th·∫ø gi·ªõi ƒë√£ th√¥i th√∫c √¥ng t·ª´ b·ªè con ƒë∆∞·ªùng Y khoa ƒë·ªÉ kh·ªüi nghi·ªáp.</p>
                     <p class="mb-4">NƒÉm 1996, √¥ng c√πng ba ng∆∞·ªùi b·∫°n m·ªü m·ªôt h√£ng c√† ph√™ nh·ªè ·ªü Bu√¥n Ma Thu·ªôt v·ªõi s·ªë v·ªën ch·ªâ l√† chi·∫øc xe ƒë·∫°p c·ªçc c·∫°ch v√† ni·ªÅm tin m√£nh li·ªát. Nh·ªØng ng√†y ƒë·∫ßu v√¥ c√πng kh√≥ khƒÉn, √¥ng ph·∫£i t·ª± m√¨nh l√†m m·ªçi vi·ªác, t·ª´ rang xay, ƒë√≥ng g√≥i ƒë·∫øn giao h√†ng.</p>
                     <p class="mb-4">NƒÉm 1998, Trung Nguy√™n m·ªü qu√°n c√† ph√™ ƒë·∫ßu ti√™n t·∫°i TP.HCM, t·∫°o n√™n m·ªôt "hi·ªán t∆∞·ª£ng" v·ªõi m√¥ h√¨nh qu√°n ƒë·ªôc ƒë√°o v√† th√¥ng ƒëi·ªáp "Kh∆°i ngu·ªìn s√°ng t·∫°o". T·ª´ ƒë√≥, th∆∞∆°ng hi·ªáu Trung Nguy√™n b·∫Øt ƒë·∫ßu lan t·ªèa m·∫°nh m·∫Ω.</p>
                     <p class="mb-4">√îng lu√¥n nung n·∫•u m·ªôt "kh√°t v·ªçng Trung Nguy√™n" - n√¢ng t·∫ßm h·∫°t c√† ph√™ Vi·ªát Nam tr√™n b·∫£n ƒë·ªì th·∫ø gi·ªõi. √îng kh√¥ng ch·ªâ b√°n c√† ph√™, √¥ng b√°n m·ªôt "vƒÉn h√≥a c√† ph√™". V∆∞·ª£t qua v√¥ v√†n th·∫•t b·∫°i v√† c·∫°nh tranh, Trung Nguy√™n ƒë√£ tr·ªü th√†nh th∆∞∆°ng hi·ªáu c√† ph√™ s·ªë 1 Vi·ªát Nam v√† v∆∞∆°n ra qu·ªëc t·∫ø.</p>
                     <p class="italic">33 tu·ªïi, √¥ng ƒë√£ t·∫°o ra m·ªôt ƒë·∫ø ch·∫ø c√† ph√™ danh ti·∫øng, d√°m t·ª´ b·ªè con ƒë∆∞·ªùng an to√†n (sinh vi√™n Y khoa) ƒë·ªÉ theo ƒëu·ªïi ƒëam m√™ ch√°y b·ªèng.</p>
                     <p class="mt-6 p-4 bg-green-50 border-l-4 border-green-400 rounded-r-lg">
                         <strong>√ù nghƒ©a r√∫t ra:</strong> ƒêam m√™ l√† ng·ªçn ƒëu·ªëc d·∫´n ƒë∆∞·ªùng. √îng ƒê·∫∑ng L√™ Nguy√™n V≈© ƒë√£ ch·ª©ng minh r·∫±ng vi·ªác d√°m t·ª´ b·ªè con ƒë∆∞·ªùng an to√†n ƒë·ªÉ theo ƒëu·ªïi ƒëam m√™ ch√°y b·ªèng, k·∫øt h·ª£p v·ªõi s·ª± ki√™n tr√¨ v√† t·∫ßm nh√¨n l·ªõn, c√≥ th·ªÉ bi·∫øn m·ªôt s·∫£n ph·∫©m ƒë·ªãa ph∆∞∆°ng th√†nh th∆∞∆°ng hi·ªáu to√†n c·∫ßu. ƒê·ª´ng s·ª£ ƒëi ng∆∞·ª£c s·ªë ƒë√¥ng n·∫øu b·∫°n tin v√†o con ƒë∆∞·ªùng c·ªßa m√¨nh.
                     </p>
                 `
             },
             'sanders': {
                 title: "Harland Sanders: Huy·ªÅn tho·∫°i KFC ·ªü tu·ªïi 66",
                 content: `
                     <p class="mb-4">ƒê·∫°i t√° Harland Sanders (1890-1980), ng∆∞·ªùi s√°ng l·∫≠p th∆∞∆°ng hi·ªáu g√† r√°n KFC (Kentucky Fried Chicken), l√† m·ªôt bi·ªÉu t∆∞·ª£ng cho s·ª± ki√™n tr√¨ v√† kh·ªüi nghi·ªáp mu·ªôn m√†ng.</p>
                     <p class="mb-4">√îng c√≥ m·ªôt cu·ªôc ƒë·ªùi ƒë·∫ßy gian tru√¢n. B·ªè h·ªçc t·ª´ s·ªõm, √¥ng ƒë√£ l√†m ƒë·ªß th·ª© ngh·ªÅ, t·ª´ l√≠nh c·ª©u h·ªèa, l√°i t√†u h∆°i n∆∞·ªõc, b√°n b·∫£o hi·ªÉm ƒë·∫øn n√¥ng d√¢n... v√† th∆∞·ªùng xuy√™n th·∫•t b·∫°i ho·∫∑c b·ªã sa th·∫£i.</p>
                     <p class="mb-4">NƒÉm 40 tu·ªïi, √¥ng b·∫Øt ƒë·∫ßu n·∫•u ƒÉn v√† b√°n g√† r√°n cho kh√°ch d·ª´ng ch√¢n t·∫°i m·ªôt tr·∫°m xƒÉng ·ªü Corbin, Kentucky. M√≥n g√† c·ªßa √¥ng d·∫ßn tr·ªü n√™n n·ªïi ti·∫øng. Tuy nhi√™n, vi·ªác kinh doanh g·∫∑p nhi·ªÅu bi·∫øn c·ªë, bao g·ªìm c·∫£ vi·ªác nh√† h√†ng b·ªã ch√°y r·ª•i v√† sau ƒë√≥ l√† s·ª± s·ª•t gi·∫£m kh√°ch h√†ng do ƒë∆∞·ªùng cao t·ªëc m·ªõi ƒë∆∞·ª£c x√¢y d·ª±ng.</p>
                     <p class="mb-4">·ªû tu·ªïi 65, v·ªõi s·ªë ti·ªÅn tr·ª£ c·∫•p x√£ h·ªôi √≠t ·ªèi, √¥ng quy·∫øt ƒë·ªãnh kh√¥ng b·ªè cu·ªôc. √îng tin t∆∞·ªüng v√†o c√¥ng th·ª©c g√† r√°n 11 lo·∫°i gia v·ªã b√≠ m·∫≠t c·ªßa m√¨nh v√† b·∫Øt ƒë·∫ßu h√†nh tr√¨nh ƒëi kh·∫Øp n∆∞·ªõc M·ªπ ƒë·ªÉ b√°n c√¥ng th·ª©c n√†y cho c√°c nh√† h√†ng kh√°c theo h√¨nh th·ª©c nh∆∞·ª£ng quy·ªÅn.</p>
                     <p class="mb-4">√îng ƒë√£ b·ªã t·ª´ ch·ªëi 1009 l·∫ßn. Ch·ªâ ƒë·∫øn l·∫ßn th·ª© 1010, √¥ng m·ªõi c√≥ ƒë∆∞·ª£c h·ª£p ƒë·ªìng ƒë·∫ßu ti√™n. T·ª´ ƒë√≥, ƒë·∫ø ch·∫ø KFC ra ƒë·ªùi. Khi √¥ng b√°n l·∫°i c√¥ng ty, √¥ng ƒë√£ 75 tu·ªïi v√† tr·ªü th√†nh tri·ªáu ph√∫.</p>
                     <p class="italic">Tr·∫£i qua m·ªôt cu·ªôc ƒë·ªùi c·ª±c nh·ªçc, ·ªü tu·ªïi 66, Harland Sanders quy·∫øt t√¢m t·∫°o ra c√¥ng th·ª©c g√† r√°n c·ªßa ri√™ng m√¨nh... th·∫•t b·∫°i ch·ªâ l√† t·∫°m th·ªùi n·∫øu b·∫°n kh√¥ng bao gi·ªù t·ª´ b·ªè.</p>
                     <p class="mt-6 p-4 bg-red-50 border-l-4 border-red-400 rounded-r-lg">
                         <strong>√ù nghƒ©a r√∫t ra:</strong> Kh√¥ng bao gi·ªù l√† qu√° tr·ªÖ ƒë·ªÉ b·∫Øt ƒë·∫ßu. ƒê·∫°i t√° Sanders l√† bi·ªÉu t∆∞·ª£ng cho s·ª± ki√™n tr√¨ b·ªÅn b·ªâ, ch·ª©ng minh r·∫±ng tu·ªïi t√°c kh√¥ng ph·∫£i l√† r√†o c·∫£n. B·ªã t·ª´ ch·ªëi 1009 l·∫ßn, √¥ng v·∫´n tin t∆∞·ªüng v√†o c√¥ng th·ª©c c·ªßa m√¨nh. Th·∫•t b·∫°i ch·ªâ l√† t·∫°m th·ªùi n·∫øu b·∫°n th·ª±c s·ª± tin v√†o gi√° tr·ªã m√¨nh t·∫°o ra v√† kh√¥ng bao gi·ªù t·ª´ b·ªè.
                     </p>
                 `
             }
         };

         // --- C√ÇU CHUY·ªÜN TRUY·ªÄN C·∫¢M H·ª®NG (MODAL LOGIC - Moved outside DOMContentLoaded) ---
         // Make showStoryModal globally accessible
         window.showStoryModal = function(storyId) {
             const story = storyModals[storyId];
             const modal = document.getElementById('storyModal'); // Get modal here
             if (story && modal) {
                 document.getElementById('modal-story-title').textContent = story.title;
                 document.getElementById('modal-story-body').innerHTML = story.content;
                 modal.style.display = 'block';
             }
         }
         
        // H√†m ƒë√≥ng Modal c√¢u chuy·ªán
        function closeStoryModal() {
            const modal = document.getElementById('storyModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // --- LOGIC TAB MINIGAME ---
        function showGameTab(tabId, clickedButton) {
            // ·∫®n t·∫•t c·∫£ n·ªôi dung tab
            document.getElementById('game1-content').style.display = 'none';
            document.getElementById('game2-content').style.display = 'none';
            
            // H·ªßy k√≠ch ho·∫°t t·∫•t c·∫£ c√°c n√∫t tab
            const tabButtons = document.querySelectorAll('.game-tab-btn');
            tabButtons.forEach(btn => btn.classList.remove('active'));
            
            // Hi·ªÉn th·ªã n·ªôi dung tab ƒë∆∞·ª£c ch·ªçn
            document.getElementById(tabId + '-content').style.display = 'block';
            
            // K√≠ch ho·∫°t n√∫t ƒë∆∞·ª£c nh·∫•p
            if (clickedButton) {
                clickedButton.classList.add('active');
            } else {
                // M·∫∑c ƒë·ªãnh k√≠ch ho·∫°t tab ƒë·∫ßu ti√™n n·∫øu kh√¥ng c√≥ n√∫t n√†o ƒë∆∞·ª£c cung c·∫•p
                tabButtons[0].classList.add('active');
            }
        }

        // --- CUSTOM ALERT MODAL ---
        function showCustomModal(title, message) {
            // (Modal n√†y c·∫ßn ƒë∆∞·ª£c th√™m v√†o HTML, nh∆∞ng logic JS ·ªü ƒë√¢y)
            // Gi·∫£ s·ª≠ b·∫°n c√≥ m·ªôt modal v·ªõi ID 'customAlertModal'
            const modal = document.getElementById('customAlertModal');
            if (modal) {
                document.getElementById('customAlertTitle').textContent = title;
                document.getElementById('customAlertMessage').innerHTML = message;
                modal.style.display = 'block';
            } else {
                // Fallback n·∫øu modal kh√¥ng t·ªìn t·∫°i (kh√¥ng khuy·∫øn kh√≠ch)
                console.log("Modal Info:", title, message);
            }
        }

        // --- NAVIGATION ---
        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        function showPage(pageId) {
            document.querySelectorAll('.page-content').forEach(page => page.style.display = 'none');
            const pageToShow = document.getElementById(pageId + '-page');
            if (pageToShow) {
                pageToShow.style.display = 'block';
            } else {
                // Trang m·∫∑c ƒë·ªãnh n·∫øu kh√¥ng t√¨m th·∫•y
                document.getElementById('home-page').style.display = 'block';
            }
            
            // Kh·ªüi t·∫°o ho·∫∑c c·∫≠p nh·∫≠t n·ªôi dung khi hi·ªÉn th·ªã
            if (pageId === 'quiz-disc') initializeQuiz('disc');
            if (pageId === 'quiz-holland') initializeQuiz('holland');
            if (pageId === 'quiz-mbti') initializeQuiz('mbti');
            if (pageId === 'search' && !isSearchChatReady) setupChatbot('search');
            if (pageId === 'advice' && !isAdviceChatReady) setupChatbot('advice');
            if (pageId === 'admissions') showAdmissionsTab('tab-thpt'); // Hi·ªÉn th·ªã tab ƒë·∫ßu ti√™n c·ªßa Tuy·ªÉn sinh
            if (pageId === 'api-test') testGeminiAPI(); // T·ª± ƒë·ªông ch·∫°y test khi v√†o trang
            if (pageId === 'minigame') showGameTab('game1', document.querySelector('.game-tab-btn')); // K√≠ch ho·∫°t tab ƒë·∫ßu ti√™n
            if (pageId === 'scholarship') {
                 setupScholarshipTabs(); // Thi·∫øt l·∫≠p tab h·ªçc b·ªïng
                 filterScholarships(); // Hi·ªÉn th·ªã t·∫•t c·∫£ ban ƒë·∫ßu
            }

            // ƒê√≥ng menu mobile sau khi ch·ªçn
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.add('hidden');
            }
            window.scrollTo(0, 0); // Cu·ªôn l√™n ƒë·∫ßu trang
        }

        // --- API & CHATBOT ---
         const apiKey = "AIzaSyDmA3KF2x1tM_EgVjfNchjTODgmPf9v5yI"; // Canvas s·∫Ω t·ª± ƒë·ªông cung c·∫•p API Key
        const GEMINI_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent"; 
        
        let isSearchChatReady = false;
        let isAdviceChatReady = false;
        let searchChatHistory = [{ role: "model", parts: [{ text: "Ch√†o b·∫°n! T√¥i l√† AI H∆∞·ªõng Nghi·ªáp. H√£y nh·∫≠p ng√†nh ngh·ªÅ (v√≠ d·ª•: 'C√¥ng ngh·ªá Th√¥ng tin') ƒë·ªÉ t√¥i tra c·ª©u th√¥ng tin m·ªõi nh·∫•t v√† tr√≠ch d·∫´n ngu·ªìn cho b·∫°n." }] }];
        let adviceChatHistory = [{ role: "model", parts: [{ text: "Ch√†o b·∫°n. T√¥i l√† AI T∆∞ V·∫•n. H√£y chia s·∫ª b·∫•t k·ª≥ kh√≥ khƒÉn hay bƒÉn khoƒÉn n√†o b·∫°n ƒëang g·∫∑p ph·∫£i. T√¥i s·∫Ω l·∫Øng nghe v√† ƒë∆∞a ra l·ªùi khuy√™n ch√¢n th√†nh." }] }];

        // H√†m fetch v·ªõi x·ª≠ l√Ω l·ªói 429 (qu√° t·∫£i)
        async function exponentialBackoffFetch(url, options, maxRetries = 5) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(url + `?key=${apiKey}`, options); // Th√™m key v√†o URL
                    if (response.status === 429 && i < maxRetries - 1) {
                        const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                        // console.log(`Rate limited. Retrying after ${delay}ms...`);
                        await new Promise(resolve => setTimeout(resolve, delay));
                        continue; // Th·ª≠ l·∫°i
                    }
                    if (!response.ok) {
                        const errorBody = await response.text();
                         console.error("API Error Response:", errorBody);
                         throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response;
                } catch (error) {
                    // console.error(`Attempt ${i+1} failed:`, error);
                    if (i === maxRetries - 1) throw error; // N√©m l·ªói sau l·∫ßn th·ª≠ cu·ªëi
                    const delay = Math.pow(2, i) * 1000 + Math.random() * 1000;
                    await new Promise(resolve => setTimeout(resolve, delay));
                }
            }
        }

        function setupChatbot(mode) {
            const isSearch = mode === 'search';
            if ((isSearch && isSearchChatReady) || (!isSearch && isAdviceChatReady)) return;

            const historyElement = isSearch ? document.getElementById('chat-history') : document.getElementById('advice-chat-history');
            const inputElement = isSearch ? document.getElementById('search-user-input') : document.getElementById('advice-user-input');
            const sendButton = isSearch ? document.getElementById('search-send-btn') : document.getElementById('advice-send-btn');
            const chatHistory = isSearch ? searchChatHistory : adviceChatHistory;
            
            historyElement.innerHTML = '';
            chatHistory.forEach(msg => appendMessage(historyElement, msg.parts[0].text, msg.role));
            historyElement.scrollTop = historyElement.scrollHeight;

            inputElement.disabled = false;
            sendButton.disabled = false;

            const sendMessageHandler = () => {
                const userInput = inputElement.value.trim();
                if (userInput) sendMessageToGemini(userInput, mode);
            };

            // G·ª° b·ªè tr√¨nh nghe c≈© (n·∫øu c√≥) ƒë·ªÉ tr√°nh g·ªçi nhi·ªÅu l·∫ßn
            sendButton.onclick = null;
            inputElement.onkeypress = null;

            sendButton.addEventListener('click', sendMessageHandler);
            inputElement.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendMessageHandler();
            });

            if (isSearch) isSearchChatReady = true;
            else isAdviceChatReady = true;
        }

        function appendMessage(historyElement, text, sender, sources = []) {
            const isUser = sender === 'user';
            const messageDiv = document.createElement('div');
            messageDiv.className = `flex ${isUser ? 'justify-end' : 'justify-start'}`;

            let sourcesHtml = '';
            if (!isUser && sources.length > 0) {
                const displayedSources = sources.slice(0, 3); // Gi·ªõi h·∫°n 3 ngu·ªìn
                sourcesHtml = `
                    <div class="mt-2 text-xs text-gray-500 border-t border-gray-300 pt-2">
                        <p class="font-semibold mb-1">Ngu·ªìn tr√≠ch d·∫´n:</p>
                        <ul class="space-y-1">
                            ${displayedSources.map((src, i) => `<li><a href="${src.uri}" target="_blank" class="text-blue-600 hover:underline truncate block max-w-full">${i + 1}. ${src.title || src.uri}</a></li>`).join('')}
                        </ul>
                    </div>`;
            }
            
            // ƒê·ªãnh d·∫°ng markdown c∆° b·∫£n
            const formattedText = text
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

            messageDiv.innerHTML = `
                <div class="message-bubble ${isUser ? 'user-message' : 'ai-message'} shadow-md">
                    ${formattedText}
                    ${sourcesHtml}
                </div>`;
            historyElement.appendChild(messageDiv);
        }

        function appendTypingIndicator(historyElement) {
            removeTypingIndicator(); // ƒê·∫£m b·∫£o kh√¥ng tr√πng l·∫∑p
            const indicatorDiv = document.createElement('div');
            indicatorDiv.id = 'typing-indicator';
            indicatorDiv.className = 'flex justify-start';
            indicatorDiv.innerHTML = `
                <div class="message-bubble ai-message shadow-md typing-indicator">
                    <span></span><span></span><span></span>
                </div>`;
            historyElement.appendChild(indicatorDiv);
            historyElement.scrollTop = historyElement.scrollHeight;
        }

        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) indicator.remove();
        }

        async function sendMessageToGemini(userInput, mode) {
            const isSearch = mode === 'search';
            const chatHistory = isSearch ? searchChatHistory : adviceChatHistory;
            const historyElement = isSearch ? document.getElementById('chat-history') : document.getElementById('advice-chat-history');
            const inputElement = isSearch ? document.getElementById('search-user-input') : document.getElementById('advice-user-input');
            const sendButton = isSearch ? document.getElementById('search-send-btn') : document.getElementById('advice-send-btn');

            // V√¥ hi·ªáu h√≥a input v√† hi·ªÉn th·ªã loading
            inputElement.disabled = true;
            sendButton.disabled = true;
            sendButton.innerHTML = `<svg class="animate-spin h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>`;

            // Th√™m tin nh·∫Øn c·ªßa ng∆∞·ªùi d√πng
            chatHistory.push({ role: "user", parts: [{ text: userInput }] });
            appendMessage(historyElement, userInput, 'user');
            appendTypingIndicator(historyElement);
            historyElement.scrollTop = historyElement.scrollHeight;

            // Chu·∫©n b·ªã payload
            const systemPrompt = isSearch 
                ? "B·∫°n l√† m·ªôt chuy√™n gia h∆∞·ªõng nghi·ªáp. H√£y s·ª≠ d·ª•ng Google Search ƒë·ªÉ t√¨m ki·∫øm th√¥ng tin v·ªÅ ng√†nh ngh·ªÅ c·ªßa ng∆∞·ªùi d√πng. Tr·∫£ l·ªùi chi ti·∫øt, ch√≠nh x√°c b·∫±ng ti·∫øng Vi·ªát v√† tr√≠ch d·∫´n t·∫•t c·∫£ c√°c ngu·ªìn."
                : "B·∫°n l√† m·ªôt ng∆∞·ªùi l·∫Øng nghe ch√¢n th√†nh, th·∫•u c·∫£m. H√£y ƒë∆∞a ra l·ªùi khuy√™n ch√¢n th√†nh, kh√≠ch l·ªá v√† kh√¥ng ph√°n x√©t b·∫±ng ti·∫øng Vi·ªát, t·∫≠p trung gi√∫p ng∆∞·ªùi d√πng gi·∫£i quy·∫øt bƒÉn khoƒÉn v·ªÅ s·ª± nghi·ªáp ho·∫∑c cu·ªôc s·ªëng.";

            const payload = {
                contents: chatHistory,
                systemInstruction: { parts: [{ text: systemPrompt }] },
            };
            if (isSearch) {
                payload.tools = [{ "google_search": {} }];
            }

            // const apiUrl = `${GEMINI_API_URL}?key=${apiKey}`; // API Key is handled by Canvas

            let aiResponseText = "Xin l·ªói, ƒë√£ x·∫£y ra l·ªói. Vui l√≤ng th·ª≠ l·∫°i.";
            let sources = [];

            // G·ªçi API
            try {
                const response = await exponentialBackoffFetch(GEMINI_API_URL, { // Pass URL without key
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                const candidate = result.candidates?.[0];

                if (candidate?.content?.parts?.[0]?.text) {
                    aiResponseText = candidate.content.parts[0].text;
                    const groundingMetadata = candidate.groundingMetadata;
                    if (groundingMetadata?.groundingAttributions) {
                        sources = groundingMetadata.groundingAttributions
                            .map(attr => ({ uri: attr.web?.uri, title: attr.web?.title }))
                            .filter(src => src.uri && src.title);
                    }
                    chatHistory.push({ role: "model", parts: [{ text: aiResponseText }] });
                } else if (result.error) {
                    aiResponseText = `ƒê√£ x·∫£y ra l·ªói: ${result.error.message}`;
                    console.error("Gemini API Error:", result.error);
                } else {
                     aiResponseText = "Kh√¥ng nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi h·ª£p l·ªá t·ª´ AI.";
                     console.error("Invalid API Response:", result);
                }
            } catch (error) {
                console.error("API Call failed:", error);
                aiResponseText = "ƒê√£ x·∫£y ra l·ªói k·∫øt n·ªëi. Vui l√≤ng ki·ªÉm tra l·∫°i k·∫øt n·ªëi m·∫°ng ho·∫∑c th·ª≠ l·∫°i sau.";
            } finally {
                // Kh√¥i ph·ª•c UI
                removeTypingIndicator();
                appendMessage(historyElement, aiResponseText, 'ai', sources);
                historyElement.scrollTop = historyElement.scrollHeight;
                
                inputElement.disabled = false;
                sendButton.disabled = false;
                sendButton.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.917H3.75a.75.75 0 00-.75.75v6.75a.75.75 0 001.085.67L17.25 4.75l-13.772-2.345Z" /></svg>`;
                inputElement.value = '';
                inputElement.focus();
            }
        }
        
        // --- API TEST PAGE LOGIC ---
        async function testGeminiAPI() {
            const btn = document.getElementById('api-test-btn');
            const resultEl = document.getElementById('api-test-result');
            const statusEl = document.getElementById('api-test-status');
            
            if (!btn || !resultEl || !statusEl || btn.disabled) return; // Ki·ªÉm tra element t·ªìn t·∫°i
            
            btn.disabled = true;
            btn.textContent = 'ƒêang ki·ªÉm tra...';
            resultEl.value = '';
            statusEl.textContent = 'ƒêang g·ª≠i y√™u c·∫ßu ƒë·∫øn Gemini...';
            
            const testPrompt = "Vi·∫øt m·ªôt c√¢u ch√†o b·∫±ng ti·∫øng Vi·ªát.";
            
            const payload = {
                contents: [{ role: "user", parts: [{ text: testPrompt }] }]
            };
            // const apiUrl = `${GEMINI_API_URL}?key=${apiKey}`; // Key handled by Canvas

            try {
                const response = await exponentialBackoffFetch(GEMINI_API_URL, { // Pass URL without key
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                
                if (result.candidates?.[0]?.content?.parts?.[0]?.text) {
                    resultEl.value = `Y√äU C·∫¶U: ${testPrompt}\n\nK·∫æT QU·∫¢:\n${result.candidates[0].content.parts[0].text}`;
                    statusEl.textContent = 'Ki·ªÉm tra th√†nh c√¥ng!';
                    statusEl.classList.remove('text-red-500');
                    statusEl.classList.add('text-green-500');
                } else if (result.error) {
                    throw new Error(result.error.message);
                } else {
                    throw new Error('Ph·∫£n h·ªìi API kh√¥ng h·ª£p l·ªá.');
                }
            } catch (error) {
                console.error("API Test failed:", error);
                resultEl.value = `L·ªñI: ${error.message}\n\nVui l√≤ng ki·ªÉm tra Console (F12) ƒë·ªÉ bi·∫øt chi ti·∫øt.`;
                statusEl.textContent = 'Ki·ªÉm tra th·∫•t b·∫°i. Vui l√≤ng th·ª≠ l·∫°i.';
                statusEl.classList.remove('text-green-500');
                statusEl.classList.add('text-red-500');
            } finally {
                btn.disabled = false;
                btn.textContent = 'B·∫Øt ƒë·∫ßu Ki·ªÉm tra l·∫°i';
            }
        }

        // --- ADMISSIONS PAGE LOGIC ---
        function showAdmissionsTab(tabId) {
            const tabButtons = document.querySelectorAll('#admissions-page .admissions-tab-button');
            const tabPanels = document.querySelectorAll('#admissions-page .admissions-tab-panel');

            // 1. T·∫Øt active t·∫•t c·∫£ c√°c n√∫t tab v√† ·∫©n panel
            tabButtons.forEach(btn => {
                btn.classList.remove('tab-active', 'text-blue-600');
                btn.classList.add('text-gray-600');
            });
            tabPanels.forEach(panel => {
                panel.classList.add('hidden');
            });

            // 2. T√¨m v√† b·∫≠t active n√∫t + hi·ªÉn th·ªã panel t∆∞∆°ng ·ª©ng
            const activeButton = document.querySelector(`#admissions-page .admissions-tab-button[data-tab="${tabId}"]`);
            const activePanel = document.getElementById(tabId);

            if (activeButton) {
                activeButton.classList.add('tab-active', 'text-blue-600');
                activeButton.classList.remove('text-gray-600');
            }
            if (activePanel) {
                activePanel.classList.remove('hidden');
            }
        }
        
        // G·∫Øn s·ª± ki·ªán click cho c√°c n√∫t tab tuy·ªÉn sinh
        document.addEventListener('DOMContentLoaded', function () {
            const admissionsTabButtons = document.querySelectorAll('#admissions-page .admissions-tab-button');
            admissionsTabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.getAttribute('data-tab');
                    showAdmissionsTab(targetTab);
                });
            });
        });

        // --- SCHOLARSHIP PAGE LOGIC ---
        const allScholarshipsData = [
            // Xu·∫•t s·∫Øc
            { id: 1, type: 'xuat-sac', category: 'H·ªçc thu·∫≠t', level: 'ƒê·∫°i h·ªçc', location: 'Trong n∆∞·ªõc', field: 'K·ªπ thu·∫≠t', title: "H·ªçc b·ªïng To√†n ph·∫ßn ƒê·∫°i h·ªçc FPT", sponsor: "T·∫≠p ƒëo√†n FPT", value: "100% h·ªçc ph√≠", deadline: "2025-11-30", link: "#", isExpiringSoon: false },
            { id: 2, type: 'xuat-sac', category: 'Du h·ªçc', level: 'ƒê·∫°i h·ªçc', location: 'Du h·ªçc', field: 'Kinh t·∫ø', title: "H·ªçc b·ªïng Ch√≠nh ph·ªß H√†n Qu·ªëc (GKS)", sponsor: "Ch√≠nh ph·ªß H√†n Qu·ªëc", value: "To√†n ph·∫ßn + V√© m√°y bay + Sinh ho·∫°t ph√≠", deadline: "2025-12-15", link: "#", isExpiringSoon: false },
            { id: 3, type: 'xuat-sac', category: 'T√†i nƒÉng', level: 'C·∫•p 3', location: 'Trong n∆∞·ªõc', field: 'Ngh·ªá thu·∫≠t', title: "H·ªçc b·ªïng √Çm nh·∫°c Tr·∫ª 2025", sponsor: "Qu·ªπ Giai ƒêi·ªáu Vi·ªát", value: "50.000.000 VNƒê", deadline: "2025-11-25", link: "#", isExpiringSoon: false },
            // Kh√≥ khƒÉn
            { id: 4, type: 'kho-khan', category: 'V∆∞·ª£t kh√≥', level: 'ƒê·∫°i h·ªçc', location: 'Trong n∆∞·ªõc', field: '', title: "H·ªçc b·ªïng \"Ti·∫øp s·ª©c ƒë·∫øn tr∆∞·ªùng\"", sponsor: "B√°o Tu·ªïi Tr·∫ª", value: "15.000.000 VNƒê + qu√† t·∫∑ng", deadline: "2025-12-01", link: "#", isExpiringSoon: false },
            { id: 5, type: 'kho-khan', category: 'H·ªó tr·ª£', level: 'ƒê·∫°i h·ªçc', location: 'Trong n∆∞·ªõc', field: '', title: "H·ªçc b·ªïng \"Ch·∫Øp c√°nh ∆∞·ªõc m∆°\"", sponsor: "Qu·ªπ V·ª´ A D√≠nh", value: "H·ªó tr·ª£ sinh ho·∫°t ph√≠ h√†ng th√°ng", deadline: "2025-12-10", link: "#", isExpiringSoon: false },
            // S·∫Øp h·∫øt h·∫°n (v√≠ d·ª•)
            { id: 6, type: 'xuat-sac', category: 'T√†i nƒÉng', level: 'ƒê·∫°i h·ªçc', location: 'Trong n∆∞·ªõc', field: 'Kinh t·∫ø', title: "H·ªçc b·ªïng T√†i nƒÉng Tr·∫ª VinUniversity", sponsor: "VinUniversity", value: "75% - 100% h·ªçc ph√≠", deadline: "2025-10-28", link: "#", isExpiringSoon: true }, // Ng√†y g·∫ßn hi·ªán t·∫°i
        ];

        function createScholarshipCard(scholarship) {
            const today = new Date();
            const deadlineDate = new Date(scholarship.deadline);
            const diffTime = deadlineDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            let deadlineText = `H·∫°n n·ªôp: ${deadlineDate.toLocaleDateString('vi-VN')}`;
            let isUrgent = false;

            if (diffDays >= 0 && diffDays <= 7) { // C√≤n 7 ng√†y ho·∫∑c √≠t h∆°n
                deadlineText += ` (C√≤n ${diffDays} ng√†y)`;
                isUrgent = true;
                scholarship.isExpiringSoon = true; // C·∫≠p nh·∫≠t tr·∫°ng th√°i s·∫Øp h·∫øt h·∫°n
            } else if (diffDays < 0) {
                 deadlineText += ` (ƒê√£ h·∫øt h·∫°n)`;
                 // C√≥ th·ªÉ kh√¥ng hi·ªÉn th·ªã th·∫ª h·∫øt h·∫°n, t√πy logic filter
            }
            
            const categoryColors = {
                'H·ªçc thu·∫≠t': 'bg-green-100 text-green-800',
                'Du h·ªçc': 'bg-purple-100 text-purple-800',
                'T√†i nƒÉng': 'bg-yellow-100 text-yellow-800',
                'V∆∞·ª£t kh√≥': 'bg-blue-100 text-blue-800',
                'H·ªó tr·ª£': 'bg-blue-100 text-blue-800',
                'G·∫•p': 'bg-red-100 text-red-800' // Cho tab s·∫Øp h·∫øt h·∫°n
            };
            const categoryClass = categoryColors[scholarship.category] || 'bg-gray-100 text-gray-800';
            const borderClass = isUrgent ? 'border-2 border-red-500' : '';

            return `
                <div class="bg-white rounded-lg shadow-lg overflow-hidden transition-transform transform hover:-translate-y-1 ${borderClass}">
                    <div class="p-5">
                        <span class="inline-block ${categoryClass} text-xs px-2 rounded-full uppercase font-semibold tracking-wide">
                            ${scholarship.category}
                        </span>
                        <h3 class="mt-2 text-xl font-semibold text-gray-900">${scholarship.title}</h3>
                        <p class="mt-1 text-sm text-gray-600">Nh√† t√†i tr·ª£: ${scholarship.sponsor}</p>
                        <div class="mt-3">
                            <p class="text-gray-700"><span class="font-medium">Gi√° tr·ªã:</span> ${scholarship.value}</p>
                            <p class="${isUrgent ? 'text-red-600' : 'text-gray-700'} font-medium">${deadlineText}</p>
                        </div>
                    </div>
                    <div class="px-5 pb-5 bg-gray-50">
                        <a href="${scholarship.link}" target="_blank" class="block w-full text-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700">
                            Xem chi ti·∫øt
                        </a>
                    </div>
                </div>
            `;
        }

        function displayScholarships(scholarships) {
            const container = document.getElementById('scholarship-results-container');
            const noResultsMsg = document.getElementById('no-results-message');
            if (!container || !noResultsMsg) return;

            container.innerHTML = ''; // X√≥a k·∫øt qu·∫£ c≈©
            if (scholarships.length === 0) {
                noResultsMsg.classList.remove('hidden');
            } else {
                noResultsMsg.classList.add('hidden');
                scholarships.forEach(scholarship => {
                    // Ch·ªâ hi·ªÉn th·ªã h·ªçc b·ªïng ch∆∞a h·∫øt h·∫°n
                    const deadlineDate = new Date(scholarship.deadline);
                    if (deadlineDate >= new Date()) {
                       container.innerHTML += createScholarshipCard(scholarship);
                    }
                });
            }
        }
        
        function getActiveScholarshipTab() {
            const activeButton = document.querySelector('#scholarship-page .scholarship-tab-button.tab-active');
            return activeButton ? activeButton.getAttribute('data-tab') : 'tab-xuat-sac'; // M·∫∑c ƒë·ªãnh l√† xu·∫•t s·∫Øc
        }


        function filterScholarships() {
            const searchTerm = document.getElementById('scholarship-search-input')?.value.toLowerCase() || '';
            const level = document.getElementById('filter-level')?.value || '';
            const location = document.getElementById('filter-location')?.value || '';
            const field = document.getElementById('filter-field')?.value || '';
            const activeTab = getActiveScholarshipTab(); // L·∫•y tab ƒëang active

            let filtered = allScholarshipsData.filter(s => {
                const titleMatch = s.title.toLowerCase().includes(searchTerm);
                const sponsorMatch = s.sponsor.toLowerCase().includes(searchTerm);
                const levelMatch = !level || s.level === level;
                const locationMatch = !location || s.location === location || (location === "Trong n∆∞·ªõc" && s.location !== "Du h·ªçc") || (location === "Du h·ªçc" && s.location === "Du h·ªçc");
                const fieldMatch = !field || s.field === field;
                
                 // L·ªçc theo tab
                let tabMatch = false;
                if (activeTab === 'tab-xuat-sac') tabMatch = s.type === 'xuat-sac';
                else if (activeTab === 'tab-kho-khan') tabMatch = s.type === 'kho-khan';
                else if (activeTab === 'tab-sap-het-han') {
                    // Ki·ªÉm tra ng√†y h·∫øt h·∫°n
                    const today = new Date();
                    const deadlineDate = new Date(s.deadline);
                    const diffTime = deadlineDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    tabMatch = diffDays >= 0 && diffDays <= 7; // C√≤n h·∫°n v√† trong v√≤ng 7 ng√†y
                }


                return (titleMatch || sponsorMatch) && levelMatch && locationMatch && fieldMatch && tabMatch;
            });

            displayScholarships(filtered);
        }

        // H√†m thi·∫øt l·∫≠p s·ª± ki·ªán cho c√°c tab h·ªçc b·ªïng
        function setupScholarshipTabs() {
            const tabButtons = document.querySelectorAll('#scholarship-page .scholarship-tab-button');
            
            tabButtons.forEach(button => {
                // G·ª° b·ªè listener c≈© n·∫øu c√≥ ƒë·ªÉ tr√°nh tr√πng l·∫∑p
                button.replaceWith(button.cloneNode(true)); 
            });
            
            // G·∫Øn listener m·ªõi
            const newTabButtons = document.querySelectorAll('#scholarship-page .scholarship-tab-button');
            newTabButtons.forEach(button => {
                 button.addEventListener('click', () => {
                    // B·ªè active ·ªü t·∫•t c·∫£ c√°c n√∫t
                    newTabButtons.forEach(btn => {
                        btn.classList.remove('tab-active');
                        // Th√™m l·∫°i c√°c class c∆° b·∫£n n·∫øu c·∫ßn (d·ª±a tr√™n CSS g·ªëc c·ªßa tab h·ªçc b·ªïng)
                         btn.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300', 'py-4', 'px-1', 'border-b-2', 'font-medium', 'text-sm');
                    });
                    
                    // Th√™m active cho n√∫t ƒë∆∞·ª£c click
                    button.classList.add('tab-active');
                    // B·ªè c√°c class c∆° b·∫£n
                    button.classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-700', 'hover:border-gray-300');

                    // L·ªçc l·∫°i h·ªçc b·ªïng theo tab m·ªõi
                    filterScholarships();
                 });
             });
        }
        
        // --- LOGIC TRANG TEST HUB (HI·ªÜN ƒê√É B·ªä THAY TH·∫æ) ---
        // (Gi·ªØ l·∫°i logic JS ph√≤ng tr∆∞·ªùng h·ª£p c·∫ßn d√πng)
        const benchmarkData = {
            A00: [
                { range: [15, 20], name: "K·ªπ thu·∫≠t M√¥i tr∆∞·ªùng, K·ªπ thu·∫≠t Tr·∫Øc ƒë·ªãa (ƒêH T√†i nguy√™n M√¥i tr∆∞·ªùng)", benchmark: 19.5 },
                { range: [20, 24], name: "K·ªπ thu·∫≠t √î t√¥, K·ªπ thu·∫≠t C∆° kh√≠ (ƒêH Giao th√¥ng V·∫≠n t·∫£i)", benchmark: 23.5 },
                { range: [24, 27], name: "K·ªπ thu·∫≠t ƒêi·ªán, K·ªπ thu·∫≠t ƒêi·ªÅu khi·ªÉn (ƒêH B√°ch Khoa HN)", benchmark: 26.5 },
                { range: [27, 30], name: "Khoa h·ªçc M√°y t√≠nh, CNTT (Top ƒë·∫ßu ƒêH B√°ch Khoa HN)", benchmark: 28.5 }
            ],
            A01: [
                { range: [18, 22], name: "Qu·∫£n tr·ªã D·ªãch v·ª• Du l·ªãch (ƒêH M·ªü)", benchmark: 21.5 },
                { range: [22, 25], name: "H·ªá th·ªëng Th√¥ng tin Qu·∫£n l√Ω (ƒêH Th∆∞∆°ng m·∫°i)", benchmark: 24.5 },
                { range: [25, 27], name: "Logistics, Qu·∫£n tr·ªã Kinh doanh (ƒêH Kinh t·∫ø Qu·ªëc d√¢n)", benchmark: 26.8 },
                { range: [27, 30], name: "C√¥ng ngh·ªá Th√¥ng tin (Global ICT - ƒêH B√°ch Khoa HN)", benchmark: 28.0 }
            ],
            B00: [
                { range: [16, 20], name: "C√¥ng ngh·ªá Sinh h·ªçc, N√¥ng nghi·ªáp (H·ªçc vi·ªán N√¥ng nghi·ªáp)", benchmark: 19.0 },
                { range: [20, 23], name: "C√¥ng ngh·ªá Th·ª±c ph·∫©m, D∆∞·ª£c h·ªçc (ƒêH C√¥ng nghi·ªáp HN)", benchmark: 22.5 },
                { range: [23, 26], name: "K·ªπ thu·∫≠t Y sinh, Y t·∫ø C√¥ng c·ªông (ƒêH B√°ch Khoa HN, ƒêH Y HN)", benchmark: 25.5 },
                { range: [26, 30], name: "Y ƒêa khoa, RƒÉng-H√†m-M·∫∑t (ƒêH Y H√† N·ªôi)", benchmark: 28.2 }
            ],
            C00: [
                { range: [17, 21], name: "Qu·∫£n l√Ω VƒÉn h√≥a, Th√¥ng tin-Th∆∞ vi·ªán (ƒêH VƒÉn h√≥a HN)", benchmark: 20.0 },
                { range: [21, 24], name: "Du l·ªãch, Vi·ªát Nam h·ªçc (ƒêH KHXH&NV - ƒêHQGHN)", benchmark: 23.5 },
                { range: [24, 27], name: "B√°o ch√≠, Quan h·ªá C√¥ng ch√∫ng (ƒêH KHXH&NV - ƒêHQGHN)", benchmark: 26.5 },
                { range: [27, 30], name: "ƒê√¥ng ph∆∞∆°ng h·ªçc, B√°o ch√≠ (Top ƒë·∫ßu HV B√°o ch√≠ & Tuy√™n truy·ªÅn)", benchmark: 28.8 }
            ],
            D01: [
                { range: [19, 23], name: "Ng√¥n ng·ªØ Anh (ƒêH H√† N·ªôi - h·ªá t·ª± ch·ªß)", benchmark: 22.0 },
                { range: [23, 26], name: "Kinh doanh Qu·ªëc t·∫ø, Marketing (ƒêH Th∆∞∆°ng m·∫°i)", benchmark: 25.5 },
                { range: [26, 28], name: "Kinh t·∫ø ƒê·ªëi ngo·∫°i, T√†i ch√≠nh-Ng√¢n h√†ng (ƒêH Ngo·∫°i th∆∞∆°ng)", benchmark: 27.5 },
                { range: [28, 30], name: "Ng√¥n ng·ªØ H√†n Qu·ªëc, ƒê√¥ng ph∆∞∆°ng h·ªçc (ƒêH KHXH&NV)", benchmark: 29.0 }
            ]
        };

        function calculateSuggestions() {
            const scores = {
                A00: parseFloat(document.getElementById('score-A00').value) || 0,
                A01: parseFloat(document.getElementById('score-A01').value) || 0,
                B00: parseFloat(document.getElementById('score-B00').value) || 0,
                C00: parseFloat(document.getElementById('score-C00').value) || 0,
                D01: parseFloat(document.getElementById('score-D01').value) || 0,
            };

            const tbody = document.getElementById('suggestions-tbody');
            tbody.innerHTML = ''; // X√≥a k·∫øt qu·∫£ c≈©
            let suggestionsFound = false;

            for (const combo in scores) {
                const score = scores[combo];
                if (score > 0 && benchmarkData[combo]) {
                    const suggestions = benchmarkData[combo].filter(item => score >= (item.benchmark - 2) && score <= (item.benchmark + 3)); // L·ªçc trong m·ªôt kho·∫£ng

                    if(suggestions.length === 0 && score > 15) {
                        // N·∫øu kh√¥ng c√≥ g·ª£i √Ω n√†o, t√¨m g·ª£i √Ω g·∫ßn nh·∫•t
                        const closest = benchmarkData[combo].reduce((prev, curr) =>
                            (Math.abs(curr.benchmark - score) < Math.abs(prev.benchmark - score) ? curr : prev)
                        );
                        suggestions.push(closest);
                    }

                    suggestions.forEach(item => {
                        suggestionsFound = true;
                        const status = score >= item.benchmark ? 'An to√†n' : (score >= item.benchmark - 1.5 ? 'C√≥ c∆° h·ªôi' : 'Th·ª≠ s·ª©c');
                        const statusClass = score >= item.benchmark ? 'text-green-600' : (score >= item.benchmark - 1.5 ? 'text-yellow-600' : 'text-red-600');

                        const row = `
                            <tr>
                                <td class="py-3 px-4 text-sm font-medium text-gray-900">${item.name}</td>
                                <td class="py-3 px-4 text-sm text-gray-600">${combo}</td>
                                <td class="py-3 px-4 text-sm text-gray-600">${item.benchmark.toFixed(2)}</td>
                                <td class="py-3 px-4 text-sm text-gray-600 font-bold">${score.toFixed(2)}</td>
                                <td class="py-3 px-4 text-sm font-bold ${statusClass}">${status}</td>
                            </tr>
                        `;
                        tbody.innerHTML += row;
                    });
                }
            }

            if (!suggestionsFound) {
                tbody.innerHTML = `<tr><td colspan="5" class="py-4 px-4 text-center text-gray-500 italic">Kh√¥ng t√¨m th·∫•y g·ª£i √Ω ph√π h·ª£p. Vui l√≤ng ki·ªÉm tra l·∫°i ƒëi·ªÉm s·ªë ƒë√£ nh·∫≠p.</td></tr>`;
            }
        }

        function clearScores() {
            document.getElementById('score-A00').value = '';
            document.getElementById('score-A01').value = '';
            document.getElementById('score-B00').value = '';
            document.getElementById('score-C00').value = '';
            document.getElementById('score-D01').value = '';
            const tbody = document.getElementById('suggestions-tbody');
            tbody.innerHTML = `<tr><td colspan="5" class="py-4 px-4 text-center text-gray-500 italic">Nh·∫≠p ƒëi·ªÉm c·ªßa b·∫°n v√† nh·∫•n "T√≠nh to√°n" ƒë·ªÉ xem g·ª£i √Ω.</td></tr>`;
        }

        // --- QUIZ ENGINES (DISC, HOLLAND, MBTI) ---
        // (To√†n b·ªô code cho 3 engine tr·∫Øc nghi·ªám ƒë∆∞·ª£c ƒë·∫∑t ·ªü ƒë√¢y)

        // --- 1. DISC Quiz Engine ---
        const DISCEngine = (function() {
             const fullQuestionsList = [
                {
                    text: "Khi l√†m vi·ªác nh√≥m, ƒëi·ªÅu g√¨ m√¥ t·∫£ b·∫°n t·ªët nh·∫•t?",
                    options: [
                        { trait: 'D', text: "T√¥i th√≠ch **l√£nh ƒë·∫°o** v√† ki·ªÉm so√°t k·∫øt qu·∫£." },
                        { trait: 'I', text: "T√¥i mang l·∫°i s·ª± **nhi·ªát t√¨nh** v√† t·∫≠p trung v√†o c√°c √Ω t∆∞·ªüng m·ªõi." },
                        { trait: 'S', text: "T√¥i ƒë·∫£m b·∫£o s·ª± **·ªïn ƒë·ªãnh** v√† h·ªó tr·ª£ ƒë·ªìng ƒë·ªôi." },
                        { trait: 'C', text: "T√¥i ch√∫ tr·ªçng **ch·∫•t l∆∞·ª£ng**, quy tr√¨nh v√† chi ti·∫øt." }
                    ]
                },
                {
                    text: "Trong t√¨nh hu·ªëng xung ƒë·ªôt ho·∫∑c √°p l·ª±c cao, ph·∫£n ·ª©ng c·ªßa b·∫°n l√† g√¨?",
                    options: [
                        { trait: 'D', text: "ƒê·ªëi ƒë·∫ßu tr·ª±c ti·∫øp v·∫•n ƒë·ªÅ ƒë·ªÉ t√¨m **gi·∫£i ph√°p nhanh**." },
                        { trait: 'I', text: "S·ª≠ d·ª•ng s·ª± h√†i h∆∞·ªõc v√† h√≤a gi·∫£i ƒë·ªÉ **gi·∫£m cƒÉng th·∫≥ng**." },
                        { trait: 'S', text: "Duy tr√¨ s·ª± **b√¨nh tƒ©nh**, l·∫Øng nghe ƒë·ªÉ tr√°nh xung ƒë·ªôt." },
                        { trait: 'C', text: "Ph√¢n t√≠ch nguy√™n nh√¢n v√† t√¨m ra **d·ªØ li·ªáu** b·ªã sai." }
                    ]
                },
                {
                    text: "M·ª•c ti√™u quan tr·ªçng nh·∫•t c·ªßa b·∫°n trong c√¥ng vi·ªác l√† g√¨?",
                    options: [
                        { trait: 'D', text: "ƒê·∫°t ƒë∆∞·ª£c **k·∫øt qu·∫£**, v∆∞·ª£t qua c√°c th√°ch th·ª©c." },
                        { trait: 'I', text: "ƒê∆∞·ª£c **c√¥ng nh·∫≠n**, c√≥ t·∫ßm ·∫£nh h∆∞·ªüng x√£ h·ªôi." },
                        { trait: 'S', text: "C√≥ s·ª± **·ªïn ƒë·ªãnh**, an to√†n v√† m√¥i tr∆∞·ªùng h√†i h√≤a." },
                        { trait: 'C', text: "S·ª± **ch√≠nh x√°c**, ki·∫øn th·ª©c chuy√™n s√¢u v√† ti√™u chu·∫©n cao." }
                    ]
                },
                {
                    text: "Ng∆∞·ªùi kh√°c th∆∞·ªùng nh·∫≠n x√©t v·ªÅ t·ªëc ƒë·ªô v√† nh·ªãp ƒë·ªô l√†m vi·ªác c·ªßa b·∫°n nh∆∞ th·∫ø n√†o?",
                    options: [
                        { trait: 'D', text: "**Nhanh**, quy·∫øt ƒëo√°n v√† lu√¥n h∆∞·ªõng ƒë·∫øn h√†nh ƒë·ªông." },
                        { trait: 'I', text: "**Nhanh**, b·ªëc ƒë·ªìng v√† th√≠ch l√†m nhi·ªÅu vi·ªác c√πng l√∫c." },
                        { trait: 'S', text: "**Ch·∫≠m r√£i**, ƒë·ªÅu ƒë·∫∑n v√† c√≥ ph∆∞∆°ng ph√°p." },
                        { trait: 'C', text: "**C·∫©n th·∫≠n**, t·ªâ m·ªâ v√† c·∫ßn th·ªùi gian ƒë·ªÉ ki·ªÉm tra." }
                    ]
                },
                {
                    text: "ƒêi·ªÅu g√¨ khi·∫øn b·∫°n lo l·∫Øng ho·∫∑c s·ª£ h√£i nh·∫•t?",
                    options: [
                        { trait: 'D', text: "B·ªã **l·ª£i d·ª•ng** ho·∫∑c m·∫•t quy·ªÅn ki·ªÉm so√°t." },
                        { trait: 'I', text: "B·ªã **t·ª´ ch·ªëi** ho·∫∑c b·ªã m·∫•t ƒëi t·∫ßm ·∫£nh h∆∞·ªüng." },
                        { trait: 'S', text: "Nh·ªØng **thay ƒë·ªïi ƒë·ªôt ng·ªôt** v√† s·ª± thi·∫øu ·ªïn ƒë·ªãnh." },
                        { trait: 'C', text: "B·ªã ch·ªâ tr√≠ch v·ªÅ **l·ªói sai** ho·∫∑c thi·∫øu ch√≠nh x√°c." }
                    ]
                },
                {
                    text: "B·∫°n ra quy·∫øt ƒë·ªãnh d·ª±a tr√™n ƒëi·ªÅu g√¨?",
                    options: [
                        { trait: 'D', text: "**D·ªØ li·ªáu**, logic v√† √Ω ch√≠ c·ªßa b·∫£n th√¢n." },
                        { trait: 'I', text: "**C·∫£m x√∫c**, tr·ª±c gi√°c v√† s·ª± ƒë·ªìng thu·∫≠n c·ªßa m·ªçi ng∆∞·ªùi." },
                        { trait: 'S', text: "**Kinh nghi·ªám**, c·∫£m gi√°c v√† s·ª± an to√†n." },
                        { trait: 'C', text: "**Ph√¢n t√≠ch** chi ti·∫øt v√† s·ª± ki·ªán kh√°ch quan." }
                    ]
                },
                {
                    text: "Phong c√°ch giao ti·∫øp c·ªßa b·∫°n l√† g√¨?",
                    options: [
                        { trait: 'D', text: "**Tr·ª±c ti·∫øp**, ng·∫Øn g·ªçn, t·∫≠p trung v√†o m·ª•c ti√™u." },
                        { trait: 'I', text: "**Th√¢n thi·ªán**, c·ªüi m·ªü, th√≠ch k·ªÉ chuy·ªán v√† giao l∆∞u." },
                        { trait: 'S', text: "**Nh·∫π nh√†ng**, l·∫Øng nghe, tr√°nh ƒë·ªëi ƒë·∫ßu." },
                        { trait: 'C', text: "**C·ª• th·ªÉ**, trang tr·ªçng, h·ªèi nhi·ªÅu chi ti·∫øt." }
                    ]
                },
                {
                    text: "M·ª©c ƒë·ªô ch·∫•p nh·∫≠n r·ªßi ro c·ªßa b·∫°n?",
                    options: [
                        { trait: 'D', text: "S·∫µn s√†ng ch·∫•p nh·∫≠n **r·ªßi ro l·ªõn** ƒë·ªÉ th·∫Øng l·ªõn." },
                        { trait: 'I', text: "Ch·∫•p nh·∫≠n r·ªßi ro khi c√≥ **s·ª± ·ªßng h·ªô** x√£ h·ªôi." },
                        { trait: 'S', text: "**Tr√°nh r·ªßi ro**, ∆∞u ti√™n s·ª± an to√†n." },
                        { trait: 'C', text: "Ch·ªâ ch·∫•p nh·∫≠n r·ªßi ro ƒë√£ ƒë∆∞·ª£c **t√≠nh to√°n k·ªπ**." }
                    ]
                },
                {
                    text: "Ph·∫£n ·ª©ng c·ªßa b·∫°n v·ªõi s·ª± thay ƒë·ªïi?",
                    options: [
                        { trait: 'D', text: "Ch·ªß ƒë·ªông **t·∫°o ra s·ª± thay ƒë·ªïi** v√† d·∫´n ƒë·∫ßu." },
                        { trait: 'I', text: "Th√≠ch nghi nhanh, **nhi·ªát t√¨nh** th·ª≠ c√°i m·ªõi." },
                        { trait: 'S', text: "**Kh√≥ ch·∫•p nh·∫≠n**, c·∫ßn th·ªùi gian l√†m quen." },
                        { trait: 'C', text: "**Nghi√™n c·ª©u k·ªπ**, y√™u c·∫ßu k·∫ø ho·∫°ch chi ti·∫øt." }
                    ]
                },
                {
                    text: "Vai tr√≤ ∆∞a th√≠ch c·ªßa b·∫°n trong m·ªôt nh√≥m?",
                    options: [
                        { trait: 'D', text: "L√† ng∆∞·ªùi **ƒë∆∞a ra quy·∫øt ƒë·ªãnh** cu·ªëi c√πng." },
                        { trait: 'I', text: "Ng∆∞·ªùi **ƒë·ªông vi√™n** v√† k·∫øt n·ªëi m·ªçi ng∆∞·ªùi." },
                        { trait: 'S', text: "Ng∆∞·ªùi **ƒë·∫£m b·∫£o t√≠nh nh·∫•t qu√°n** v√† ·ªïn ƒë·ªãnh." },
                        { trait: 'C', text: "Ng∆∞·ªùi **ki·ªÉm tra l·ªói** v√† ƒë·∫£m b·∫£o ti√™u chu·∫©n." }
                    ]
                },
                {
                    text: "T√¥i t·∫≠p trung v√†o ƒëi·ªÅu g√¨ nh·∫•t?",
                    options: [
                        { trait: 'D', text: "C√°c **th·ª≠ th√°ch** v√† gi·∫£i ph√°p m·ªõi." },
                        { trait: 'I', text: "M·ªëi **quan h·ªá** v√† b·∫ßu kh√¥ng kh√≠." },
                        { trait: 'S', text: "Duy tr√¨ **hi·ªán tr·∫°ng** v√† ch·∫•t l∆∞·ª£ng c√¥ng vi·ªác." },
                        { trait: 'C', text: "S·ª± **ch√≠nh x√°c** v√† d·ªØ li·ªáu c·ª• th·ªÉ." }
                    ]
                },
                {
                    text: "Th√°i ƒë·ªô c·ªßa b·∫°n khi m·∫Øc l·ªói?",
                    options: [
                        { trait: 'D', text: "S·ª≠a ch·ªØa nhanh, **r√∫t kinh nghi·ªám** v√† ti·∫øp t·ª•c." },
                        { trait: 'I', text: "D·ªÖ d√†ng **b·ªè qua**, t·∫≠p trung v√†o vi·ªác m·ªõi." },
                        { trait: 'S', text: "**Lo l·∫Øng**, s·ª£ b·ªã ng∆∞·ªùi kh√°c ƒë√°nh gi√°." },
                        { trait: 'C', text: "**Kh√≥ ch·ªãu**, t·ª± tr√°ch v√¨ thi·∫øu s·ª± chu·∫©n b·ªã." }
                    ]
                },
                {
                    text: "M·ªçi ng∆∞·ªùi th∆∞·ªùng th·∫•y b·∫°n l√† ng∆∞·ªùi nh∆∞ th·∫ø n√†o?",
                    options: [
                        { trait: 'D', text: "M·∫°nh m·∫Ω, **t·ª± tin**." },
                        { trait: 'I', text: "Vui v·∫ª, **nƒÉng ƒë·ªông**." },
                        { trait: 'S', text: "Th√¢n thi·ªán, **ki√™n ƒë·ªãnh**." },
                        { trait: 'C', text: "T·ªâ m·ªâ, c√≥ **ph∆∞∆°ng ph√°p**." }
                    ]
                },
                {
                    text: "ƒêi·ªÅu b·∫°n c·∫ßn nh·∫•t khi giao ti·∫øp l√† g√¨?",
                    options: [
                        { trait: 'D', text: "S·ª± **hi·ªáu qu·∫£** v√† th·ªùi gian ng·∫Øn." },
                        { trait: 'I', text: "S·ª± **c·ªüi m·ªü** v√† t√°n th∆∞·ªüng." },
                        { trait: 'S', text: "S·ª± **nh·∫•t qu√°n** v√† ƒë·ªìng thu·∫≠n." },
                        { trait: 'C', text: "S·ª± **logic** v√† b·∫±ng ch·ª©ng." }
                    ]
                },
                {
                    text: "Trong c√°c s·ª± ki·ªán x√£ h·ªôi, t√¥i th∆∞·ªùng...",
                    options: [
                        { trait: 'D', text: "Tr·ª±c ti·∫øp ti·∫øp c·∫≠n nh·ªØng ng∆∞·ªùi **quan tr·ªçng**." },
                        { trait: 'I', text: "Nhanh ch√≥ng tr·ªü th√†nh **trung t√¢m** c·ªßa s·ª± ch√∫ √Ω." },
                        { trait: 'S', text: "T∆∞∆°ng t√°c ch·ªß y·∫øu v·ªõi nh·ªØng ng∆∞·ªùi t√¥i **quen**." },
                        { trait: 'C', text: "**Quan s√°t** v√† l·∫Øng nghe tr∆∞·ªõc khi n√≥i." }
                    ]
                },
                {
                    text: "T√¥i qu·∫£n l√Ω th·ªùi gian b·∫±ng c√°ch...",
                    options: [
                        { trait: 'D', text: "T·∫≠p trung v√†o vi·ªác **ho√†n th√†nh m·ª•c ti√™u**." },
                        { trait: 'I', text: "**Linh ho·∫°t**, th√≠ch ·ª©ng v·ªõi c∆° h·ªôi b·∫•t ng·ªù." },
                        { trait: 'S', text: "Theo m·ªôt **l·ªãch tr√¨nh ƒë·ªÅu ƒë·∫∑n**, kh√¥ng thay ƒë·ªïi." },
                        { trait: 'C', text: "L·∫≠p **k·∫ø ho·∫°ch chi ti·∫øt** v√† tu√¢n th·ªß ch·∫∑t ch·∫Ω." }
                    ]
                },
                {
                    text: "Khi c·∫ßn ch·ªâ tr√≠ch ng∆∞·ªùi kh√°c, t√¥i...",
                    options: [
                        { trait: 'D', text: "Th·∫≥ng th·∫Øn v√† **tr·ª±c ti·∫øp** v√†o v·∫•n ƒë·ªÅ." },
                        { trait: 'I', text: "**Nh·∫π nh√†ng**, c·ªë g·∫Øng ƒë·ªông vi√™n ƒë·ªÉ tr√°nh l√†m t·ªïn th∆∞∆°ng." },
                        { trait: 'S', text: "R·∫•t **kh√≥ ƒë·ªÉ ch·ªâ tr√≠ch**, s·ª£ l√†m m·∫•t l√≤ng." },
                        { trait: 'C', text: "Cung c·∫•p **b·∫±ng ch·ª©ng c·ª• th·ªÉ** v√† chi ti·∫øt ƒë·ªÉ h·ªç s·ª≠a." }
                    ]
                },
                {
                    text: "M√¥i tr∆∞·ªùng l√†m vi·ªác l√Ω t∆∞·ªüng c·ªßa b·∫°n l√†?",
                    options: [
                        { trait: 'D', text: "**C·∫°nh tranh**, c√≥ nhi·ªÅu quy·ªÅn t·ª± ch·ªß." },
                        { trait: 'I', text: "M·ªü, **vui v·∫ª**, c√≥ nhi·ªÅu t∆∞∆°ng t√°c x√£ h·ªôi." },
                        { trait: 'S', text: "**Y√™n tƒ©nh**, h·ª£p t√°c, √≠t √°p l·ª±c thay ƒë·ªïi." },
                        { trait: 'C', text: "C√≥ **c·∫•u tr√∫c**, c√≥ ti√™u chu·∫©n r√µ r√†ng." }
                    ]
                },
                {
                    text: "Khi b·∫Øt ƒë·∫ßu m·ªôt d·ª± √°n m·ªõi, t√¥i...",
                    options: [
                        { trait: 'D', text: "Mu·ªën **b·∫Øt ƒë·∫ßu ngay** l·∫≠p t·ª©c, kh√¥ng c·∫ßn qu√° nhi·ªÅu th√¥ng tin." },
                        { trait: 'I', text: "T·∫°o m·ªôt cu·ªôc h·ªçp ƒë·ªÉ c√πng nhau **l√™n √Ω t∆∞·ªüng** v√† khu·∫•y ƒë·ªông kh√¥ng kh√≠." },
                        { trait: 'S', text: "T√¨m hi·ªÉu xem **ng∆∞·ªùi kh√°c** ƒë√£ l√†m g√¨ tr∆∞·ªõc ƒë√¢y v√† tham kh·∫£o." },
                        { trait: 'C', text: "ƒê·∫£m b·∫£o t√¥i c√≥ **t·∫•t c·∫£ c√°c chi ti·∫øt** tr∆∞·ªõc khi b·∫Øt ƒë·∫ßu." }
                    ]
                },
                {
                    text: "ƒêi·ªÅu g√¨ l√†m b·∫°n c·∫£m th·∫•y ƒë∆∞·ª£c tr√¢n tr·ªçng?",
                    options: [
                        { trait: 'D', text: "ƒê∆∞·ª£c c√¥ng nh·∫≠n v·ªÅ **th√†nh t√≠ch** v√† quy·ªÅn l·ª±c." },
                        { trait: 'I', text: "ƒê∆∞·ª£c **khen ng·ª£i c√¥ng khai** tr∆∞·ªõc ƒë√°m ƒë√¥ng." },
                        { trait: 'S', text: "ƒê∆∞·ª£c **c·∫£m ∆°n ri√™ng t∆∞** v√¨ s·ª± h·ªó tr·ª£ c·ªßa t√¥i." },
                        { trait: 'C', text: "ƒê∆∞·ª£c khen ng·ª£i v·ªÅ **ƒë·ªô ch√≠nh x√°c** v√† logic." }
                    ]
                },
                {
                    text: "Khi x√¢y d·ª±ng m·ªëi quan h·ªá, t√¥i...",
                    options: [
                        { trait: 'D', text: "T·∫≠p trung v√†o nh·ªØng **l·ª£i √≠ch** chung c√≥ th·ªÉ ƒë·∫°t ƒë∆∞·ª£c." },
                        { trait: 'I', text: "D√†nh th·ªùi gian **giao l∆∞u** v√† t·∫°o k·∫øt n·ªëi c√° nh√¢n." },
                        { trait: 'S', text: "X√¢y d·ª±ng l√≤ng tin b·∫±ng s·ª± **trung th√†nh** v√† h·ªó tr·ª£." },
                        { trait: 'C', text: "D·ª±a tr√™n s·ª± t√¥n tr·ªçng v·ªÅ **nƒÉng l·ª±c** v√† ti√™u chu·∫©n." }
                    ]
                },
                {
                    text: "Trong c√°c cu·ªôc h·ªçp, t√¥i th√≠ch...",
                    options: [
                        { trait: 'D', text: "ƒê∆∞a ra **√Ω ki·∫øn cu·ªëi c√πng** v√† t√≥m t·∫Øt h√†nh ƒë·ªông." },
                        { trait: 'I', text: "Tham gia **t√≠ch c·ª±c**, khu·∫•y ƒë·ªông kh√¥ng kh√≠." },
                        { trait: 'S', text: "ƒê·∫£m b·∫£o **m·ªçi ng∆∞·ªùi ƒë·ªÅu ƒë∆∞·ª£c l·∫Øng nghe** v√† kh√¥ng ai b·ªã b·ªè s√≥t." },
                        { trait: 'C', text: "ƒê·∫∑t **c√¢u h·ªèi chi ti·∫øt** v√† y√™u c·∫ßu b·∫±ng ch·ª©ng." }
                    ]
                },
                {
                    text: "T√¥i coi tr·ªçng kh√¥ng gian c√° nh√¢n ƒë·ªÉ...",
                    options: [
                        { trait: 'D', text: "ƒê·∫£m b·∫£o t√¥i c√≥ th·ªÉ **l√†m vi·ªác kh√¥ng b·ªã gi√°n ƒëo·∫°n**." },
                        { trait: 'I', text: "Chu·∫©n b·ªã cho c√°c **t∆∞∆°ng t√°c x√£ h·ªôi** v√† giao l∆∞u ti·∫øp theo." },
                        { trait: 'S', text: "Duy tr√¨ **s·ª± c√¢n b·∫±ng** v√† tr√°nh √°p l·ª±c." },
                        { trait: 'C', text: "**T·∫≠p trung** v√†o c√°c v·∫•n ƒë·ªÅ ph·ª©c t·∫°p v√† c·∫ßn s·ª± ch√≠nh x√°c." }
                    ]
                },
                {
                    text: "Khi ƒë√†m ph√°n, chi·∫øn l∆∞·ª£c c·ªßa t√¥i l√†...",
                    options: [
                        { trait: 'D', text: "C·ªë g·∫Øng **th·∫Øng** v√† ƒë·∫°t ƒë∆∞·ª£c m·ª•c ti√™u c√° nh√¢n." },
                        { trait: 'I', text: "D√πng s·ª± h·∫•p d·∫´n v√† **s·ª©c thuy·∫øt ph·ª•c** ƒë·ªÉ c√≥ k·∫øt qu·∫£ t·ªët nh·∫•t." },
                        { trait: 'S', text: "T√¨m ki·∫øm m·ªôt **th·ªèa hi·ªáp** m√† m·ªçi ng∆∞·ªùi ƒë·ªÅu ch·∫•p nh·∫≠n." },
                        { trait: 'C', text: "ƒê·∫£m b·∫£o c√°c ƒëi·ªÅu kho·∫£n ƒë·ªÅu **h·ª£p l√Ω** v√† ch√≠nh x√°c theo d·ªØ li·ªáu." }
                    ]
                },
                {
                    text: "M·ª©c ƒë·ªô ki√™n nh·∫´n c·ªßa b·∫°n?",
                    options: [
                        { trait: 'D', text: "**Th·∫•p**, t√¥i mu·ªën k·∫øt qu·∫£ ngay l·∫≠p t·ª©c." },
                        { trait: 'I', text: "**Trung b√¨nh**, mi·ªÖn l√† c√≥ s·ª± t∆∞∆°ng t√°c v√† h√†o h·ª©ng." },
                        { trait: 'S', text: "**R·∫•t cao**, t√¥i c√≥ th·ªÉ ch·ªù ƒë·ª£i m·ªçi vi·ªác ti·∫øn tri·ªÉn." },
                        { trait: 'C', text: "**Cao**, mi·ªÖn l√† m·ªçi th·ª© ƒëang ti·∫øn tri·ªÉn theo logic." }
                    ]
                },
                {
                    text: "Khi gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ, t√¥i...",
                    options: [
                        { trait: 'D', text: "T√¨m ki·∫øm **gi·∫£i ph√°p t·ªëi ∆∞u**, ngay c·∫£ khi n√≥ kh√¥ng ch√≠nh th·ªëng." },
                        { trait: 'I', text: "Tin t∆∞·ªüng v√†o kh·∫£ nƒÉng **s√°ng t·∫°o** c·ªßa nh√≥m." },
                        { trait: 'S', text: "S·ª≠ d·ª•ng c√°c **ph∆∞∆°ng ph√°p ƒë√£ ƒë∆∞·ª£c ki·ªÉm ch·ª©ng**." },
                        { trait: 'C', text: "Th·ª±c hi·ªán m·ªôt **nghi√™n c·ª©u k·ªπ l∆∞·ª°ng** tr∆∞·ªõc khi h√†nh ƒë·ªông." }
                    ]
                },
                {
                    text: "T√¥i nh√¨n nh·∫≠n chi ti·∫øt nh∆∞ th·∫ø n√†o?",
                    options: [
                        { trait: 'D', text: "C·∫ßn thi·∫øt nh∆∞ng **kh√¥ng ph·∫£i l√† ∆∞u ti√™n h√†ng ƒë·∫ßu**." },
                        { trait: 'I', text: "D·ªÖ l√†m t√¥i **ch√°n v√† m·∫•t t·∫≠p trung**." },
                        { trait: 'S', text: "**C·∫ßn thi·∫øt** ƒë·ªÉ ƒë·∫£m b·∫£o s·ª± ·ªïn ƒë·ªãnh." },
                        { trait: 'C', text: "**R·∫•t quan tr·ªçng**, t√¥i th√≠ch s·ª± t·ªâ m·ªâ." }
                    ]
                },
                {
                    text: "Trong m·ªôt d·ª± √°n, b·∫°n mu·ªën ki·ªÉm so√°t ƒëi·ªÅu g√¨?",
                    options: [
                        { trait: 'D', text: "Ki·ªÉm so√°t **m·ª•c ti√™u** v√† ph∆∞∆°ng h∆∞·ªõng chung." },
                        { trait: 'I', text: "Ki·ªÉm so√°t **tinh th·∫ßn** v√† s·ª± k·∫øt n·ªëi c·ªßa ƒë·ªôi." },
                        { trait: 'S', text: "Ki·ªÉm so√°t **nh·ªãp ƒë·ªô** v√† s·ª± ·ªïn ƒë·ªãnh c·ªßa c√¥ng vi·ªác." },
                        { trait: 'C', text: "Ki·ªÉm so√°t **ch·∫•t l∆∞·ª£ng** v√† t√≠nh ch√≠nh x√°c." }
                    ]
                },
                {
                    text: "T√¥i th·ªÉ hi·ªán c·∫£m x√∫c nh∆∞ th·∫ø n√†o?",
                    options: [
                        { trait: 'D', text: "**Ki·ªÉm so√°t t·ªët**, ch·ªâ th·ªÉ hi·ªán khi c·∫ßn thi·∫øt ƒë·ªÉ ƒë·∫°t m·ª•c ti√™u." },
                        { trait: 'I', text: "**C·ªüi m·ªü** v√† b·ªôc l·ªô m·ªôt c√°ch r√µ r√†ng cho m·ªçi ng∆∞·ªùi th·∫•y." },
                        { trait: 'S', text: "**Gi·ªØ k√≠n**, ch·ªâ chia s·∫ª v·ªõi ng∆∞·ªùi th√¢n c·∫≠n." },
                        { trait: 'C', text: "Gi·ªØ trong l√≤ng, th√≠ch s·ª± **kh√°ch quan** v√† logic." }
                    ]
                },
                {
                    text: "B·∫°n mu·ªën ng∆∞·ªùi kh√°c nh·ªõ ƒë·∫øn m√¨nh l√† ng∆∞·ªùi nh∆∞ th·∫ø n√†o?",
                    options: [
                        { trait: 'D', text: "M·ªôt **ng∆∞·ªùi chi·∫øn th·∫Øng** c√≥ nƒÉng l·ª±c." },
                        { trait: 'I', text: "M·ªôt **ng∆∞·ªùi b·∫°n vui v·∫ª** v√† truy·ªÅn c·∫£m h·ª©ng." },
                        { trait: 'S', text: "M·ªôt **ng∆∞·ªùi ƒë√°ng tin c·∫≠y** v√† trung th√†nh." },
                        { trait: 'C', text: "M·ªôt **ng∆∞·ªùi ch√≠nh x√°c** v√† th√¥ng minh." }
                    ]
                }
            ];

            const totalQuestions = fullQuestionsList.length;
            let currentQuestionIndex = 0;
            let scores = { D: 0, I: 0, S: 0, C: 0 };
            let userSelections = new Array(totalQuestions).fill(null);

            const resultDescriptions = {
                'D': {
                    name: 'TH·ªêNG TR·ªä (DOMINANCE)',
                    color: 'var(--tw-disc-d)',
                    icon: '‚ö°',
                    description: "B·∫°n l√† ng∆∞·ªùi **quy·∫øt ƒëo√°n, th√≠ch th·ª≠ th√°ch v√† h∆∞·ªõng ƒë·∫øn k·∫øt qu·∫£**. B·∫°n kh√¥ng ng·∫ßn ng·∫°i ƒë·ªëi m·∫∑t v·ªõi v·∫•n ƒë·ªÅ v√† mu·ªën m·ªçi vi·ªác ƒë∆∞·ª£c th·ª±c hi·ªán m·ªôt c√°ch nhanh ch√≥ng. Ng∆∞·ªùi kh√°c c√≥ th·ªÉ th·∫•y b·∫°n m·∫°nh m·∫Ω v√† t·ª± tin, nh∆∞ng ƒë√¥i khi c√≥ v·∫ª thi·∫øu ki√™n nh·∫´n v√† th·∫≥ng th·∫Øn qu√° m·ª©c. ƒêi·ªÉm m·∫°nh c·ªßa b·∫°n l√† kh·∫£ nƒÉng ra quy·∫øt ƒë·ªãnh v√† s·ª± ch·ªß ƒë·ªông."
                },
                'I': {
                    name: '·∫¢NH H∆Ø·ªûNG (INFLUENCE)',
                    color: 'var(--tw-disc-i)',
                    icon: 'üåà',
                    description: "B·∫°n l√† ng∆∞·ªùi **h√≤a ƒë·ªìng, l·∫°c quan v√† c√≥ s·ª©c thuy·∫øt ph·ª•c**. B·∫°n y√™u th√≠ch c√°c ho·∫°t ƒë·ªông x√£ h·ªôi, th√≠ch truy·ªÅn c·∫£m h·ª©ng v√† t·∫°o d·ª±ng m·ªëi quan h·ªá. B·∫°n l√† ng∆∞·ªùi giao ti·∫øp tuy·ªát v·ªùi, nh∆∞ng ƒë√¥i khi c√≥ th·ªÉ b·ªã coi l√† b·ªëc ƒë·ªìng ho·∫∑c thi·∫øu t·∫≠p trung v√†o chi ti·∫øt. ƒêi·ªÉm m·∫°nh c·ªßa b·∫°n l√† kh·∫£ nƒÉng x√¢y d·ª±ng m·∫°ng l∆∞·ªõi v√† t·∫°o ƒë·ªông l·ª±c."
                },
                'S': {
                    name: 'KI√äN ƒê·ªäNH (STEADINESS)',
                    color: 'var(--tw-disc-s)',
                    icon: 'üå±',
                    description: "B·∫°n l√† ng∆∞·ªùi **ki√™n nh·∫´n, ƒë√°ng tin c·∫≠y v√† c√≥ t√≠nh h·ªó tr·ª£ cao**. B·∫°n coi tr·ªçng s·ª± ·ªïn ƒë·ªãnh, l√†m vi·ªác nh√≥m v√† t·∫°o ra m·ªôt m√¥i tr∆∞·ªùng h√≤a h·ª£p. B·∫°n l√† m·ªôt ng∆∞·ªùi l·∫Øng nghe tuy·ªát v·ªùi, nh∆∞ng c√≥ th·ªÉ g·∫∑p kh√≥ khƒÉn v·ªõi s·ª± thay ƒë·ªïi nhanh ch√≥ng v√† c·∫ßn th·ªùi gian ƒë·ªÉ ƒëi·ªÅu ch·ªânh. ƒêi·ªÉm m·∫°nh c·ªßa b·∫°n l√† s·ª± trung th√†nh, h·ªó tr·ª£ v√† t√≠nh nh·∫•t qu√°n."
                },
                'C': {
                    name: 'TU√ÇN TH·ª¶ (CONSCIENTIOUSNESS)',
                    color: 'var(--tw-disc-c)',
                    icon: 'üî¨',
                    description: "B·∫°n l√† ng∆∞·ªùi **ch√≠nh x√°c, logic v√† c√≥ √≥c ph√¢n t√≠ch**. B·∫°n ƒë·∫∑t ra c√°c ti√™u chu·∫©n cao cho b·∫£n th√¢n v√† ng∆∞·ªùi kh√°c, lu√¥n mu·ªën c√≥ ƒë·ªß th√¥ng tin v√† tu√¢n th·ªß quy tr√¨nh ch·∫•t l∆∞·ª£ng. B·∫°n l√†m vi·ªác t·ªâ m·ªâ, nh∆∞ng c√≥ th·ªÉ m·∫•t qu√° nhi·ªÅu th·ªùi gian ƒë·ªÉ ra quy·∫øt ƒë·ªãnh v√¨ mu·ªën c√≥ s·ª± ho√†n h·∫£o. ƒêi·ªÉm m·∫°nh c·ªßa b·∫°n l√† ch·∫•t l∆∞·ª£ng, ƒë·ªô ch√≠nh x√°c v√† kh·∫£ nƒÉng ph√¢n t√≠ch."
                }
            };

             // H√†m chung ƒë·ªÉ t·∫°o SVG Icon
            function getTraitIcon(trait) {
                switch (trait) {
                    case 'D': return `<svg class="w-8 h-8 text-disc-d" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>`;
                    case 'I': return `<svg class="w-8 h-8 text-disc-i" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.292"></path></svg>`;
                    case 'S': return `<svg class="w-8 h-8 text-disc-s" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>`;
                    case 'C': return `<svg class="w-8 h-8 text-disc-c" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.664 5.176-1.374 9-6.073 9-11.664a12.02 12.02 0 00-.382-2.816z"></path></svg>`;
                    default: return '‚ùì';
                }
            }

            function updateOverallProgress() {
                const overallProgressBar = document.getElementById('disc-overall-progress-bar');
                if (overallProgressBar) {
                    const completedQuestions = userSelections.filter(s => s !== null).length;
                    const progressPercent = (completedQuestions / totalQuestions) * 100;
                    overallProgressBar.style.width = `${progressPercent}%`;
                }
            }

            function renderQuestion() {
                updateOverallProgress();
                const quizArea = document.getElementById('disc-quiz-area');
                if (!quizArea) return; // Tho√°t n·∫øu kh√¥ng t√¨m th·∫•y

                if (currentQuestionIndex >= totalQuestions) {
                    showResults();
                    return;
                }

                const questionData = fullQuestionsList[currentQuestionIndex];
                const currentSelection = userSelections[currentQuestionIndex];

                let optionsHtml = questionData.options.map(option => {
                    const isSelected = currentSelection === option.trait;
                    const traitClass = option.trait.toLowerCase();
                    const borderClass = `border-disc-${traitClass}`; // Kh√¥ng c·∫ßn d√πng ƒë·∫øn n·∫øu d√πng ring
                    const ringClass = `ring-disc-${traitClass}`;

                    // C·∫≠p nh·∫≠t class Tailwind tr·ª±c ti·∫øp
                    let selectedClass = isSelected ? `ring-4 ring-opacity-50 ring-${traitClass}-500 border-${traitClass}-500 border-4` : `border-gray-200`;

                    // ƒêi·ªÅu ch·ªânh m√†u s·∫Øc ring v√† border d·ª±a tr√™n trait
                    if (isSelected) {
                        switch(option.trait) {
                            case 'D': selectedClass = `ring-4 ring-opacity-50 ring-red-500 border-red-500 border-4`; break;
                            case 'I': selectedClass = `ring-4 ring-opacity-50 ring-blue-500 border-blue-500 border-4`; break;
                            case 'S': selectedClass = `ring-4 ring-opacity-50 ring-green-500 border-green-500 border-4`; break;
                            case 'C': selectedClass = `ring-4 ring-opacity-50 ring-amber-500 border-amber-500 border-4`; break;
                        }
                    }
                    let hoverClass = `hover:border-indigo-400 hover:border-4`; // Gi·ªØ nguy√™n hover chung

                    return `
                        <div class="option-card p-4 bg-white rounded-xl border-2 ${selectedClass} ${hoverClass} shadow-md cursor-pointer transition-all duration-200"
                            onclick="DISCEngine.selectOption('${option.trait}')">
                            <div class="flex items-center space-x-4">
                                ${getTraitIcon(option.trait)}
                                <p class="text-gray-700 font-medium text-left">${option.text}</p>
                            </div>
                        </div>
                    `;
                }).join('');

                quizArea.innerHTML = `
                    <div class="bg-white p-6 md:p-8 border-l-4 border-red-500 rounded-lg shadow-xl mb-8">
                        <h3 class="text-xl md:text-2xl font-semibold text-gray-800">${questionData.text} <span class="text-sm font-normal text-gray-500 block mt-2">(C√¢u ${currentQuestionIndex + 1} / ${totalQuestions})</span></h3>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                        ${optionsHtml}
                    </div>
                    <div class="flex justify-between mt-8">
                        <button onclick="DISCEngine.prevQuestion()" ${currentQuestionIndex === 0 ? 'disabled' : ''}
                                class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ${currentQuestionIndex === 0 ? 'opacity-50 cursor-not-allowed' : 'shadow-md'}">
                            ‚Üê Quay l·∫°i
                        </button>
                        <button onclick="DISCEngine.nextQuestion()" ${currentSelection === null ? 'disabled' : ''}
                                class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ${currentSelection === null ? 'opacity-50 cursor-not-allowed' : 'shadow-lg transform hover:scale-105'}">
                            ${currentQuestionIndex === totalQuestions - 1 ? 'Xem K·∫øt Qu·∫£' : 'Ti·∫øp Theo ‚Üí'}
                        </button>
                    </div>
                `;
            }

            function selectOption(trait) {
                const previousSelection = userSelections[currentQuestionIndex];

                if (previousSelection === null) {
                    scores[trait]++;
                } else if (previousSelection !== trait) {
                    scores[previousSelection]--;
                    scores[trait]++;
                }
                userSelections[currentQuestionIndex] = trait;
                renderQuestion(); // Re-render ƒë·ªÉ c·∫≠p nh·∫≠t highlight
            }

            function nextQuestion() {
                if (userSelections[currentQuestionIndex] === null) return;
                currentQuestionIndex++;
                renderQuestion();
            }

            function prevQuestion() {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    renderQuestion();
                }
            }

            function showResults() {
                document.getElementById('disc-overall-progress-bar').style.width = '100%';
                const quizArea = document.getElementById('disc-quiz-area');
                const resultArea = document.getElementById('disc-result-area');
                if (quizArea) quizArea.classList.add('hidden');
                if (resultArea) resultArea.classList.remove('hidden');

                let maxScore = -1;
                let mainTrait = '';

                for (const trait in scores) {
                    if (scores[trait] > maxScore) {
                        maxScore = scores[trait];
                        mainTrait = trait;
                    }
                     // ƒê·∫£m b·∫£o ƒëi·ªÉm kh√¥ng √¢m (c√≥ th·ªÉ x·∫£y ra n·∫øu ng∆∞·ªùi d√πng quay l·∫°i v√† ƒë·ªïi √Ω)
                    if (scores[trait] < 0) scores[trait] = 0;
                }

                // X·ª≠ l√Ω tr∆∞·ªùng h·ª£p kh√¥ng c√≥ l·ª±a ch·ªçn n√†o (ƒëi·ªÉm = 0)
                if (mainTrait === '') {
                     mainTrait = Object.keys(scores)[Math.floor(Math.random() * 4)]; // Ch·ªçn ng·∫´u nhi√™n n·∫øu kh√¥ng c√≥ ƒëi·ªÉm
                }

                const profile = resultDescriptions[mainTrait];
                const maxPossibleScore = totalQuestions;

                const mainStyleDisplay = document.getElementById('disc-main-style-display');
                if (mainStyleDisplay) {
                    mainStyleDisplay.innerHTML = `
                        <span class="text-6xl mb-2 block">${profile.icon}</span>
                        <h3 class="text-4xl font-extrabold" style="color: ${profile.color};">
                            ${profile.name} (${mainTrait})
                        </h3>
                        <p class="text-lg text-gray-700 mt-1">Phong c√°ch ch√≠nh c·ªßa b·∫°n</p>
                    `;
                }

                 const resultDescriptionEl = document.getElementById('disc-result-description');
                 if (resultDescriptionEl) resultDescriptionEl.innerHTML = profile.description; // D√πng innerHTML v√¨ c√≥ tag <strong>

                 const resultProfileEl = document.getElementById('disc-result-profile');
                 if (resultProfileEl) resultProfileEl.style.borderTopColor = profile.color;


                for (const trait in scores) {
                    const traitLower = trait.toLowerCase();
                    const scoreElement = document.getElementById(`disc-score-${traitLower}`);
                    const countElement = document.getElementById(`disc-score-count-${traitLower}`);
                    // T√≠nh l·∫°i percentage d·ª±a tr√™n t·ªïng ƒëi·ªÉm th·ª±c t·∫ø c√≥ th·ªÉ c√≥
                    const actualMaxScore = Object.values(scores).reduce((sum, score) => sum + score, 0);
                    // const percentage = actualMaxScore > 0 ? (scores[trait] / actualMaxScore) * 100 : 0; // T·ª∑ l·ªá t∆∞∆°ng ƒë·ªëi
                    const percentage = (scores[trait] / maxPossibleScore) * 100; // T·ª∑ l·ªá tuy·ªát ƒë·ªëi

                    if (scoreElement) {
                        // Th√™m timeout ƒë·ªÉ animation ch·∫°y
                        setTimeout(() => { scoreElement.style.width = `${percentage}%`; }, 100);
                    }

                    if (countElement) {
                        countElement.innerText = `${scores[trait]} / ${maxPossibleScore}`;
                    }
                }
            }

            function restartQuiz() {
                currentQuestionIndex = 0;
                scores = { D: 0, I: 0, S: 0, C: 0 };
                userSelections = new Array(totalQuestions).fill(null);

                const quizArea = document.getElementById('disc-quiz-area');
                const resultArea = document.getElementById('disc-result-area');
                const progressBar = document.getElementById('disc-overall-progress-bar');

                if (quizArea) quizArea.classList.remove('hidden');
                if (resultArea) resultArea.classList.add('hidden');
                if (progressBar) progressBar.style.width = '0%';

                ['d', 'i', 's', 'c'].forEach(trait => {
                    const scoreElement = document.getElementById(`disc-score-${trait}`);
                    const countElement = document.getElementById(`disc-score-count-${trait}`);
                    if (scoreElement) scoreElement.style.width = '0%';
                    if (countElement) countElement.innerText = `0 / ${totalQuestions}`;
                });

                renderQuestion();
            }

            return { initialize: renderQuestion, selectOption, nextQuestion, prevQuestion, restartQuiz };
        })();

        // --- 2. Holland Quiz Engine (RIASEC) - C·∫¨P NH·∫¨T ---
        const HollandEngine = (function() {
            // B·ªô c√¢u h·ªèi Holland m·ªõi (54 c√¢u)
             const quizData = [
                 // Realistic - R (9 c√¢u)
                 { question: "T√¥i c√≥ t√≠nh t·ª± l·∫≠p", type: "R" },
                 { question: "T√¥i suy nghƒ© th·ª±c t·∫ø", type: "R" },
                 { question: "T√¥i l√† ng∆∞·ªùi th√≠ch nghi v·ªõi m√¥i tr∆∞·ªùng m·ªõi", type: "R" },
                 { question: "T√¥i c√≥ th·ªÉ v·∫≠n h√†nh, ƒëi·ªÅu khi·ªÉn c√°c m√°y m√≥c thi·∫øt b·ªã", type: "R" },
                 { question: "T√¥i l√†m c√°c c√¥ng vi·ªác th·ªß c√¥ng nh∆∞ g·∫•p gi·∫•y, ƒëan, m√≥c", type: "R" },
                 { question: "T√¥i th√≠ch ti·∫øp x√∫c v·ªõi thi√™n nhi√™n, ƒë·ªông v·∫≠t, c√¢y c·ªè", type: "R" },
                 { question: "T√¥i th√≠ch nh·ªØng c√¥ng vi·ªác s·ª≠ d·ª•ng tay ch√¢n h∆°n l√† tr√≠ √≥c", type: "R" },
                 { question: "T√¥i th√≠ch nh·ªØng c√¥ng vi·ªác th·∫•y ngay k·∫øt qu·∫£", type: "R" },
                 { question: "T√¥i th√≠ch l√†m vi·ªác ngo√†i tr·ªùi h∆°n l√† trong ph√≤ng h·ªçc, vƒÉn ph√≤ng", type: "R" },
                 // Investigative - I (9 c√¢u)
                 { question: "T√¥i c√≥ t√¨m hi·ªÉu kh√°m ph√° nhi·ªÅu v·∫•n ƒë·ªÅ m·ªõi", type: "I" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng ph√¢n t√≠ch v·∫•n ƒë·ªÅ", type: "I" },
                 { question: "T√¥i bi·∫øt suy nghƒ© m·ªôt c√°ch m·∫°ch l·∫°c, ch·∫∑t ch·∫Ω", type: "I" },
                 { question: "T√¥i th√≠ch th·ª±c hi·ªán c√°c th√≠ nghi·ªám hay nghi√™n c·ª©u", type: "I" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng t·ªïng h·ª£p, kh√°i qu√°t, suy ƒëo√°n nh·ªØng v·∫•n ƒë·ªÅ", type: "I" },
                 { question: "T√¥i th√≠ch nh·ªØng ho·∫°t ƒë·ªông ƒëi·ªÅu tra, ph√¢n lo·∫°i, ki·ªÉm tra, ƒë√°nh gi√°", type: "I" },
                 { question: "T√¥i t·ª± t·ªï ch·ª©c c√¥ng vi·ªác m√¨nh ph·∫£i l√†m", type: "I" },
                 { question: "T√¥i th√≠ch suy nghƒ© v·ªÅ nh·ªØng v·∫•n ƒë·ªÅ ph·ª©c t·∫°p, l√†m nh·ªØng c√¥ng vi·ªác ph·ª©c t·∫°p", type: "I" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ", type: "I" },
                 // Artistic - A (9 c√¢u)
                 { question: "T√¥i l√† ng∆∞·ªùi d·ªÖ x√∫c ƒë·ªông", type: "A" },
                 { question: "T√¥i c√≥ √≥c t∆∞·ªüng t∆∞·ª£ng phong ph√∫", type: "A" },
                 { question: "T√¥i th√≠ch s·ª± t·ª± do, kh√¥ng theo nh·ªØng quy ƒë·ªãnh , quy t·∫Øc", type: "A" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng thuy·∫øt tr√¨nh, di·ªÖn xu·∫•t", type: "A" },
                 { question: "T√¥i c√≥ th·ªÉ ch·ª•p h√¨nh ho·∫∑c v·∫Ω tranh, trang tr√≠, ƒëi√™u kh·∫Øc", type: "A" },
                 { question: "T√¥i c√≥ nƒÉng khi·∫øu √¢m nh·∫°c", type: "A" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng vi·∫øt, tr√¨nh b√†y nh·ªØng √Ω t∆∞·ªüng c·ªßa m√¨nh", type: "A" },
                 { question: "T√¥i th√≠ch l√†m nh·ªØng c√¥ng vi·ªác m·ªõi, nh·ªØng c√¥ng vi·ªác ƒë√≤i h·ªèi s·ª± s√°ng t·∫°o", type: "A" },
                 { question: "T√¥i tho·∫£i m√°i b·ªôc l·ªô nh·ªØng √Ω th√≠ch", type: "A" },
                 // Social - S (9 c√¢u)
                 { question: "T√¥i l√† ng∆∞·ªùi th√¢n thi·ªán, hay gi√∫p ƒë·ª° ng∆∞·ªùi kh√°c", type: "S" },
                 { question: "T√¥i th√≠ch g·∫∑p g·ª°, l√†m vi·ªác v·ªõi con ng∆∞·ªùi", type: "S" },
                 { question: "T√¥i l√† ng∆∞·ªùi l·ªãch s·ª±, t·ª≠ t·∫ø", type: "S" },
                 { question: "T√¥i th√≠ch khuy√™n b·∫£o, hu·∫•n luy·ªán hay gi·∫£ng gi·∫£i cho ng∆∞·ªùi kh√°c", type: "S" },
                 { question: "T√¥i l√† ng∆∞·ªùi bi·∫øt l·∫Øng nghe", type: "S" },
                 { question: "T√¥i th√≠ch c√°c ho·∫°t ƒë·ªông chƒÉm s√≥c s·ª©c kh·ªèe c·ªßa b·∫£n th√¢n v√† ng∆∞·ªùi kh√°c", type: "S" },
                 { question: "T√¥i th√≠ch c√°c ho·∫°t ƒë·ªông v√¨ m·ª•c ti√™u chung c·ªßa c√¥ng ƒë·ªìng, x√£ h·ªôi", type: "S" },
                 { question: "T√¥i mong mu·ªën m√¨nh c√≥ th·ªÉ ƒë√≥ng g√≥p ƒë·ªÉ x√£ h·ªôi t·ªët ƒë·∫πp h∆°n", type: "S" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng h√≤a gi·∫£i, gi·∫£i quy·∫øt nh·ªØng s·ª± vi√™c m√¢u thu·∫´n", type: "S" },
                 // Enterprising - E (9 c√¢u)
                 { question: "T√¥i l√† ng∆∞·ªùi c√≥ t√≠nh phi√™u l∆∞u, m·∫°o hi·ªÉm", type: "E" },
                 { question: "T√¥i c√≥ t√≠nh quy·∫øt ƒëo√°n", type: "E" },
                 { question: "T√¥i l√† ng∆∞·ªùi nƒÉng ƒë·ªông", type: "E" },
                 { question: "T√¥i c√≥ kh·∫£ nƒÉng di·ªÖn ƒë·∫°t, tranh lu·∫≠n, v√† thuy·∫øt ph·ª•c ng∆∞·ªùi kh√°c", type: "E" },
                 { question: "T√¥i th√≠ch c√°c vi·ªác qu·∫£n l√Ω, ƒë√°nh gi√°", type: "E" },
                 { question: "T√¥i th∆∞·ªùng ƒë·∫∑t ra c√°c m·ª•c ti√™u, k·∫ø ho·∫°ch trong cu·ªôc s·ªëng", type: "E" },
                 { question: "T√¥i th√≠ch g√¢y ·∫£nh h∆∞·ªüng ƒë·∫øn ng∆∞·ªùi kh√°c", type: "E" },
                 { question: "T√¥i l√† ng∆∞·ªùi th√≠ch c·∫°nh tranh v√† mu·ªën m√¨nh gi·ªèi h∆°n ng∆∞·ªùi kh√°c", type: "E" },
                 { question: "T√¥i mu·ªën ng∆∞·ªùi kh√°c ph·∫£i k√≠nh tr·ªçng, n·ªÉ ph·ª•c t√¥i", type: "E" },
                 // Conventional - C (9 c√¢u)
                 { question: "T√¥i l√† ng∆∞·ªùi c√≥ ƒë·∫ßu √≥c s·∫Øp x·∫øp, t·ªï ch·ª©c", type: "C" },
                 { question: "T√¥i c√≥ t√≠nh c·∫©n th·∫≠n", type: "C" },
                 { question: "T√¥i l√† ng∆∞·ªùi chu ƒë√°o, ch√≠nh x√°c v√† ƒë√°ng tin c·∫≠y", type: "C" },
                 { question: "T√¥i th√≠ch c√¥ng vi·ªác t√≠nh to√°n s·ªï s√°ch, ghi ch√©p s·ªë li·ªáu", type: "C" },
                 { question: "T√¥i th√≠ch c√°c c√¥ng vi·ªác l∆∞u tr·ªØ, ph√¢n lo·∫°i, c·∫≠p nh·∫≠t th√¥ng tin", type: "C" },
                 { question: "T√¥i th∆∞·ªùng ƒë·∫∑t ra nh·ªØng m·ª•c ti√™u, k·∫ø ho·∫°ch trong cu·ªôc s·ªëng", type: "C" }, // C√¢u n√†y h∆°i gi·ªëng E6
                 { question: "T√¥i th√≠ch d·ª± ki·∫øn c√°c kho·∫£n thu chi", type: "C" },
                 { question: "T√¥i th√≠ch l·∫≠p th·ªùi kh√≥a bi·ªÉu, s·∫Øp x·∫øp l·ªãch l√†m vi·ªác", type: "C" },
                 { question: "T√¥i th√≠ch l√†m vi·ªác v·ªõi c√°c con s·ªë, l√†m vi·ªác theo h∆∞·ªõng d·∫´n, quy tr√¨nh", type: "C" }
            ];

            const totalQuestions = quizData.length; // 54 c√¢u
            let currentQuestionIndex = 0;
            let scores = { R: 0, I: 0, A: 0, S: 0, E: 0, C: 0 };
            let userSelections = new Array(totalQuestions).fill(null);

            const HollandTypes = {
                R: "Th·ª±c t·∫ø (Realistic)", I: "Nghi√™n c·ª©u (Investigative)", A: "Ngh·ªá thu·∫≠t (Artistic)",
                S: "X√£ h·ªôi (Social)", E: "Kinh doanh (Enterprising)", C: "Nghi·ªáp v·ª• (Conventional)"
            };

             // Gi·ªØ nguy√™n g·ª£i √Ω ngh·ªÅ nghi·ªáp
            const HollandCareers = {
                R: ["K·ªπ s∆∞ C∆° kh√≠", "K·ªπ thu·∫≠t X√¢y d·ª±ng", "Phi c√¥ng", "N√¥ng nghi·ªáp C√¥ng ngh·ªá cao", "Th·ª£ th·ªß c√¥ng"],
                I: ["Nh√† Khoa h·ªçc", "Ph√¢n t√≠ch D·ªØ li·ªáu", "L·∫≠p tr√¨nh vi√™n", "B√°c sƒ© (Nghi√™n c·ª©u)", "Chuy√™n gia M√¥i tr∆∞·ªùng"],
                A: ["Thi·∫øt k·∫ø ƒê·ªì h·ªça", "Ki·∫øn tr√∫c s∆∞", "Nh√† VƒÉn/Nh√† Th∆°", "Ngh·ªá sƒ© Bi·ªÉu di·ªÖn", "Nhi·∫øp ·∫£nh gia"],
                S: ["Gi√°o vi√™n", "T∆∞ v·∫•n T√¢m l√Ω", "C√¥ng t√°c X√£ h·ªôi", "Qu·∫£n l√Ω Nh√¢n s·ª±", "Y t√°/ƒêi·ªÅu d∆∞·ª°ng"],
                E: ["Qu·∫£n l√Ω D·ª± √°n", "Doanh nh√¢n", "Chuy√™n vi√™n Marketing", "Lu·∫≠t s∆∞", "Gi√°m ƒë·ªëc Kinh doanh"],
                C: ["K·∫ø to√°n", "Ki·ªÉm to√°n", "Th∆∞ k√Ω", "Th·ªß th∆∞", "Chuy√™n vi√™n Thu·∫ø/Ng√¢n h√†ng"]
            };
            
             // Nh√£n m·ªõi cho c√°c m·ª©c ƒë·ªô
             const levelLabels = ['R·∫•t th·∫•p', 'Th·∫•p', 'V·ª´a', 'Cao', 'R·∫•t cao'];

            function updateOverallProgress() {
                const overallProgressBar = document.getElementById('holland-overall-progress-bar');
                if (overallProgressBar) {
                    const completedQuestions = userSelections.filter(s => s !== null).length;
                    const progressPercent = (completedQuestions / totalQuestions) * 100;
                    overallProgressBar.style.width = `${progressPercent}%`;
                }
            }

            function renderQuestion() {
                updateOverallProgress();
                const quizArea = document.getElementById('holland-quiz-area');
                if (!quizArea) return;

                if (currentQuestionIndex >= totalQuestions) {
                    showResults();
                    return;
                }

                const questionData = quizData[currentQuestionIndex];
                const currentSelection = userSelections[currentQuestionIndex];
                const type = questionData.type;
                const typeColorVar = `var(--tw-holland-${type.toLowerCase()})`;

                // T·∫°o HTML cho 5 n√∫t radio v·ªõi nh√£n m·ªõi
                let optionsHtml = `
                    <div class="flex flex-col sm:flex-row justify-between space-y-2 sm:space-y-0 sm:space-x-4">
                        ${[1, 2, 3, 4, 5].map(value => {
                            const isSelected = currentSelection === value;
                            const label = levelLabels[value - 1]; // L·∫•y nh√£n t·ª´ m·∫£ng m·ªõi
                            // S·ª≠ d·ª•ng m√†u indigo chung cho highlight khi ch·ªçn
                            const selectedClass = isSelected ? `ring-4 ring-opacity-50 ring-indigo-500 border-indigo-500 border-4` : 'border-gray-200';
                            return `
                                <label class="flex items-center justify-center cursor-pointer p-3 bg-white rounded-xl border-2 ${selectedClass} shadow-md transition-all duration-200 flex-grow hover:border-indigo-400 text-center"
                                    onclick="HollandEngine.selectOption('${type}', ${value})">
                                    <input type="radio" name="holland-q${currentQuestionIndex}-choice" value="${value}" class="sr-only" ${isSelected ? 'checked' : ''}>
                                    <span class="text-sm font-medium text-gray-700">${label}</span>
                                </label>`;
                        }).join('')}
                    </div>
                `;

                quizArea.innerHTML = `
                    <div class="bg-white p-6 md:p-8 border-l-4 rounded-lg shadow-xl mb-8" style="border-left-color: ${typeColorVar};">
                        <h3 class="text-xl md:text-2xl font-semibold text-gray-800">${questionData.question} <span class="text-sm font-normal text-gray-500 block mt-2">(C√¢u ${currentQuestionIndex + 1} / ${totalQuestions})</span></h3>
                        <p class="text-sm font-medium mt-2" style="color: ${typeColorVar};">${HollandTypes[type]}</p>
                    </div>

                    <div class="mb-8">
                        ${optionsHtml}
                    </div>

                    <div class="flex justify-between mt-8">
                        <button onclick="HollandEngine.prevQuestion()" ${currentQuestionIndex === 0 ? 'disabled' : ''}
                                class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ${currentQuestionIndex === 0 ? 'opacity-50 cursor-not-allowed' : 'shadow-md'}">
                            ‚Üê Quay l·∫°i
                        </button>
                        <button onclick="HollandEngine.nextQuestion()" ${currentSelection === null ? 'disabled' : ''}
                                class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ${currentSelection === null ? 'opacity-50 cursor-not-allowed' : 'shadow-lg transform hover:scale-105'}">
                            ${currentQuestionIndex === totalQuestions - 1 ? 'Xem K·∫øt Qu·∫£' : 'Ti·∫øp Theo ‚Üí'}
                        </button>
                    </div>
                `;
            }

            function selectOption(type, value) {
                const previousSelection = userSelections[currentQuestionIndex];

                // Tr·ª´ ƒëi·ªÉm c≈© tr∆∞·ªõc khi c·ªông ƒëi·ªÉm m·ªõi
                if (previousSelection !== null) {
                    // Chuy·ªÉn ƒë·ªïi gi√° tr·ªã c≈© (1-5) th√†nh ƒëi·ªÉm th·ª±c (-2 ƒë·∫øn +2) ƒë·ªÉ tr·ª´ ƒëi cho ch√≠nh x√°c
                    // Ho·∫∑c ƒë∆°n gi·∫£n l√† tr·ª´ ƒëi gi√° tr·ªã ƒë√£ ghi nh·∫≠n tr∆∞·ªõc ƒë√≥
                    scores[type] -= previousSelection; // Tr·ª´ ƒëi gi√° tr·ªã ƒë√£ l∆∞u
                }

                // C·ªông ƒëi·ªÉm m·ªõi
                scores[type] += value; // C·ªông gi√° tr·ªã m·ªõi (1-5)

                // L∆∞u l·ª±a ch·ªçn m·ªõi
                userSelections[currentQuestionIndex] = value;

                renderQuestion(); // V·∫Ω l·∫°i c√¢u h·ªèi v·ªõi l·ª±a ch·ªçn m·ªõi ƒë∆∞·ª£c highlight
            }


            function nextQuestion() {
                if (userSelections[currentQuestionIndex] === null) return;
                currentQuestionIndex++;
                renderQuestion();
            }

            function prevQuestion() {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    renderQuestion();
                }
            }

            function showResults() {
                 const progressBar = document.getElementById('holland-overall-progress-bar');
                 const quizArea = document.getElementById('holland-quiz-area');
                 const resultArea = document.getElementById('holland-result-area');

                 if (progressBar) progressBar.style.width = '100%';
                 if (quizArea) quizArea.classList.add('hidden');
                 if (resultArea) resultArea.classList.remove('hidden');

                const sortedResults = Object.entries(scores).sort(([, a], [, b]) => b - a);
                const riasecCode = sortedResults.slice(0, 3).map(([type]) => type).join('');
                const topType = sortedResults[0][0];
                const topCareers = HollandCareers[topType] || [];
                const topColor = `var(--tw-holland-${topType.toLowerCase()})`;
                const maxPossibleScorePerType = 9 * 5; // 9 c√¢u * 5 ƒëi·ªÉm t·ªëi ƒëa

                const mainStyleDisplay = document.getElementById('holland-main-style-display');
                 if (mainStyleDisplay) {
                     mainStyleDisplay.innerHTML = `
                         <p class="text-xl font-medium text-gray-800">M√£ Holland c·ªßa b·∫°n l√†:</p>
                         <h3 class="text-6xl font-extrabold mt-2 mb-4" style="color: ${topColor};">${riasecCode}</h3>
                         <p class="text-lg text-gray-700 mt-1">Lo·∫°i h√¨nh ch√≠nh: <strong>${HollandTypes[topType]}</strong></p>
                     `;
                 }

                let scoreChartHtml = '';
                sortedResults.forEach(([type, score]) => {
                    const typeLower = type.toLowerCase();
                    // ƒê·∫£m b·∫£o ƒëi·ªÉm kh√¥ng √¢m
                    const finalScore = Math.max(0, score);
                    const percentage = (finalScore / maxPossibleScorePerType) * 100;
                    const color = `var(--tw-holland-${typeLower})`;
                    scoreChartHtml += `
                        <div class="p-3 rounded-lg shadow-md" style="background-color: ${color}1A;">
                            <div class="flex justify-between items-baseline">
                                <p class="text-sm font-semibold text-gray-700">${HollandTypes[type]}</p>
                                <span class="text-base font-bold" style="color: ${color};">${finalScore} / ${maxPossibleScorePerType}</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 mt-1">
                                <div class="h-2.5 rounded-full progress-bar-transition" style="background-color: ${color}; width: 0%;"></div>
                            </div>
                        </div>
                    `;
                });

                const scoreChartEl = document.getElementById('holland-score-chart');
                if (scoreChartEl) scoreChartEl.innerHTML = scoreChartHtml;

                // Th√™m timeout ƒë·ªÉ animation ch·∫°y
                setTimeout(() => {
                    sortedResults.forEach(([type, score]) => {
                         const finalScore = Math.max(0, score);
                        const percentage = (finalScore / maxPossibleScorePerType) * 100;
                        const bar = document.querySelector(`#holland-score-chart div[style*="--tw-holland-${type.toLowerCase()}"] .progress-bar-transition`);
                        if(bar) bar.style.width = `${percentage}%`;
                    });
                }, 100);


                 const resultDescriptionEl = document.getElementById('holland-result-description');
                 if (resultDescriptionEl) {
                     resultDescriptionEl.innerHTML = `
                         <p class="mb-4">M√£ ${riasecCode} th·ªÉ hi·ªán s·ª± k·∫øt h·ª£p gi·ªØa c√°c s·ªü th√≠ch c√¥ng vi·ªác c·ªßa b·∫°n. Lo·∫°i h√¨nh ch√≠nh <strong>${HollandTypes[topType]}</strong> g·ª£i √Ω c√°c nh√≥m ng√†nh ph√π h·ª£p:</p>
                         <ul class="list-disc pl-5 space-y-1 text-gray-800 font-semibold mb-4">
                             ${topCareers.map(c => `<li>${c}</li>`).join('')}
                         </ul>
                         <p class="text-sm italic">H√£y tra c·ª©u chi ti·∫øt h∆°n v·ªÅ c√°c ng√†nh n√†y b·∫±ng AI H∆∞·ªõng Nghi·ªáp!</p>
                     `;
                 }
                 const resultProfileEl = document.getElementById('holland-result-profile');
                 if (resultProfileEl) resultProfileEl.style.borderTopColor = topColor;
            }

            function restartQuiz() {
                currentQuestionIndex = 0;
                scores = { R: 0, I: 0, A: 0, S: 0, E: 0, C: 0 };
                userSelections = new Array(totalQuestions).fill(null);

                const quizArea = document.getElementById('holland-quiz-area');
                const resultArea = document.getElementById('holland-result-area');
                const progressBar = document.getElementById('holland-overall-progress-bar');

                if(quizArea) quizArea.classList.remove('hidden');
                if(resultArea) resultArea.classList.add('hidden');
                if(progressBar) progressBar.style.width = '0%';
                renderQuestion();
            }

            return { initialize: renderQuestion, selectOption, nextQuestion, prevQuestion, restartQuiz };
        })();

        // --- 3. MBTI Quiz Engine ---
        const MBTIEngine = (function() {
            const quizData = [
                { dimension: 'E_I', question: "Khi tham gia m·ªôt s·ª± ki·ªán x√£ h·ªôi, b·∫°n th∆∞·ªùng:", options: [{ trait: 'E', text: "Ch·ªß ƒë·ªông b·∫Øt chuy·ªán v√† g·∫∑p g·ª° nhi·ªÅu ng∆∞·ªùi m·ªõi." }, { trait: 'I', text: "Ch·ªâ n√≥i chuy·ªán v·ªõi v√†i ng∆∞·ªùi b·∫°n ƒë√£ quen t·ª´ tr∆∞·ªõc." }] },
                { dimension: 'E_I', question: "Sau m·ªôt tu·∫ßn l√†m vi·ªác b·∫≠n r·ªôn, b·∫°n n·∫°p nƒÉng l∆∞·ª£ng b·∫±ng c√°ch:", options: [{ trait: 'E', text: "Ra ngo√†i g·∫∑p g·ª° b·∫°n b√®, tham gia c√°c ho·∫°t ƒë·ªông." }, { trait: 'I', text: "·ªû nh√† m·ªôt m√¨nh, ƒë·ªçc s√°ch, xem phim ho·∫∑c ngh·ªâ ng∆°i." }] },
                { dimension: 'E_I', question: "Trong c√°c cu·ªôc th·∫£o lu·∫≠n nh√≥m, b·∫°n:", options: [{ trait: 'E', text: "Th∆∞·ªùng xuy√™n ph√°t bi·ªÉu √Ω ki·∫øn, n√≥i ra suy nghƒ© c·ªßa m√¨nh." }, { trait: 'I', text: "L·∫Øng nghe nhi·ªÅu h∆°n, ch·ªâ ph√°t bi·ªÉu khi ƒë√£ suy nghƒ© k·ªπ." }] },
                { dimension: 'E_I', question: "B·∫°n th√≠ch l√†m vi·ªác:", options: [{ trait: 'E', text: "Trong m·ªôt m√¥i tr∆∞·ªùng m·ªü, c√≥ nhi·ªÅu t∆∞∆°ng t√°c." }, { trait: 'I', text: "Trong m·ªôt kh√¥ng gian y√™n tƒ©nh, t·∫≠p trung m·ªôt m√¨nh." }] },
                { dimension: 'E_I', question: "Khi gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ, b·∫°n c√≥ xu h∆∞·ªõng:", options: [{ trait: 'E', text: "Nghƒ© ra ti·∫øng (th·∫£o lu·∫≠n v·ªõi ng∆∞·ªùi kh√°c ƒë·ªÉ t√¨m gi·∫£i ph√°p)." }, { trait: 'I', text: "Nghƒ© th·∫ßm (t·ª± ph√¢n t√≠ch v·∫•n ƒë·ªÅ trong ƒë·∫ßu)." }] },
                { dimension: 'S_N', question: "Khi ti·∫øp nh·∫≠n th√¥ng tin, b·∫°n tin t∆∞·ªüng h∆°n v√†o:", options: [{ trait: 'S', text: "Nh·ªØng g√¨ th·ª±c t·∫ø, c·ª• th·ªÉ v√† ƒë√£ x·∫£y ra." }, { trait: 'N', text: "C√°c kh·∫£ nƒÉng, √Ω t∆∞·ªüng v√† b·ª©c tranh t·ªïng th·ªÉ." }] },
                { dimension: 'S_N', question: "Khi m√¥ t·∫£ m·ªôt s·ª± ki·ªán, b·∫°n th∆∞·ªùng:", options: [{ trait: 'S', text: "K·ªÉ l·∫°i c√°c chi ti·∫øt m·ªôt c√°ch tu·∫ßn t·ª±, ch√≠nh x√°c." }, { trait: 'N', text: "T·∫≠p trung v√†o √Ω nghƒ©a v√† c·∫£m nh·∫≠n c·ªßa b·∫°n v·ªÅ s·ª± ki·ªán ƒë√≥." }] },
                { dimension: 'S_N', question: "B·∫°n th√≠ch c√°c c√¥ng vi·ªác ƒë√≤i h·ªèi:", options: [{ trait: 'S', text: "S·ª± c·∫©n th·∫≠n, t·ªâ m·ªâ v√† theo quy tr√¨nh c√≥ s·∫µn." }, { trait: 'N', text: "S·ª± s√°ng t·∫°o, ƒë·ªïi m·ªõi v√† t√¨m ki·∫øm gi·∫£i ph√°p m·ªõi." }] },
                { dimension: 'S_N', question: "Khi h·ªçc m·ªôt k·ªπ nƒÉng m·ªõi, b·∫°n th√≠ch:", options: [{ trait: 'S', text: "Th·ª±c h√†nh t·ª´ng b∆∞·ªõc c·ª• th·ªÉ." }, { trait: 'N', text: "Hi·ªÉu ƒë∆∞·ª£c kh√°i ni·ªám v√† t·ª± m√¨nh kh√°m ph√°." }] },
                { dimension: 'S_N', question: "B·∫°n c√≥ xu h∆∞·ªõng:", options: [{ trait: 'S', text: "T·∫≠p trung v√†o hi·ªán t·∫°i v√† nh·ªØng g√¨ ƒëang di·ªÖn ra." }, { trait: 'N', text: "Suy nghƒ© v·ªÅ t∆∞∆°ng lai v√† c√°c kh·∫£ nƒÉng c√≥ th·ªÉ x·∫£y ra." }] },
                { dimension: 'T_F', question: "Khi ra quy·∫øt ƒë·ªãnh quan tr·ªçng, b·∫°n ∆∞u ti√™n:", options: [{ trait: 'T', text: "Ph√¢n t√≠ch logic, s·ª± th·∫≠t kh√°ch quan v√† t√≠nh hi·ªáu qu·∫£." }, { trait: 'F', text: "C·∫£m x√∫c, gi√° tr·ªã c√° nh√¢n v√† t√°c ƒë·ªông ƒë·∫øn ng∆∞·ªùi kh√°c." }] },
                { dimension: 'T_F', question: "B·∫°n mu·ªën ƒë∆∞·ª£c ng∆∞·ªùi kh√°c nh√¨n nh·∫≠n l√† ng∆∞·ªùi:", options: [{ trait: 'T', text: "C√¥ng b·∫±ng, logic v√† c√≥ nƒÉng l·ª±c." }, { trait: 'F', text: "T·ª≠ t·∫ø, th·∫•u c·∫£m v√† bi·∫øt quan t√¢m." }] },
                { dimension: 'T_F', question: "Khi g√≥p √Ω cho ng∆∞·ªùi kh√°c, b·∫°n th∆∞·ªùng:", options: [{ trait: 'T', text: "N√≥i th·∫≥ng v√†o v·∫•n ƒë·ªÅ c·∫ßn c·∫£i thi·ªán m·ªôt c√°ch r√µ r√†ng." }, { trait: 'F', text: "B·∫Øt ƒë·∫ßu b·∫±ng l·ªùi khen v√† g√≥p √Ω m·ªôt c√°ch nh·∫π nh√†ng." }] },
                { dimension: 'T_F', question: "B·∫°n d·ªÖ b·ªã thuy·∫øt ph·ª•c b·ªüi:", options: [{ trait: 'T', text: "M·ªôt l·∫≠p lu·∫≠n logic, c√≥ s·ªë li·ªáu r√µ r√†ng." }, { trait: 'F', text: "M·ªôt c√¢u chuy·ªán truy·ªÅn c·∫£m h·ª©ng, ch·∫°m ƒë·∫øn c·∫£m x√∫c." }] },
                { dimension: 'T_F', question: "Trong m·ªôt cu·ªôc tranh lu·∫≠n, m·ª•c ti√™u c·ªßa b·∫°n l√†:", options: [{ trait: 'T', text: "T√¨m ra s·ª± th·∫≠t ho·∫∑c gi·∫£i ph√°p ƒë√∫ng ƒë·∫Øn nh·∫•t." }, { trait: 'F', text: "Duy tr√¨ s·ª± h√≤a h·ª£p v√† ƒë·∫£m b·∫£o m·ªçi ng∆∞·ªùi ƒë·ªÅu c·∫£m th·∫•y ƒë∆∞·ª£c l·∫Øng nghe." }] },
                { dimension: 'J_P', question: "Trong cu·ªôc s·ªëng, b·∫°n th√≠ch:", options: [{ trait: 'J', text: "C√≥ k·∫ø ho·∫°ch r√µ r√†ng, m·ªçi th·ª© ƒë∆∞·ª£c s·∫Øp x·∫øp tr·∫≠t t·ª±." }, { trait: 'P', text: "S·ª± linh ho·∫°t, ƒë·ªÉ ng·ªè c√°c l·ª±a ch·ªçn v√† t√πy c∆° ·ª©ng bi·∫øn." }] },
                { dimension: 'J_P', question: "Khi ƒëi du l·ªãch, b·∫°n th∆∞·ªùng:", options: [{ trait: 'J', text: "L√™n l·ªãch tr√¨nh chi ti·∫øt cho t·ª´ng ng√†y." }, { trait: 'P', text: "Ch·ªâ ƒë·∫∑t v√© v√† kh√°ch s·∫°n, c√≤n l·∫°i ƒë·ªÉ t·ª± do kh√°m ph√°." }] },
                { dimension: 'J_P', question: "B·∫°n c·∫£m th·∫•y tho·∫£i m√°i h∆°n khi:", options: [{ trait: 'J', text: "Ho√†n th√†nh c√¥ng vi·ªác s·ªõm tr∆∞·ªõc th·ªùi h·∫°n." }, { trait: 'P', text: "L√†m vi·ªác d∆∞·ªõi √°p l·ª±c th·ªùi gian (n∆∞·ªõc ƒë·∫øn ch√¢n m·ªõi nh·∫£y)." }] },
                { dimension: 'J_P', question: "Kh√¥ng gian l√†m vi·ªác c·ªßa b·∫°n th∆∞·ªùng:", options: [{ trait: 'J', text: "G·ªçn g√†ng, ngƒÉn n·∫Øp, m·ªçi th·ª© ƒë√∫ng v·ªã tr√≠." }, { trait: 'P', text: "C√≥ ch√∫t l·ªôn x·ªôn, nh∆∞ng b·∫°n bi·∫øt m·ªçi th·ª© ·ªü ƒë√¢u." }] },
                { dimension: 'J_P', question: "B·∫°n nh√¨n nh·∫≠n c√°c quy t·∫Øc v√† th·ªùi h·∫°n (deadline) l√†:", options: [{ trait: 'J', text: "Quan tr·ªçng, c·∫ßn ƒë∆∞·ª£c tu√¢n th·ªß nghi√™m ng·∫∑t." }, { trait: 'P', text: "Linh ho·∫°t, c√≥ th·ªÉ ƒëi·ªÅu ch·ªânh n·∫øu c·∫ßn thi·∫øt." }] },
                // Th√™m 20 c√¢u n·ªØa
                { dimension: 'E_I', question: "B·∫°n c√≥ d·ªÖ d√†ng b·∫Øt ƒë·∫ßu cu·ªôc tr√≤ chuy·ªán v·ªõi ng∆∞·ªùi l·∫° kh√¥ng?", options: [{ trait: 'E', text: "C√≥, t√¥i th·∫•y kh√° tho·∫£i m√°i." }, { trait: 'I', text: "Kh√¥ng, t√¥i th∆∞·ªùng ƒë·ª£i h·ªç b·∫Øt chuy·ªán tr∆∞·ªõc." }] },
                { dimension: 'S_N', question: "B·∫°n c√≥ hay m∆° m·ªông v√† suy nghƒ© v·ªÅ nh·ªØng ƒëi·ªÅu vi·ªÉn v√¥ng kh√¥ng?", options: [{ trait: 'S', text: "Hi·∫øm khi, t√¥i th√≠ch t·∫≠p trung v√†o th·ª±c t·∫ø." }, { trait: 'N', text: "Th∆∞·ªùng xuy√™n, t√¥i th√≠ch kh√°m ph√° c√°c √Ω t∆∞·ªüng." }] },
                { dimension: 'T_F', question: "B·∫°n c√≥ d·ªÖ d√†ng ƒë·ªìng c·∫£m v·ªõi c·∫£m x√∫c c·ªßa ng∆∞·ªùi kh√°c kh√¥ng?", options: [{ trait: 'T', text: "T√¥i hi·ªÉu h·ªç, nh∆∞ng kh√¥ng nh·∫•t thi·∫øt 'c·∫£m' ƒë∆∞·ª£c." }, { trait: 'F', text: "C√≥, t√¥i th∆∞·ªùng c·∫£m nh·∫≠n ƒë∆∞·ª£c c·∫£m x√∫c c·ªßa h·ªç." }] },
                { dimension: 'J_P', question: "M·ªôt danh s√°ch c√¥ng vi·ªác (to-do list) ƒë·ªëi v·ªõi b·∫°n l√†:", options: [{ trait: 'J', text: "R·∫•t c·∫ßn thi·∫øt, t√¥i b√°m s√°t n√≥." }, { trait: 'P', text: "Ch·ªâ l√† g·ª£i √Ω, t√¥i hay l√†m vi·ªác theo h·ª©ng." }] },
                { dimension: 'E_I', question: "B·∫°n th√≠ch l√†m trung t√¢m c·ªßa s·ª± ch√∫ √Ω?", options: [{ trait: 'E', text: "C√≥, t√¥i th√≠ch ƒëi·ªÅu ƒë√≥ trong c√°c t√¨nh hu·ªëng ph√π h·ª£p." }, { trait: 'I', text: "Kh√¥ng, t√¥i th√≠ch ·ªü h·∫≠u tr∆∞·ªùng h∆°n." }] },
                { dimension: 'S_N', question: "B·∫°n th√≠ch c√°c h∆∞·ªõng d·∫´n:", options: [{ trait: 'S', text: "C·ª• th·ªÉ, r√µ r√†ng t·ª´ng b∆∞·ªõc." }, { trait: 'N', text: "T·ªïng quan, cho t√¥i t·ª± do s√°ng t·∫°o c√°ch l√†m." }] },
                { dimension: 'T_F', question: "Khi ƒë∆∞a ra l·ªùi khuy√™n, b·∫°n t·∫≠p trung v√†o:", options: [{ trait: 'T', text: "Gi·∫£i ph√°p th·ª±c t·∫ø, logic." }, { trait: 'F', text: "S·ª± ·ªßng h·ªô tinh th·∫ßn, l·∫Øng nghe." }] },
                { dimension: 'J_P', question: "B·∫°n c·∫£m th·∫•y cƒÉng th·∫≥ng khi:", options: [{ trait: 'J', text: "M·ªçi th·ª© kh√¥ng theo k·∫ø ho·∫°ch." }, { trait: 'P', text: "Ph·∫£i tu√¢n theo m·ªôt l·ªãch tr√¨nh qu√° c·ª©ng nh·∫Øc." }] },
                { dimension: 'E_I', question: "B·∫°n c√≥ nhi·ªÅu b·∫°n b√® v√† m·ªëi quan h·ªá x√£ h·ªôi r·ªông?", options: [{ trait: 'E', text: "C√≥, t√¥i quen bi·∫øt nhi·ªÅu ng∆∞·ªùi." }, { trait: 'I', text: "Kh√¥ng, t√¥i ch·ªâ c√≥ m·ªôt v√†i ng∆∞·ªùi b·∫°n th√¢n." }] },
                { dimension: 'S_N', question: "B·∫°n c√≥ hay ch√∫ √Ω ƒë·∫øn c√°c chi ti·∫øt nh·ªè nh·∫∑t xung quanh kh√¥ng?", options: [{ trait: 'S', text: "C√≥, t√¥i r·∫•t tinh √Ω." }, { trait: 'N', text: "Kh√¥ng, t√¥i hay b·ªè qua chi ti·∫øt v√† nh√¨n t·ªïng th·ªÉ." }] },
                { dimension: 'T_F', question: "B·∫°n th·∫•y kh√≥ khƒÉn khi ph·∫£i ƒë∆∞a ra quy·∫øt ƒë·ªãnh ·∫£nh h∆∞·ªüng x·∫•u ƒë·∫øn ng∆∞·ªùi kh√°c?", options: [{ trait: 'T', text: "Kh√≥ khƒÉn, nh∆∞ng n·∫øu logic, t√¥i v·∫´n l√†m." }, { trait: 'F', text: "R·∫•t kh√≥ khƒÉn, t√¥i c·ªë g·∫Øng tr√°nh l√†m t·ªïn th∆∞∆°ng ng∆∞·ªùi kh√°c." }] },
                { dimension: 'J_P', question: "B·∫°n th√≠ch m·ªôt c√¥ng vi·ªác:", options: [{ trait: 'J', text: "·ªîn ƒë·ªãnh, c√≥ c·∫•u tr√∫c r√µ r√†ng." }, { trait: 'P', text: "NƒÉng ƒë·ªông, lu√¥n thay ƒë·ªïi v√† c√≥ th·ª≠ th√°ch m·ªõi." }] },
                { dimension: 'E_I', question: "Khi ·ªü m·ªôt m√¨nh qu√° l√¢u, b·∫°n c·∫£m th·∫•y:", options: [{ trait: 'E', text: "Bu·ªìn ch√°n, m·∫•t nƒÉng l∆∞·ª£ng." }, { trait: 'I', text: "Tho·∫£i m√°i, ƒë∆∞·ª£c n·∫°p l·∫°i nƒÉng l∆∞·ª£ng." }] },
                { dimension: 'S_N', question: "B·∫°n c√≥ tin v√†o 'linh c·∫£m' hay 'tr·ª±c gi√°c' kh√¥ng?", options: [{ trait: 'S', text: "Kh√¥ng h·∫≥n, t√¥i tin v√†o b·∫±ng ch·ª©ng." }, { trait: 'N', text: "C√≥, t√¥i th∆∞·ªùng tin v√†o tr·ª±c gi√°c c·ªßa m√¨nh." }] },
                { dimension: 'T_F', question: "S·ª± th·∫≠t hay s·ª± h√≤a h·ª£p quan tr·ªçng h∆°n?", options: [{ trait: 'T', text: "S·ª± th·∫≠t lu√¥n quan tr·ªçng nh·∫•t." }, { trait: 'F', text: "S·ª± h√≤a h·ª£p c≈©ng quan tr·ªçng kh√¥ng k√©m." }] },
                { dimension: 'J_P', question: "B·∫°n c√≥ hay tr√¨ ho√£n c√¥ng vi·ªác kh√¥ng?", options: [{ trait: 'J', text: "Hi·∫øm khi, t√¥i th√≠ch ho√†n th√†nh m·ªçi th·ª©." }, { trait: 'P', text: "Kh√° th∆∞·ªùng xuy√™n, t√¥i l√†m vi·ªác t·ªët nh·∫•t khi g·∫ßn deadline." }] },
                { dimension: 'E_I', question: "B·∫°n th√≠ch c√°c b·ªØa ti·ªác l·ªõn hay c√°c cu·ªôc g·∫∑p g·ª° nh·ªè?", options: [{ trait: 'E', text: "Ti·ªác l·ªõn, c√†ng ƒë√¥ng c√†ng vui." }, { trait: 'I', text: "G·∫∑p g·ª° nh√≥m nh·ªè, th√¢n m·∫≠t." }] },
                { dimension: 'S_N', question: "B·∫°n c√≥ ph·∫£i l√† ng∆∞·ªùi 'th·ª±c t·∫ø' kh√¥ng?", options: [{ trait: 'S', text: "V√¢ng, t√¥i lu√¥n ƒë·ª©ng tr√™n m·∫∑t ƒë·∫•t." }, { trait: 'N', text: "T√¥i l√† ng∆∞·ªùi 'm∆° m·ªông' nhi·ªÅu h∆°n." }] },
                { dimension: 'T_F', question: "B·∫°n ƒë√°nh gi√° m·ªôt b·ªô phim d·ª±a tr√™n:", options: [{ trait: 'T', text: "C·ªët truy·ªán logic, k·ªπ x·∫£o, di·ªÖn xu·∫•t." }, { trait: 'F', text: "C·∫£m x√∫c, th√¥ng ƒëi·ªáp m√† n√≥ mang l·∫°i." }] },
                { dimension: 'J_P', question: "B·∫°n th√≠ch m·ªçi th·ª© ƒë∆∞·ª£c:", options: [{ trait: 'J', text: "Quy·∫øt ƒë·ªãnh r√µ r√†ng." }, { trait: 'P', text: "ƒê·ªÉ m·ªü, linh ho·∫°t thay ƒë·ªïi." }] }
            ];

            const totalQuestions = quizData.length; // 40 c√¢u
            let currentQuestionIndex = 0;
            let scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            let userSelections = new Array(totalQuestions).fill(null);

            function updateOverallProgress() {
                const overallProgressBar = document.getElementById('mbti-overall-progress-bar');
                if (overallProgressBar) {
                    const completedQuestions = userSelections.filter(s => s !== null).length;
                    const progressPercent = (completedQuestions / totalQuestions) * 100;
                    overallProgressBar.style.width = `${progressPercent}%`;
                }
            }

            function renderQuestion() {
                updateOverallProgress();
                const quizArea = document.getElementById('mbti-quiz-area');
                if (!quizArea) return;

                if (currentQuestionIndex >= totalQuestions) {
                    showResults();
                    return;
                }

                const questionData = quizData[currentQuestionIndex];
                const currentSelection = userSelections[currentQuestionIndex];

                let optionsHtml = `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                        ${questionData.options.map((option, index) => {
                            const isSelected = currentSelection === option.trait;
                            const color = `var(--tw-mbti-${option.trait.toLowerCase()})`;
                            // S·ª≠ d·ª•ng m√†u xanh l√° chung cho highlight khi ch·ªçn
                            const selectedClass = isSelected ? `ring-4 ring-opacity-50 ring-green-500 border-green-500 border-4` : 'border-gray-200';
                            return `
                                <div class="option-card p-4 bg-white rounded-xl border-2 ${selectedClass} shadow-md hover:border-green-400 hover:border-4 cursor-pointer transition-all duration-200"
                                    onclick="MBTIEngine.selectOption('${questionData.dimension}', '${option.trait}')">
                                    <div class="flex items-center space-x-4">
                                         <!-- Gi·ªØ m√†u ch·ªØ theo trait -->
                                        <div class="text-2xl font-bold w-6 text-center" style="color: ${color};">${option.trait}</div>
                                        <p class="text-gray-700 font-medium text-left">${option.text}</p>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;

                quizArea.innerHTML = `
                    <div class="bg-white p-6 md:p-8 border-l-4 border-green-500 rounded-lg shadow-xl mb-8">
                        <h3 class="text-xl md:text-2xl font-semibold text-gray-800">${questionData.question} <span class="text-sm font-normal text-gray-500 block mt-2">(C√¢u ${currentQuestionIndex + 1} / ${totalQuestions})</span></h3>
                    </div>

                    ${optionsHtml}

                    <div class="flex justify-between mt-8">
                        <button onclick="MBTIEngine.prevQuestion()" ${currentQuestionIndex === 0 ? 'disabled' : ''}
                                class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ${currentQuestionIndex === 0 ? 'opacity-50 cursor-not-allowed' : 'shadow-md'}">
                            ‚Üê Quay l·∫°i
                        </button>
                        <button onclick="MBTIEngine.nextQuestion()" ${currentSelection === null ? 'disabled' : ''}
                                class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300 ${currentSelection === null ? 'opacity-50 cursor-not-allowed' : 'shadow-lg transform hover:scale-105'}">
                            ${currentQuestionIndex === totalQuestions - 1 ? 'Xem K·∫øt Qu·∫£' : 'Ti·∫øp Theo ‚Üí'}
                        </button>
                    </div>
                `;
            }

            function selectOption(dimension, trait) {
                const previousSelection = userSelections[currentQuestionIndex];

                // Gi·∫£m ƒëi·ªÉm c·ªßa l·ª±a ch·ªçn c≈© n·∫øu c√≥
                if (previousSelection) {
                    scores[previousSelection]--;
                }

                // TƒÉng ƒëi·ªÉm cho l·ª±a ch·ªçn m·ªõi
                scores[trait]++;
                userSelections[currentQuestionIndex] = trait;
                renderQuestion(); // V·∫Ω l·∫°i c√¢u h·ªèi
            }

            function nextQuestion() {
                if (userSelections[currentQuestionIndex] === null) return;
                currentQuestionIndex++;
                renderQuestion();
            }

            function prevQuestion() {
                if (currentQuestionIndex > 0) {
                    currentQuestionIndex--;
                    renderQuestion();
                }
            }

            function calculateType(dim1, dim2) {
                // ƒê·∫£m b·∫£o ƒëi·ªÉm kh√¥ng √¢m
                const score1 = Math.max(0, scores[dim1]);
                const score2 = Math.max(0, scores[dim2]);
                return score1 >= score2 ? dim1 : dim2;
            }

            function getMBTITitle(code) {
                const titles = {
                    'E': 'H∆∞·ªõng ngo·∫°i', 'I': 'H∆∞·ªõng n·ªôi',
                    'S': 'C·∫£m gi√°c', 'N': 'Tr·ª±c gi√°c',
                    'T': 'L√Ω tr√≠', 'F': 'T√¨nh c·∫£m',
                    'J': 'Nguy√™n t·∫Øc', 'P': 'Linh ho·∫°t'
                };
                 // L·∫•y t√™n ƒë·∫ßy ƒë·ªß cho t·ª´ng ch·ªØ c√°i
                return code.split('').map(c => titles[c] || c).join(' - ');
            }

            function showResults() {
                 const progressBar = document.getElementById('mbti-overall-progress-bar');
                 const quizArea = document.getElementById('mbti-quiz-area');
                 const resultArea = document.getElementById('mbti-result-area');

                 if (progressBar) progressBar.style.width = '100%';
                 if (quizArea) quizArea.classList.add('hidden');
                 if (resultArea) resultArea.classList.remove('hidden');

                const finalCode =
                    calculateType('E', 'I') +
                    calculateType('S', 'N') +
                    calculateType('T', 'F') +
                    calculateType('J', 'P');

                const fullTitle = getMBTITitle(finalCode);
                // L·∫•y m√†u d·ª±a tr√™n ch·ªØ c√°i ƒë·∫ßu ti√™n (E ho·∫∑c I)
                const topColor = `var(--tw-mbti-${finalCode.charAt(0).toLowerCase()})`;

                const mainStyleDisplay = document.getElementById('mbti-main-style-display');
                if (mainStyleDisplay) {
                     mainStyleDisplay.innerHTML = `
                         <p class="text-xl font-medium text-gray-800">Lo·∫°i h√¨nh t√≠nh c√°ch MBTI c·ªßa b·∫°n l√†:</p>
                         <h3 class="text-6xl font-extrabold mt-2 mb-4" style="color: ${topColor};">${finalCode}</h3>
                         <p class="text-lg text-gray-700 mt-1">(${fullTitle})</p>
                     `;
                 }

                 const resultDescriptionEl = document.getElementById('mbti-result-description');
                 if (resultDescriptionEl) {
                     resultDescriptionEl.innerHTML = `
                         <p class="mb-4">K·∫øt qu·∫£ c·ªßa b·∫°n l√† <strong>${finalCode}</strong>. ƒê√¢y l√† lo·∫°i h√¨nh t√≠nh c√°ch n·ªïi b·∫≠t v·ªõi c√°c ƒë·∫∑c ƒëi·ªÉm:</p>
                         <ul class="list-disc pl-5 space-y-1 text-gray-800">
                             <li><strong>${calculateType('E', 'I')} (${scores['E']}E/${scores['I']}I):</strong> ${calculateType('E', 'I') === 'E' ? 'B·∫°n nh·∫≠n nƒÉng l∆∞·ª£ng t·ª´ t∆∞∆°ng t√°c x√£ h·ªôi.' : 'B·∫°n nh·∫≠n nƒÉng l∆∞·ª£ng t·ª´ vi·ªác ·ªü m·ªôt m√¨nh.'}</li>
                             <li><strong>${calculateType('S', 'N')} (${scores['S']}S/${scores['N']}N):</strong> ${calculateType('S', 'N') === 'S' ? 'B·∫°n t·∫≠p trung v√†o th·ª±c t·∫ø, chi ti·∫øt.' : 'B·∫°n t·∫≠p trung v√†o √Ω t∆∞·ªüng, kh·∫£ nƒÉng.'}</li>
                             <li><strong>${calculateType('T', 'F')} (${scores['T']}T/${scores['F']}F):</strong> ${calculateType('T', 'F') === 'T' ? 'B·∫°n ra quy·∫øt ƒë·ªãnh d·ª±a tr√™n l√Ω tr√≠, logic.' : 'B·∫°n ra quy·∫øt ƒë·ªãnh d·ª±a tr√™n c·∫£m x√∫c, gi√° tr·ªã.'}</li>
                             <li><strong>${calculateType('J', 'P')} (${scores['J']}J/${scores['P']}P):</strong> ${calculateType('J', 'P') === 'J' ? 'B·∫°n th√≠ch s·ª± ngƒÉn n·∫Øp, c√≥ k·∫ø ho·∫°ch.' : 'B·∫°n th√≠ch s·ª± linh ho·∫°t, t√πy bi·∫øn.'}</li>
                         </ul>
                         <p class="text-sm italic mt-4">L∆∞u √Ω: Tr·∫Øc nghi·ªám n√†y ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o ƒë·ªÉ kh√°m ph√° b·∫£n th√¢n. K·∫øt qu·∫£ MBTI chuy√™n nghi·ªáp c·∫ßn ƒë∆∞·ª£c th·ª±c hi·ªán b·ªüi chuy√™n gia.</p>
                     `;
                 }
                 const resultProfileEl = document.getElementById('mbti-result-profile');
                 // S·ª≠ d·ª•ng m√†u xanh l√° c·ªë ƒë·ªãnh cho border top
                 if (resultProfileEl) resultProfileEl.style.borderTopColor = 'var(--tw-mbti-i)'; // M√†u xanh l√° c·ªßa I
            }

            function restartQuiz() {
                currentQuestionIndex = 0;
                scores = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
                userSelections = new Array(totalQuestions).fill(null);

                const quizArea = document.getElementById('mbti-quiz-area');
                const resultArea = document.getElementById('mbti-result-area');
                const progressBar = document.getElementById('mbti-overall-progress-bar');

                if (quizArea) quizArea.classList.remove('hidden');
                if (resultArea) resultArea.classList.add('hidden');
                if (progressBar) progressBar.style.width = '0%';
                renderQuestion();
            }

            return { initialize: renderQuestion, selectOption, nextQuestion, prevQuestion, restartQuiz };
        })();

        // --- KH·ªûI T·∫†O QUIZ ENGINE ---
        function initializeQuiz(mode) {
             console.log("Initializing quiz:", mode);
            if (mode === 'disc') DISCEngine.restartQuiz();
            else if (mode === 'holland') HollandEngine.restartQuiz();
            else if (mode === 'mbti') MBTIEngine.restartQuiz();
        }

        // --- VISITOR COUNTER ---
        function updateVisitorCount() {
            try {
                let count = localStorage.getItem('visitorCount');
                if (count === null) {
                    count = 1;
                } else {
                    count = parseInt(count) + 1;
                }
                localStorage.setItem('visitorCount', count);
            } catch (e) {
                console.warn("Kh√¥ng th·ªÉ truy c·∫≠p localStorage:", e);
            }
        }

        // --- GLOBAL EVENT LISTENERS ---
        window.onclick = function(event) {
            const storyModal = document.getElementById('storyModal');
            const alertModal = document.getElementById('customAlertModal'); // Gi·∫£ s·ª≠ b·∫°n c√≥ modal n√†y

            if (storyModal && event.target == storyModal) { // Check if modal exists
                closeStoryModal();
            }
            if (alertModal && event.target == alertModal) {
                alertModal.style.display = 'none';
            }
        }

        // G√°n s·ª± ki·ªán ƒë√≥ng modal cho n√∫t (X) - ƒê·∫£m b·∫£o ch·∫°y sau khi DOM s·∫µn s√†ng
        document.addEventListener('DOMContentLoaded', () => {
             const closeBtn = document.querySelector('#storyModal .close-btn');
             if (closeBtn) {
                 closeBtn.onclick = closeStoryModal;
             }
             const alertCloseBtn = document.querySelector('#customAlertModal .close-btn');
              if (alertCloseBtn) {
                 alertCloseBtn.onclick = function() {
                      const alertModal = document.getElementById('customAlertModal');
                      if (alertModal) alertModal.style.display = 'none';
                 }
             }
        });


        // --- INITIALIZATION ---
        window.addEventListener('load', function() { // S·ª≠ d·ª•ng addEventListener thay v√¨ onload
            showPage('home');
            updateVisitorCount();
            logVisitorIP(); // G·ªçi h√†m log IP khi t·∫£i xong
        });

      // --- Theo d√µi IP ng∆∞·ªùi truy c·∫≠p ---
      async function logVisitorIP() {
        try {
          const response = await fetch('https://api.ipify.org?format=json');
           if (!response.ok) throw new Error('Failed to fetch IP');
          const data = await response.json();
          const ip = data.ip;
          const time = new Date().toLocaleString("vi-VN", { timeZone: "Asia/Ho_Chi_Minh" });
          console.log(`üëÅÔ∏è L∆∞·ª£t truy c·∫≠p m·ªõi | IP: ${ip} | Th·ªùi gian: ${time}`);
          // Kh√¥ng l∆∞u IP v√†o localStorage v√¨ l√Ω do ri√™ng t∆∞
          localStorage.setItem('lastVisitTime', time);
        } catch (err) {
          console.warn('Kh√¥ng th·ªÉ l·∫•y IP ng∆∞·ªùi d√πng:', err);
        }
      }
      // Kh√¥ng c·∫ßn g·ªçi l·∫°i window.addEventListener('load', logVisitorIP); v√¨ ƒë√£ g·ªçi trong listener ·ªü tr√™n
    </script>
</body>
</html>

